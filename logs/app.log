2025-11-03 08:46:51,736 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:46:51,739 - app - INFO - Flask app created with config: development
2025-11-03 08:46:51,740 - app - INFO - Debug mode: True
2025-11-03 08:46:51,740 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:46:51,752 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:46:51,752 - app - INFO - Flask app created with config: development
2025-11-03 08:46:51,752 - app - INFO - Debug mode: True
2025-11-03 08:46:51,753 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:46:51,764 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:46:51,764 - app - INFO - Flask app created with config: development
2025-11-03 08:46:51,764 - app - INFO - Debug mode: True
2025-11-03 08:46:51,764 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:46:51,771 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:46:51,771 - app - INFO - Flask app created with config: development
2025-11-03 08:46:51,771 - app - INFO - Debug mode: True
2025-11-03 08:46:51,772 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:50:52,337 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:50:52,338 - app - INFO - Flask app created with config: development
2025-11-03 08:50:52,338 - app - INFO - Debug mode: True
2025-11-03 08:50:52,338 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:50:52,428 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:50:52,428 - app - INFO - Flask app created with config: development
2025-11-03 08:50:52,428 - app - INFO - Debug mode: True
2025-11-03 08:50:52,429 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:50:52,446 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:50:52,447 - app - INFO - Flask app created with config: development
2025-11-03 08:50:52,447 - app - INFO - Debug mode: True
2025-11-03 08:50:52,447 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:50:52,552 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:50:52,552 - app - INFO - Flask app created with config: development
2025-11-03 08:50:52,553 - app - INFO - Debug mode: True
2025-11-03 08:50:52,553 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:54:22,325 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:54:22,325 - app - INFO - Flask app created with config: development
2025-11-03 08:54:22,326 - app - INFO - Debug mode: True
2025-11-03 08:54:22,326 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:54:22,327 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:54:22,327 - app - INFO - Flask app created with config: development
2025-11-03 08:54:22,327 - app - INFO - Debug mode: True
2025-11-03 08:54:22,327 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:54:22,391 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:54:22,392 - app - INFO - Flask app created with config: development
2025-11-03 08:54:22,392 - app - INFO - Debug mode: True
2025-11-03 08:54:22,392 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:54:22,455 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:54:22,455 - app - INFO - Flask app created with config: development
2025-11-03 08:54:22,456 - app - INFO - Debug mode: True
2025-11-03 08:54:22,456 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:57:34,411 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:57:34,412 - app - INFO - Flask app created with config: development
2025-11-03 08:57:34,413 - app - INFO - Debug mode: True
2025-11-03 08:57:34,413 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:57:34,501 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:57:34,501 - app - INFO - Flask app created with config: development
2025-11-03 08:57:34,501 - app - INFO - Debug mode: True
2025-11-03 08:57:34,502 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:57:34,544 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:57:34,544 - app - INFO - Flask app created with config: development
2025-11-03 08:57:34,545 - app - INFO - Debug mode: True
2025-11-03 08:57:34,545 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 08:57:34,549 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 08:57:34,549 - app - INFO - Flask app created with config: development
2025-11-03 08:57:34,549 - app - INFO - Debug mode: True
2025-11-03 08:57:34,550 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:03,690 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:03,691 - app - INFO - Flask app created with config: development
2025-11-03 09:02:03,691 - app - INFO - Debug mode: True
2025-11-03 09:02:03,691 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:03,745 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:03,745 - app - INFO - Flask app created with config: development
2025-11-03 09:02:03,745 - app - INFO - Debug mode: True
2025-11-03 09:02:03,746 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:03,804 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:03,804 - app - INFO - Flask app created with config: development
2025-11-03 09:02:03,805 - app - INFO - Debug mode: True
2025-11-03 09:02:03,805 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:03,893 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:03,893 - app - INFO - Flask app created with config: development
2025-11-03 09:02:03,893 - app - INFO - Debug mode: True
2025-11-03 09:02:03,893 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:33,556 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:33,556 - app - INFO - Flask app created with config: development
2025-11-03 09:02:33,557 - app - INFO - Debug mode: True
2025-11-03 09:02:33,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:33,558 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:33,559 - app - INFO - Flask app created with config: development
2025-11-03 09:02:33,559 - app - INFO - Debug mode: True
2025-11-03 09:02:33,560 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:33,561 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:33,562 - app - INFO - Flask app created with config: development
2025-11-03 09:02:33,562 - app - INFO - Debug mode: True
2025-11-03 09:02:33,562 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:02:33,579 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:02:33,579 - app - INFO - Flask app created with config: development
2025-11-03 09:02:33,579 - app - INFO - Debug mode: True
2025-11-03 09:02:33,580 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:05:05,732 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:05:05,733 - app - INFO - Flask app created with config: development
2025-11-03 09:05:05,734 - app - INFO - Debug mode: True
2025-11-03 09:05:05,734 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:05:05,801 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:05:05,802 - app - INFO - Flask app created with config: development
2025-11-03 09:05:05,802 - app - INFO - Debug mode: True
2025-11-03 09:05:05,802 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:05:05,881 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:05:05,881 - app - INFO - Flask app created with config: development
2025-11-03 09:05:05,882 - app - INFO - Debug mode: True
2025-11-03 09:05:05,883 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:05:05,888 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:05:05,888 - app - INFO - Flask app created with config: development
2025-11-03 09:05:05,888 - app - INFO - Debug mode: True
2025-11-03 09:05:05,889 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:08:54,684 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:08:54,684 - app - INFO - Flask app created with config: development
2025-11-03 09:08:54,686 - app - INFO - Debug mode: True
2025-11-03 09:08:54,686 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:08:54,736 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:08:54,736 - app - INFO - Flask app created with config: development
2025-11-03 09:08:54,737 - app - INFO - Debug mode: True
2025-11-03 09:08:54,737 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:08:54,776 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:08:54,777 - app - INFO - Flask app created with config: development
2025-11-03 09:08:54,777 - app - INFO - Debug mode: True
2025-11-03 09:08:54,778 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:08:54,787 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:08:54,787 - app - INFO - Flask app created with config: development
2025-11-03 09:08:54,788 - app - INFO - Debug mode: True
2025-11-03 09:08:54,788 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:10:36,734 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:10:36,734 - app - INFO - Flask app created with config: development
2025-11-03 09:10:36,735 - app - INFO - Debug mode: True
2025-11-03 09:10:36,736 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:10:36,737 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:10:36,737 - app - INFO - Flask app created with config: development
2025-11-03 09:10:36,737 - app - INFO - Debug mode: True
2025-11-03 09:10:36,738 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:10:36,773 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:10:36,773 - app - INFO - Flask app created with config: development
2025-11-03 09:10:36,774 - app - INFO - Debug mode: True
2025-11-03 09:10:36,774 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:10:36,790 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:10:36,790 - app - INFO - Flask app created with config: development
2025-11-03 09:10:36,790 - app - INFO - Debug mode: True
2025-11-03 09:10:36,794 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:12:32,238 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:12:32,238 - app - INFO - Flask app created with config: development
2025-11-03 09:12:32,242 - app - INFO - Debug mode: True
2025-11-03 09:12:32,243 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:12:32,247 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:12:32,248 - app - INFO - Flask app created with config: development
2025-11-03 09:12:32,249 - app - INFO - Debug mode: True
2025-11-03 09:12:32,250 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:12:32,283 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:12:32,283 - app - INFO - Flask app created with config: development
2025-11-03 09:12:32,283 - app - INFO - Debug mode: True
2025-11-03 09:12:32,283 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:12:32,398 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:12:32,398 - app - INFO - Flask app created with config: development
2025-11-03 09:12:32,399 - app - INFO - Debug mode: True
2025-11-03 09:12:32,399 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:13:52,845 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:13:52,846 - app - INFO - Flask app created with config: development
2025-11-03 09:13:52,847 - app - INFO - Debug mode: True
2025-11-03 09:13:52,847 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:13:52,850 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:13:52,850 - app - INFO - Flask app created with config: development
2025-11-03 09:13:52,850 - app - INFO - Debug mode: True
2025-11-03 09:13:52,851 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:13:52,881 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:13:52,881 - app - INFO - Flask app created with config: development
2025-11-03 09:13:52,881 - app - INFO - Debug mode: True
2025-11-03 09:13:52,882 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 09:13:52,907 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 09:13:52,907 - app - INFO - Flask app created with config: development
2025-11-03 09:13:52,907 - app - INFO - Debug mode: True
2025-11-03 09:13:52,908 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:00:40,642 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:00:40,642 - app - INFO - Flask app created with config: development
2025-11-03 10:00:40,642 - app - INFO - Debug mode: True
2025-11-03 10:00:40,643 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:00:40,719 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:00:40,719 - app - INFO - Flask app created with config: development
2025-11-03 10:00:40,720 - app - INFO - Debug mode: True
2025-11-03 10:00:40,720 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:00:40,752 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:00:40,753 - app - INFO - Flask app created with config: development
2025-11-03 10:00:40,753 - app - INFO - Debug mode: True
2025-11-03 10:00:40,753 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:00:40,768 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:00:40,769 - app - INFO - Flask app created with config: development
2025-11-03 10:00:40,769 - app - INFO - Debug mode: True
2025-11-03 10:00:40,769 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:04:46,907 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:04:46,908 - app - INFO - Flask app created with config: development
2025-11-03 10:04:46,909 - app - INFO - Debug mode: True
2025-11-03 10:04:46,909 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:04:46,934 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:04:46,934 - app - INFO - Flask app created with config: development
2025-11-03 10:04:46,934 - app - INFO - Debug mode: True
2025-11-03 10:04:46,934 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:04:47,007 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:04:47,007 - app - INFO - Flask app created with config: development
2025-11-03 10:04:47,007 - app - INFO - Debug mode: True
2025-11-03 10:04:47,007 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:04:47,013 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:04:47,013 - app - INFO - Flask app created with config: development
2025-11-03 10:04:47,014 - app - INFO - Debug mode: True
2025-11-03 10:04:47,014 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:11:12,187 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:11:12,187 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:11:12,189 - app - INFO - Flask app created with config: development
2025-11-03 10:11:12,189 - app - INFO - Flask app created with config: development
2025-11-03 10:11:12,189 - app - INFO - Debug mode: True
2025-11-03 10:11:12,189 - app - INFO - Debug mode: True
2025-11-03 10:11:12,189 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:11:12,190 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:11:12,193 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:11:12,194 - app - INFO - Flask app created with config: development
2025-11-03 10:11:12,195 - app - INFO - Debug mode: True
2025-11-03 10:11:12,196 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:11:12,213 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:11:12,213 - app - INFO - Flask app created with config: development
2025-11-03 10:11:12,213 - app - INFO - Debug mode: True
2025-11-03 10:11:12,214 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:11:54,813 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:11:54,814 - app - INFO - Flask app created with config: development
2025-11-03 10:11:54,815 - app - INFO - Debug mode: True
2025-11-03 10:11:54,815 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:17:09,047 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:17:09,048 - app - INFO - Flask app created with config: development
2025-11-03 10:17:09,048 - app - INFO - Debug mode: True
2025-11-03 10:17:09,048 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:19:23,194 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:19:23,195 - app - INFO - Flask app created with config: development
2025-11-03 10:19:23,195 - app - INFO - Debug mode: True
2025-11-03 10:19:23,196 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:19:34,245 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:19:34,245 - app - INFO - Flask app created with config: development
2025-11-03 10:19:34,245 - app - INFO - Debug mode: True
2025-11-03 10:19:34,245 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:19:45,367 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:19:45,367 - app - INFO - Flask app created with config: development
2025-11-03 10:19:45,368 - app - INFO - Debug mode: True
2025-11-03 10:19:45,368 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:28:53,018 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:28:53,019 - app - INFO - Flask app created with config: development
2025-11-03 10:28:53,019 - app - INFO - Debug mode: True
2025-11-03 10:28:53,019 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:29:28,756 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:29:28,757 - app - INFO - Flask app created with config: development
2025-11-03 10:29:28,757 - app - INFO - Debug mode: True
2025-11-03 10:29:28,757 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:29:28,787 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:29:28,787 - app - INFO - Flask app created with config: development
2025-11-03 10:29:28,788 - app - INFO - Debug mode: True
2025-11-03 10:29:28,788 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:29:28,846 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:29:28,846 - app - INFO - Flask app created with config: development
2025-11-03 10:29:28,846 - app - INFO - Debug mode: True
2025-11-03 10:29:28,846 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:29:28,861 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:29:28,861 - app - INFO - Flask app created with config: development
2025-11-03 10:29:28,861 - app - INFO - Debug mode: True
2025-11-03 10:29:28,862 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:30:12,800 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:30:12,801 - app - INFO - Flask app created with config: development
2025-11-03 10:30:12,802 - app - INFO - Debug mode: True
2025-11-03 10:30:12,802 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:31:00,545 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:31:00,545 - app - INFO - Flask app created with config: development
2025-11-03 10:31:00,545 - app - INFO - Debug mode: True
2025-11-03 10:31:00,546 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:36:39,824 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:36:39,825 - app - INFO - Flask app created with config: development
2025-11-03 10:36:39,826 - app - INFO - Debug mode: True
2025-11-03 10:36:39,826 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:37:09,646 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:37:09,646 - app - INFO - Flask app created with config: development
2025-11-03 10:37:09,647 - app - INFO - Debug mode: True
2025-11-03 10:37:09,647 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:37:54,103 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:37:54,104 - app - INFO - Flask app created with config: development
2025-11-03 10:37:54,104 - app - INFO - Debug mode: True
2025-11-03 10:37:54,104 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:38:33,901 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:38:33,902 - app - INFO - Flask app created with config: development
2025-11-03 10:38:33,903 - app - INFO - Debug mode: True
2025-11-03 10:38:33,903 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:38:59,305 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:38:59,306 - app - INFO - Flask app created with config: development
2025-11-03 10:38:59,307 - app - INFO - Debug mode: True
2025-11-03 10:38:59,307 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:40:40,160 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:40:40,161 - app - INFO - Flask app created with config: development
2025-11-03 10:40:40,162 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:40:40,162 - app - INFO - Debug mode: True
2025-11-03 10:40:40,162 - app - INFO - Flask app created with config: development
2025-11-03 10:40:40,163 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:40:40,163 - app - INFO - Debug mode: True
2025-11-03 10:40:40,165 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:40:40,198 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:40:40,198 - app - INFO - Flask app created with config: development
2025-11-03 10:40:40,199 - app - INFO - Debug mode: True
2025-11-03 10:40:40,199 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:40:40,208 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:40:40,208 - app - INFO - Flask app created with config: development
2025-11-03 10:40:40,208 - app - INFO - Debug mode: True
2025-11-03 10:40:40,209 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:41:33,367 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:41:33,368 - app - INFO - Flask app created with config: development
2025-11-03 10:41:33,368 - app - INFO - Debug mode: True
2025-11-03 10:41:33,368 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:43:47,794 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:43:47,794 - app - INFO - Flask app created with config: development
2025-11-03 10:43:47,794 - app - INFO - Debug mode: True
2025-11-03 10:43:47,795 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:43:58,295 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:43:58,296 - app - INFO - Flask app created with config: development
2025-11-03 10:43:58,296 - app - INFO - Debug mode: True
2025-11-03 10:43:58,296 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:44:09,135 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:44:09,136 - app - INFO - Flask app created with config: development
2025-11-03 10:44:09,136 - app - INFO - Debug mode: True
2025-11-03 10:44:09,136 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:49:37,047 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:49:37,048 - app - INFO - Flask app created with config: development
2025-11-03 10:49:37,048 - app - INFO - Debug mode: True
2025-11-03 10:49:37,049 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:53:00,601 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:53:00,602 - app - INFO - Flask app created with config: development
2025-11-03 10:53:00,603 - app - INFO - Debug mode: True
2025-11-03 10:53:00,604 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:53:00,628 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:53:00,628 - app - INFO - Flask app created with config: development
2025-11-03 10:53:00,629 - app - INFO - Debug mode: True
2025-11-03 10:53:00,629 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:53:00,700 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:53:00,700 - app - INFO - Flask app created with config: development
2025-11-03 10:53:00,700 - app - INFO - Debug mode: True
2025-11-03 10:53:00,701 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:53:00,736 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:53:00,736 - app - INFO - Flask app created with config: development
2025-11-03 10:53:00,736 - app - INFO - Debug mode: True
2025-11-03 10:53:00,736 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:53:04,430 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:53:04,430 - app - INFO - Flask app created with config: development
2025-11-03 10:53:04,431 - app - INFO - Debug mode: True
2025-11-03 10:53:04,431 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:54:37,886 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:54:37,887 - app - INFO - Flask app created with config: development
2025-11-03 10:54:37,887 - app - INFO - Debug mode: True
2025-11-03 10:54:37,887 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:54:46,389 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:54:46,389 - app - INFO - Flask app created with config: development
2025-11-03 10:54:46,389 - app - INFO - Debug mode: True
2025-11-03 10:54:46,389 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:55:08,347 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:55:08,348 - app - INFO - Flask app created with config: development
2025-11-03 10:55:08,348 - app - INFO - Debug mode: True
2025-11-03 10:55:08,348 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:55:45,482 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:55:45,483 - app - INFO - Flask app created with config: development
2025-11-03 10:55:45,483 - app - INFO - Debug mode: True
2025-11-03 10:55:45,484 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:55:54,275 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:55:54,276 - app - INFO - Flask app created with config: development
2025-11-03 10:55:54,276 - app - INFO - Debug mode: True
2025-11-03 10:55:54,276 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:56:42,068 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:56:42,069 - app - INFO - Flask app created with config: development
2025-11-03 10:56:42,070 - app - INFO - Debug mode: True
2025-11-03 10:56:42,070 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:57:57,814 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:57:57,814 - app - INFO - Flask app created with config: development
2025-11-03 10:57:57,814 - app - INFO - Debug mode: True
2025-11-03 10:57:57,814 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:57:58,711 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:57:58,711 - app - INFO - Flask app created with config: development
2025-11-03 10:57:58,711 - app - INFO - Debug mode: True
2025-11-03 10:57:58,711 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:58:12,590 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:58:12,590 - app - INFO - Flask app created with config: development
2025-11-03 10:58:12,591 - app - INFO - Debug mode: True
2025-11-03 10:58:12,591 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:59:04,248 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:59:04,249 - app - INFO - Flask app created with config: development
2025-11-03 10:59:04,249 - app - INFO - Debug mode: True
2025-11-03 10:59:04,249 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 10:59:05,062 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 10:59:05,062 - app - INFO - Flask app created with config: development
2025-11-03 10:59:05,062 - app - INFO - Debug mode: True
2025-11-03 10:59:05,063 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:01:02,623 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:01:02,623 - app - INFO - Flask app created with config: development
2025-11-03 11:01:02,623 - app - INFO - Debug mode: True
2025-11-03 11:01:02,623 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:01:23,066 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:01:23,066 - app - INFO - Flask app created with config: development
2025-11-03 11:01:23,067 - app - INFO - Debug mode: True
2025-11-03 11:01:23,067 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:01:32,517 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:01:32,517 - app - INFO - Flask app created with config: development
2025-11-03 11:01:32,518 - app - INFO - Debug mode: True
2025-11-03 11:01:32,518 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:02:57,907 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:02:57,908 - app - INFO - Flask app created with config: development
2025-11-03 11:02:57,908 - app - INFO - Debug mode: True
2025-11-03 11:02:57,908 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:03:12,116 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:03:12,116 - app - INFO - Flask app created with config: development
2025-11-03 11:03:12,116 - app - INFO - Debug mode: True
2025-11-03 11:03:12,116 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:03:49,003 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:03:49,004 - app - INFO - Flask app created with config: development
2025-11-03 11:03:49,004 - app - INFO - Debug mode: True
2025-11-03 11:03:49,004 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:03:59,853 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:03:59,854 - app - INFO - Flask app created with config: development
2025-11-03 11:03:59,854 - app - INFO - Debug mode: True
2025-11-03 11:03:59,854 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:04:04,414 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:04:04,415 - app - INFO - Flask app created with config: development
2025-11-03 11:04:04,415 - app - INFO - Debug mode: True
2025-11-03 11:04:04,415 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:04:18,805 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:04:18,805 - app - INFO - Flask app created with config: development
2025-11-03 11:04:18,805 - app - INFO - Debug mode: True
2025-11-03 11:04:18,805 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:05:46,760 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:05:46,761 - app - INFO - Flask app created with config: development
2025-11-03 11:05:46,762 - app - INFO - Debug mode: True
2025-11-03 11:05:46,762 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:05:46,786 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:05:46,787 - app - INFO - Flask app created with config: development
2025-11-03 11:05:46,787 - app - INFO - Debug mode: True
2025-11-03 11:05:46,787 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:05:46,823 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:05:46,823 - app - INFO - Flask app created with config: development
2025-11-03 11:05:46,823 - app - INFO - Debug mode: True
2025-11-03 11:05:46,824 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:05:46,845 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:05:46,845 - app - INFO - Flask app created with config: development
2025-11-03 11:05:46,846 - app - INFO - Debug mode: True
2025-11-03 11:05:46,846 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:08:01,762 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:08:01,763 - app - INFO - Flask app created with config: development
2025-11-03 11:08:01,763 - app - INFO - Debug mode: True
2025-11-03 11:08:01,764 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:08:24,323 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:08:24,324 - app - INFO - Flask app created with config: development
2025-11-03 11:08:24,325 - app - INFO - Debug mode: True
2025-11-03 11:08:24,325 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:08:37,516 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:08:37,516 - app - INFO - Flask app created with config: development
2025-11-03 11:08:37,517 - app - INFO - Debug mode: True
2025-11-03 11:08:37,517 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:09:46,190 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:09:46,191 - app - INFO - Flask app created with config: development
2025-11-03 11:09:46,191 - app - INFO - Debug mode: True
2025-11-03 11:09:46,191 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:10:00,864 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:10:00,864 - app - INFO - Flask app created with config: development
2025-11-03 11:10:00,865 - app - INFO - Debug mode: True
2025-11-03 11:10:00,865 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:11:13,217 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:11:13,217 - app - INFO - Flask app created with config: development
2025-11-03 11:11:13,217 - app - INFO - Debug mode: True
2025-11-03 11:11:13,218 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:11:13,302 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:11:13,302 - app - INFO - Flask app created with config: development
2025-11-03 11:11:13,302 - app - INFO - Debug mode: True
2025-11-03 11:11:13,302 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:11:13,362 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:11:13,362 - app - INFO - Flask app created with config: development
2025-11-03 11:11:13,362 - app - INFO - Debug mode: True
2025-11-03 11:11:13,362 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:11:13,433 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:11:13,434 - app - INFO - Flask app created with config: development
2025-11-03 11:11:13,434 - app - INFO - Debug mode: True
2025-11-03 11:11:13,434 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:11:34,093 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:11:34,094 - app - INFO - Flask app created with config: development
2025-11-03 11:11:34,094 - app - INFO - Debug mode: True
2025-11-03 11:11:34,095 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:12:00,311 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:12:00,312 - app - INFO - Flask app created with config: development
2025-11-03 11:12:00,312 - app - INFO - Debug mode: True
2025-11-03 11:12:00,312 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:12:00,390 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:12:00,390 - app - INFO - Flask app created with config: development
2025-11-03 11:12:00,394 - app - INFO - Debug mode: True
2025-11-03 11:12:00,394 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:12:00,419 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:12:00,419 - app - INFO - Flask app created with config: development
2025-11-03 11:12:00,419 - app - INFO - Debug mode: True
2025-11-03 11:12:00,420 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:12:00,448 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:12:00,448 - app - INFO - Flask app created with config: development
2025-11-03 11:12:00,448 - app - INFO - Debug mode: True
2025-11-03 11:12:00,448 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:12:33,074 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:12:33,075 - app - INFO - Flask app created with config: development
2025-11-03 11:12:33,075 - app - INFO - Debug mode: True
2025-11-03 11:12:33,076 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:13:11,078 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:13:11,079 - app - INFO - Flask app created with config: development
2025-11-03 11:13:11,079 - app - INFO - Debug mode: True
2025-11-03 11:13:11,080 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:13:11,117 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:13:11,117 - app - INFO - Flask app created with config: development
2025-11-03 11:13:11,118 - app - INFO - Debug mode: True
2025-11-03 11:13:11,118 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:13:11,166 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:13:11,166 - app - INFO - Flask app created with config: development
2025-11-03 11:13:11,167 - app - INFO - Debug mode: True
2025-11-03 11:13:11,167 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:13:11,200 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:13:11,201 - app - INFO - Flask app created with config: development
2025-11-03 11:13:11,201 - app - INFO - Debug mode: True
2025-11-03 11:13:11,201 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:13:28,375 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:13:28,376 - app - INFO - Flask app created with config: development
2025-11-03 11:13:28,377 - app - INFO - Debug mode: True
2025-11-03 11:13:28,377 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:14:04,703 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:14:04,705 - app - INFO - Flask app created with config: development
2025-11-03 11:14:04,706 - app - INFO - Debug mode: True
2025-11-03 11:14:04,706 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:14:04,720 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:14:04,720 - app - INFO - Flask app created with config: development
2025-11-03 11:14:04,720 - app - INFO - Debug mode: True
2025-11-03 11:14:04,720 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:14:04,771 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:14:04,771 - app - INFO - Flask app created with config: development
2025-11-03 11:14:04,771 - app - INFO - Debug mode: True
2025-11-03 11:14:04,772 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:14:04,787 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:14:04,787 - app - INFO - Flask app created with config: development
2025-11-03 11:14:04,787 - app - INFO - Debug mode: True
2025-11-03 11:14:04,788 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:14:25,291 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:14:25,292 - app - INFO - Flask app created with config: development
2025-11-03 11:14:25,292 - app - INFO - Debug mode: True
2025-11-03 11:14:25,293 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:15:09,494 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:15:09,496 - app - INFO - Flask app created with config: development
2025-11-03 11:15:09,496 - app - INFO - Debug mode: True
2025-11-03 11:15:09,496 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:15:09,586 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:15:09,586 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:15:09,586 - app - INFO - Flask app created with config: development
2025-11-03 11:15:09,586 - app - INFO - Flask app created with config: development
2025-11-03 11:15:09,587 - app - INFO - Debug mode: True
2025-11-03 11:15:09,587 - app - INFO - Debug mode: True
2025-11-03 11:15:09,587 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:15:09,587 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:15:09,589 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:15:09,589 - app - INFO - Flask app created with config: development
2025-11-03 11:15:09,589 - app - INFO - Debug mode: True
2025-11-03 11:15:09,589 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:15:28,802 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:15:28,803 - app - INFO - Flask app created with config: development
2025-11-03 11:15:28,803 - app - INFO - Debug mode: True
2025-11-03 11:15:28,804 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:16:11,823 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:16:11,824 - app - INFO - Flask app created with config: development
2025-11-03 11:16:11,824 - app - INFO - Debug mode: True
2025-11-03 11:16:11,824 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:16:11,887 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:16:11,892 - app - INFO - Flask app created with config: development
2025-11-03 11:16:11,892 - app - INFO - Debug mode: True
2025-11-03 11:16:11,892 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:16:11,946 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:16:11,946 - app - INFO - Flask app created with config: development
2025-11-03 11:16:11,946 - app - INFO - Debug mode: True
2025-11-03 11:16:11,946 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:16:11,985 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:16:11,985 - app - INFO - Flask app created with config: development
2025-11-03 11:16:11,985 - app - INFO - Debug mode: True
2025-11-03 11:16:11,985 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:16:35,343 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:16:35,344 - app - INFO - Flask app created with config: development
2025-11-03 11:16:35,344 - app - INFO - Debug mode: True
2025-11-03 11:16:35,344 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:16:52,740 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:16:52,741 - app - INFO - Flask app created with config: development
2025-11-03 11:16:52,741 - app - INFO - Debug mode: True
2025-11-03 11:16:52,741 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:17:25,567 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:17:25,569 - app - INFO - Flask app created with config: development
2025-11-03 11:17:25,569 - app - INFO - Debug mode: True
2025-11-03 11:17:25,569 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:17:59,038 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:17:59,040 - app - INFO - Flask app created with config: development
2025-11-03 11:17:59,040 - app - INFO - Debug mode: True
2025-11-03 11:17:59,041 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:17:59,076 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:17:59,077 - app - INFO - Flask app created with config: development
2025-11-03 11:17:59,077 - app - INFO - Debug mode: True
2025-11-03 11:17:59,078 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:17:59,081 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:17:59,081 - app - INFO - Flask app created with config: development
2025-11-03 11:17:59,081 - app - INFO - Debug mode: True
2025-11-03 11:17:59,081 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:17:59,098 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:17:59,098 - app - INFO - Flask app created with config: development
2025-11-03 11:17:59,098 - app - INFO - Debug mode: True
2025-11-03 11:17:59,099 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:18:21,102 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:18:21,103 - app - INFO - Flask app created with config: development
2025-11-03 11:18:21,103 - app - INFO - Debug mode: True
2025-11-03 11:18:21,104 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:19:09,879 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:19:09,880 - app - INFO - Flask app created with config: development
2025-11-03 11:19:09,880 - app - INFO - Debug mode: True
2025-11-03 11:19:09,880 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:19:09,954 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:19:09,954 - app - INFO - Flask app created with config: development
2025-11-03 11:19:09,954 - app - INFO - Debug mode: True
2025-11-03 11:19:09,955 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:19:09,960 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:19:09,960 - app - INFO - Flask app created with config: development
2025-11-03 11:19:09,961 - app - INFO - Debug mode: True
2025-11-03 11:19:09,961 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:19:09,989 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:19:09,989 - app - INFO - Flask app created with config: development
2025-11-03 11:19:09,989 - app - INFO - Debug mode: True
2025-11-03 11:19:09,990 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:19:25,004 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:19:25,005 - app - INFO - Flask app created with config: development
2025-11-03 11:19:25,006 - app - INFO - Debug mode: True
2025-11-03 11:19:25,006 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:27:57,017 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:27:57,019 - app - INFO - Flask app created with config: development
2025-11-03 11:27:57,019 - app - INFO - Debug mode: True
2025-11-03 11:27:57,020 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:27:57,067 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:27:57,067 - app - INFO - Flask app created with config: development
2025-11-03 11:27:57,067 - app - INFO - Debug mode: True
2025-11-03 11:27:57,067 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:27:57,076 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:27:57,076 - app - INFO - Flask app created with config: development
2025-11-03 11:27:57,076 - app - INFO - Debug mode: True
2025-11-03 11:27:57,076 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:27:57,143 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:27:57,144 - app - INFO - Flask app created with config: development
2025-11-03 11:27:57,144 - app - INFO - Debug mode: True
2025-11-03 11:27:57,144 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:28:48,616 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:28:48,616 - app - INFO - Flask app created with config: development
2025-11-03 11:28:48,617 - app - INFO - Debug mode: True
2025-11-03 11:28:48,617 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:28:57,579 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:28:57,580 - app - INFO - Flask app created with config: development
2025-11-03 11:28:57,580 - app - INFO - Debug mode: True
2025-11-03 11:28:57,580 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 11:29:48,947 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 11:29:48,947 - app - INFO - Flask app created with config: development
2025-11-03 11:29:48,948 - app - INFO - Debug mode: True
2025-11-03 11:29:48,948 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:50:13,456 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:50:13,458 - app - INFO - Flask app created with config: development
2025-11-03 15:50:13,458 - app - INFO - Debug mode: True
2025-11-03 15:50:13,458 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:50:13,486 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 15:50:13,487 - app.tenant_db.tenant_migrations - WARNING - Could not create version table: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block

[SQL: 
                CREATE TABLE IF NOT EXISTS tenant_schema_version (
                    version INTEGER PRIMARY KEY,
                    applied_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                    description TEXT
                )
            ]
(Background on this error at: https://sqlalche.me/e/20/2j85)
2025-11-03 15:50:46,553 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:50:46,553 - app - INFO - Flask app created with config: development
2025-11-03 15:50:46,554 - app - INFO - Debug mode: True
2025-11-03 15:50:46,554 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:50:46,578 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 15:50:46,589 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-03 15:50:51,758 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:50:51,758 - app - INFO - Flask app created with config: development
2025-11-03 15:50:51,759 - app - INFO - Debug mode: True
2025-11-03 15:50:51,759 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:50:51,785 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-03 15:50:51,786 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-03 15:50:58,686 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:50:58,686 - app - INFO - Flask app created with config: development
2025-11-03 15:50:58,687 - app - INFO - Debug mode: True
2025-11-03 15:50:58,687 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:52:22,176 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:52:22,177 - app - INFO - Flask app created with config: development
2025-11-03 15:52:22,177 - app - INFO - Debug mode: True
2025-11-03 15:52:22,178 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:52:26,960 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:52:26,961 - app - INFO - Flask app created with config: development
2025-11-03 15:52:26,961 - app - INFO - Debug mode: True
2025-11-03 15:52:26,961 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:55:28,553 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:55:28,554 - app - INFO - Flask app created with config: development
2025-11-03 15:55:28,555 - app - INFO - Debug mode: True
2025-11-03 15:55:28,555 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:55:35,858 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:55:35,859 - app - INFO - Flask app created with config: development
2025-11-03 15:55:35,859 - app - INFO - Debug mode: True
2025-11-03 15:55:35,859 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:55:35,881 - app.tenant_db.tenant_migrations - INFO - Applying migration v2: add_file_metadata_column
2025-11-03 15:55:35,888 - app.tenant_db.tenant_migrations - INFO -  Migration v2 applied successfully
2025-11-03 15:55:35,888 - app.tenant_db.tenant_migrations - INFO - Applying migration v3: add_document_version_column
2025-11-03 15:55:35,894 - app.tenant_db.tenant_migrations - INFO -  Migration v3 applied successfully
2025-11-03 15:55:41,935 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:55:41,935 - app - INFO - Flask app created with config: development
2025-11-03 15:55:41,936 - app - INFO - Debug mode: True
2025-11-03 15:55:41,936 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:56:03,509 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:56:03,510 - app - INFO - Flask app created with config: development
2025-11-03 15:56:03,510 - app - INFO - Debug mode: True
2025-11-03 15:56:03,511 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:56:03,526 - app.services.tenant_service - WARNING - Tenant creation failed: Creator user not found or inactive: dd05272a-411e-4f80-a6b2-f70721aa47cf
2025-11-03 15:56:16,427 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:56:16,427 - app - INFO - Flask app created with config: development
2025-11-03 15:56:16,427 - app - INFO - Debug mode: True
2025-11-03 15:56:16,427 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:56:16,443 - app.models.tenant - DEBUG - Generated database name: Test Migration Auto -> tenant_test_migration_auto_be743610
2025-11-03 15:56:16,444 - app.models.tenant - INFO - Tenant object initialized: name=Test Migration Auto, database_name=tenant_test_migration_auto_be743610
2025-11-03 15:56:16,445 - app.models.tenant - INFO - Creating database for tenant 3f79d973-cd8a-4b7b-b67b-f1f0b84bc058: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,541 - app.utils.database - INFO - Created tenant database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,542 - app.models.tenant - INFO - Successfully created database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,542 - app.utils.database - INFO - Created engine for tenant database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,580 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,600 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,600 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,600 - app.models.tenant - INFO - Successfully created tables in database: tenant_test_migration_auto_be743610
2025-11-03 15:56:16,600 - app.services.tenant_service - INFO - Created tenant database: tenant_test_migration_auto_be743610 for tenant 3f79d973-cd8a-4b7b-b67b-f1f0b84bc058 (Test Migration Auto)
2025-11-03 15:56:16,600 - app.services.tenant_service - ERROR - Failed to apply tenant migrations: 'TenantDatabaseManager' object has no attribute 'get_tenant_session'
Traceback (most recent call last):
  File "/app/app/services/tenant_service.py", line 142, in create_tenant
    tenant_db = tenant_db_manager.get_tenant_session(tenant.database_name)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'TenantDatabaseManager' object has no attribute 'get_tenant_session'
2025-11-03 15:56:16,605 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=cf1f7c7e-4a08-41af-ba39-2a53178fb60d, tenant_id=3f79d973-cd8a-4b7b-b67b-f1f0b84bc058, role=admin
2025-11-03 15:56:16,608 - app.models.user_tenant_association - INFO - Created association: user_id=cf1f7c7e-4a08-41af-ba39-2a53178fb60d, tenant_id=3f79d973-cd8a-4b7b-b67b-f1f0b84bc058, role=admin
2025-11-03 15:56:16,610 - app.services.tenant_service - INFO - Added creator cf1f7c7e-4a08-41af-ba39-2a53178fb60d as admin to tenant 3f79d973-cd8a-4b7b-b67b-f1f0b84bc058
2025-11-03 15:56:16,613 - app.services.tenant_service - INFO - Tenant created successfully: 3f79d973-cd8a-4b7b-b67b-f1f0b84bc058 (Test Migration Auto) by user cf1f7c7e-4a08-41af-ba39-2a53178fb60d
2025-11-03 15:56:51,912 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:56:51,913 - app - INFO - Flask app created with config: development
2025-11-03 15:56:51,913 - app - INFO - Debug mode: True
2025-11-03 15:56:51,914 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:56:51,939 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 15:56:51,947 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-03 15:56:51,950 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-03 15:56:51,951 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-03 15:56:51,952 - app.tenant_db.tenant_migrations - INFO - Applying migration v2: add_file_metadata_column
2025-11-03 15:56:51,954 - app.tenant_db.tenant_migrations - INFO -  Migration v2 applied successfully
2025-11-03 15:56:51,954 - app.tenant_db.tenant_migrations - INFO - Applying migration v3: add_document_version_column
2025-11-03 15:56:51,957 - app.tenant_db.tenant_migrations - INFO -  Migration v3 applied successfully
2025-11-03 15:57:12,215 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 15:57:12,215 - app - INFO - Flask app created with config: development
2025-11-03 15:57:12,215 - app - INFO - Debug mode: True
2025-11-03 15:57:12,216 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 15:57:12,233 - app.models.tenant - DEBUG - Generated database name: Auto Migration Test -> tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,234 - app.models.tenant - INFO - Tenant object initialized: name=Auto Migration Test, database_name=tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,236 - app.models.tenant - INFO - Creating database for tenant d483a1ec-c46d-4589-a828-65c758e6a20e: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,310 - app.utils.database - INFO - Created tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,310 - app.models.tenant - INFO - Successfully created database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,311 - app.utils.database - INFO - Created engine for tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,350 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,359 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,359 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,359 - app.models.tenant - INFO - Successfully created tables in database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,359 - app.services.tenant_service - INFO - Created tenant database: tenant_auto_migration_test_f29bf3f7 for tenant d483a1ec-c46d-4589-a828-65c758e6a20e (Auto Migration Test)
2025-11-03 15:57:12,359 - app.utils.database - INFO - Created session factory for tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 15:57:12,360 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 15:57:12,364 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-03 15:57:12,364 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-03 15:57:12,365 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-03 15:57:12,365 - app.tenant_db.tenant_migrations - INFO - Applying migration v2: add_file_metadata_column
2025-11-03 15:57:12,367 - app.tenant_db.tenant_migrations - INFO -  Migration v2 applied successfully
2025-11-03 15:57:12,367 - app.tenant_db.tenant_migrations - INFO - Applying migration v3: add_document_version_column
2025-11-03 15:57:12,370 - app.tenant_db.tenant_migrations - INFO -  Migration v3 applied successfully
2025-11-03 15:57:12,370 - app.services.tenant_service - INFO - Applied 3 migration(s) to tenant d483a1ec-c46d-4589-a828-65c758e6a20e: v1: initial_schema, v2: add_file_metadata_column, v3: add_document_version_column
2025-11-03 15:57:12,372 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=cf1f7c7e-4a08-41af-ba39-2a53178fb60d, tenant_id=d483a1ec-c46d-4589-a828-65c758e6a20e, role=admin
2025-11-03 15:57:12,374 - app.models.user_tenant_association - INFO - Created association: user_id=cf1f7c7e-4a08-41af-ba39-2a53178fb60d, tenant_id=d483a1ec-c46d-4589-a828-65c758e6a20e, role=admin
2025-11-03 15:57:12,375 - app.services.tenant_service - INFO - Added creator cf1f7c7e-4a08-41af-ba39-2a53178fb60d as admin to tenant d483a1ec-c46d-4589-a828-65c758e6a20e
2025-11-03 15:57:12,376 - app.services.tenant_service - INFO - Tenant created successfully: d483a1ec-c46d-4589-a828-65c758e6a20e (Auto Migration Test) by user cf1f7c7e-4a08-41af-ba39-2a53178fb60d
2025-11-03 16:05:14,017 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:05:14,018 - app - INFO - Flask app created with config: development
2025-11-03 16:05:14,018 - app - INFO - Debug mode: True
2025-11-03 16:05:14,018 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:05:28,600 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:05:28,600 - app - INFO - Flask app created with config: development
2025-11-03 16:05:28,601 - app - INFO - Debug mode: True
2025-11-03 16:05:28,601 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:05:28,601 - app.utils.database - INFO - Created engine for tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 16:05:28,602 - app.utils.database - INFO - Created session factory for tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 16:05:28,607 - app.models.file - INFO - File object initialized: md5=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa, size=1024000, s3_path=test/metadata/example-231460ac-fee1-4477-9d2d-c5cc2ca5a0f2.jpg
2025-11-03 16:05:28,619 - app.utils.database - ERROR - Rolled back transaction for tenant tenant_auto_migration_test_f29bf3f7: (psycopg2.errors.UndefinedTable) relation "files" does not exist
LINE 1: INSERT INTO files (md5_hash, s3_path, file_size, metadata, i...
                    ^

[SQL: INSERT INTO files (md5_hash, s3_path, file_size, metadata, id, created_at, updated_at, created_by) VALUES (%(md5_hash)s, %(s3_path)s, %(file_size)s, %(metadata)s::JSONB, %(id)s::UUID, %(created_at)s, %(updated_at)s, %(created_by)s::UUID)]
[parameters: {'md5_hash': 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 's3_path': 'test/metadata/example-231460ac-fee1-4477-9d2d-c5cc2ca5a0f2.jpg', 'file_size': 1024000, 'metadata': '{"mime_type": "image/jpeg", "width": 1920, "height": 1080, "camera": "Test Camera", "tags": ["test", "demo"]}', 'id': UUID('ff82190d-0fca-4f36-9792-77ed2e3e807f'), 'created_at': datetime.datetime(2025, 11, 3, 16, 5, 28, 618919, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 11, 3, 16, 5, 28, 618926, tzinfo=datetime.timezone.utc), 'created_by': '991d4118-7908-4f3b-84a2-66e9016e2a57'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 16:05:38,979 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:05:38,979 - app - INFO - Flask app created with config: development
2025-11-03 16:05:38,979 - app - INFO - Debug mode: True
2025-11-03 16:05:38,980 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:05:38,980 - app.utils.database - INFO - Created engine for tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 16:05:38,980 - app.utils.database - INFO - Created session factory for tenant database: tenant_auto_migration_test_f29bf3f7
2025-11-03 16:05:38,985 - app.models.file - INFO - File object initialized: md5=bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb, size=512000, s3_path=test/example2.jpg
2025-11-03 16:05:38,996 - app.utils.database - ERROR - Rolled back transaction for tenant tenant_auto_migration_test_f29bf3f7: (psycopg2.errors.UndefinedTable) relation "files" does not exist
LINE 1: INSERT INTO files (md5_hash, s3_path, file_size, metadata, i...
                    ^

[SQL: INSERT INTO files (md5_hash, s3_path, file_size, metadata, id, created_at, updated_at, created_by) VALUES (%(md5_hash)s, %(s3_path)s, %(file_size)s, %(metadata)s::JSONB, %(id)s::UUID, %(created_at)s, %(updated_at)s, %(created_by)s::UUID)]
[parameters: {'md5_hash': 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb', 's3_path': 'test/example2.jpg', 'file_size': 512000, 'metadata': '{"mime_type": "image/png", "width": 800, "height": 600}', 'id': UUID('3a461844-6717-4c6f-bb11-6125e4f22c7f'), 'created_at': datetime.datetime(2025, 11, 3, 16, 5, 38, 996023, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 11, 3, 16, 5, 38, 996026, tzinfo=datetime.timezone.utc), 'created_by': '6e96ddac-8c66-459c-9f51-9debcbdeb8c4'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 16:17:22,494 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:17:22,497 - app - INFO - Flask app created with config: development
2025-11-03 16:17:22,497 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:17:22,498 - app - INFO - Debug mode: True
2025-11-03 16:17:22,499 - app - INFO - Flask app created with config: development
2025-11-03 16:17:22,499 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:17:22,500 - app - INFO - Debug mode: True
2025-11-03 16:17:22,501 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:17:22,503 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:17:22,503 - app - INFO - Flask app created with config: development
2025-11-03 16:17:22,504 - app - INFO - Debug mode: True
2025-11-03 16:17:22,504 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:17:22,552 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:17:22,553 - app - INFO - Flask app created with config: development
2025-11-03 16:17:22,554 - app - INFO - Debug mode: True
2025-11-03 16:17:22,555 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:22:43,377 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:22:43,377 - app - INFO - Flask app created with config: development
2025-11-03 16:22:43,379 - app - INFO - Debug mode: True
2025-11-03 16:22:43,380 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:22:43,434 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:22:43,435 - app - INFO - Flask app created with config: development
2025-11-03 16:22:43,436 - app - INFO - Debug mode: True
2025-11-03 16:22:43,437 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:22:43,496 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:22:43,496 - app - INFO - Flask app created with config: development
2025-11-03 16:22:43,496 - app - INFO - Debug mode: True
2025-11-03 16:22:43,497 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:22:43,563 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:22:43,563 - app - INFO - Flask app created with config: development
2025-11-03 16:22:43,563 - app - INFO - Debug mode: True
2025-11-03 16:22:43,563 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:23:51,626 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:23:51,626 - app - INFO - Flask app created with config: development
2025-11-03 16:23:51,627 - app - INFO - Debug mode: True
2025-11-03 16:23:51,627 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:24:08,835 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:24:08,836 - app - INFO - Flask app created with config: development
2025-11-03 16:24:08,836 - app - INFO - Debug mode: True
2025-11-03 16:24:08,836 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:24:53,919 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:24:53,920 - app - INFO - Flask app created with config: development
2025-11-03 16:24:53,920 - app - INFO - Debug mode: True
2025-11-03 16:24:53,920 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:25:02,484 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:25:02,484 - app - INFO - Flask app created with config: development
2025-11-03 16:25:02,484 - app - INFO - Debug mode: True
2025-11-03 16:25:02,484 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:25:13,966 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:25:13,966 - app - INFO - Flask app created with config: development
2025-11-03 16:25:13,967 - app - INFO - Debug mode: True
2025-11-03 16:25:13,967 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:25:22,353 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:25:22,353 - app - INFO - Flask app created with config: development
2025-11-03 16:25:22,353 - app - INFO - Debug mode: True
2025-11-03 16:25:22,354 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:25:37,860 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:25:37,861 - app - INFO - Flask app created with config: development
2025-11-03 16:25:37,861 - app - INFO - Debug mode: True
2025-11-03 16:25:37,862 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:26:22,016 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:26:22,016 - app - INFO - Flask app created with config: development
2025-11-03 16:26:22,016 - app - INFO - Debug mode: True
2025-11-03 16:26:22,017 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:26:26,456 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:26:26,456 - app - INFO - Flask app created with config: development
2025-11-03 16:26:26,456 - app - INFO - Debug mode: True
2025-11-03 16:26:26,457 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:26:31,052 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:26:31,052 - app - INFO - Flask app created with config: development
2025-11-03 16:26:31,053 - app - INFO - Debug mode: True
2025-11-03 16:26:31,053 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:27:03,085 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:27:03,085 - app - INFO - Flask app created with config: development
2025-11-03 16:27:03,085 - app - INFO - Debug mode: True
2025-11-03 16:27:03,085 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:28:12,826 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:28:12,827 - app - INFO - Flask app created with config: development
2025-11-03 16:28:12,829 - app - INFO - Debug mode: True
2025-11-03 16:28:12,830 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:28:12,870 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:28:12,871 - app - INFO - Flask app created with config: development
2025-11-03 16:28:12,873 - app - INFO - Debug mode: True
2025-11-03 16:28:12,875 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:28:12,897 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:28:12,897 - app - INFO - Flask app created with config: development
2025-11-03 16:28:12,897 - app - INFO - Debug mode: True
2025-11-03 16:28:12,898 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:28:12,927 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:28:12,928 - app - INFO - Flask app created with config: development
2025-11-03 16:28:12,928 - app - INFO - Debug mode: True
2025-11-03 16:28:12,928 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:28:53,109 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:28:53,110 - app - INFO - Flask app created with config: development
2025-11-03 16:28:53,110 - app - INFO - Debug mode: True
2025-11-03 16:28:53,110 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:29:01,187 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:29:01,187 - app - INFO - Flask app created with config: development
2025-11-03 16:29:01,187 - app - INFO - Debug mode: True
2025-11-03 16:29:01,187 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:29:08,423 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:29:08,423 - app - INFO - Flask app created with config: development
2025-11-03 16:29:08,424 - app - INFO - Debug mode: True
2025-11-03 16:29:08,424 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:29:28,411 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:29:28,412 - app - INFO - Flask app created with config: development
2025-11-03 16:29:28,412 - app - INFO - Debug mode: True
2025-11-03 16:29:28,412 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:30:49,293 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:30:49,294 - app - INFO - Flask app created with config: development
2025-11-03 16:30:49,294 - app - INFO - Debug mode: True
2025-11-03 16:30:49,294 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:30:49,322 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-03 16:30:49,329 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-03 16:31:08,953 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:31:08,953 - app - INFO - Flask app created with config: development
2025-11-03 16:31:08,954 - app - INFO - Debug mode: True
2025-11-03 16:31:08,954 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:31:08,981 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-03 16:31:08,983 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-03 16:31:55,369 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:31:55,369 - app - INFO - Flask app created with config: development
2025-11-03 16:31:55,369 - app - INFO - Debug mode: True
2025-11-03 16:31:55,370 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 16:55:47,812 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 16:55:47,813 - app - INFO - Flask app created with config: development
2025-11-03 16:55:47,813 - app - INFO - Debug mode: True
2025-11-03 16:55:47,813 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:01:34,794 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:01:34,794 - app - INFO - Flask app created with config: development
2025-11-03 17:01:34,795 - app - INFO - Debug mode: True
2025-11-03 17:01:34,795 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:01:34,797 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:01:34,797 - app - INFO - Flask app created with config: development
2025-11-03 17:01:34,798 - app - INFO - Debug mode: True
2025-11-03 17:01:34,799 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:01:34,841 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:01:34,842 - app - INFO - Flask app created with config: development
2025-11-03 17:01:34,843 - app - INFO - Debug mode: True
2025-11-03 17:01:34,844 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:01:34,858 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:01:34,859 - app - INFO - Flask app created with config: development
2025-11-03 17:01:34,859 - app - INFO - Debug mode: True
2025-11-03 17:01:34,859 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:04:31,443 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:04:31,443 - app - INFO - Flask app created with config: development
2025-11-03 17:04:31,444 - app - INFO - Debug mode: True
2025-11-03 17:04:31,444 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:04:31,466 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:04:31,467 - app - INFO - Flask app created with config: development
2025-11-03 17:04:31,468 - app - INFO - Debug mode: True
2025-11-03 17:04:31,468 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:04:31,479 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:04:31,479 - app - INFO - Flask app created with config: development
2025-11-03 17:04:31,479 - app - INFO - Debug mode: True
2025-11-03 17:04:31,479 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:04:31,523 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:04:31,524 - app - INFO - Flask app created with config: development
2025-11-03 17:04:31,524 - app - INFO - Debug mode: True
2025-11-03 17:04:31,524 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:05:05,993 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:05:05,993 - app - INFO - Flask app created with config: development
2025-11-03 17:05:05,993 - app - INFO - Debug mode: True
2025-11-03 17:05:05,994 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:05:06,068 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:05:06,068 - app - INFO - Flask app created with config: development
2025-11-03 17:05:06,069 - app - INFO - Debug mode: True
2025-11-03 17:05:06,071 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:05:06,096 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:05:06,096 - app - INFO - Flask app created with config: development
2025-11-03 17:05:06,098 - app - INFO - Debug mode: True
2025-11-03 17:05:06,098 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:05:06,122 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:05:06,122 - app - INFO - Flask app created with config: development
2025-11-03 17:05:06,122 - app - INFO - Debug mode: True
2025-11-03 17:05:06,122 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:06:25,329 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:06:25,330 - app - INFO - Flask app created with config: development
2025-11-03 17:06:25,330 - app - INFO - Debug mode: True
2025-11-03 17:06:25,331 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:06:25,391 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:06:25,392 - app - INFO - Flask app created with config: development
2025-11-03 17:06:25,392 - app - INFO - Debug mode: True
2025-11-03 17:06:25,392 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:06:25,521 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:06:25,521 - app - INFO - Flask app created with config: development
2025-11-03 17:06:25,521 - app - INFO - Debug mode: True
2025-11-03 17:06:25,522 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:06:25,599 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:06:25,599 - app - INFO - Flask app created with config: development
2025-11-03 17:06:25,599 - app - INFO - Debug mode: True
2025-11-03 17:06:25,599 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:07:48,710 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:07:48,712 - app - INFO - Flask app created with config: development
2025-11-03 17:07:48,712 - app - INFO - Debug mode: True
2025-11-03 17:07:48,712 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:07:48,749 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:07:48,749 - app - INFO - Flask app created with config: development
2025-11-03 17:07:48,750 - app - INFO - Debug mode: True
2025-11-03 17:07:48,750 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:07:48,815 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:07:48,815 - app - INFO - Flask app created with config: development
2025-11-03 17:07:48,815 - app - INFO - Debug mode: True
2025-11-03 17:07:48,815 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:07:48,884 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:07:48,884 - app - INFO - Flask app created with config: development
2025-11-03 17:07:48,884 - app - INFO - Debug mode: True
2025-11-03 17:07:48,884 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:13,798 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:13,799 - app - INFO - Flask app created with config: development
2025-11-03 17:14:13,801 - app - INFO - Debug mode: True
2025-11-03 17:14:13,801 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:13,801 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:13,801 - app - INFO - Flask app created with config: development
2025-11-03 17:14:13,802 - app - INFO - Debug mode: True
2025-11-03 17:14:13,802 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:13,826 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:13,826 - app - INFO - Flask app created with config: development
2025-11-03 17:14:13,826 - app - INFO - Debug mode: True
2025-11-03 17:14:13,826 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:13,863 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:13,863 - app - INFO - Flask app created with config: development
2025-11-03 17:14:13,863 - app - INFO - Debug mode: True
2025-11-03 17:14:13,863 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:29,188 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:29,189 - app - INFO - Flask app created with config: development
2025-11-03 17:14:29,189 - app - INFO - Debug mode: True
2025-11-03 17:14:29,190 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:34,899 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:34,899 - app - INFO - Flask app created with config: development
2025-11-03 17:14:34,899 - app - INFO - Debug mode: True
2025-11-03 17:14:34,900 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:14:41,600 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:14:41,600 - app - INFO - Flask app created with config: development
2025-11-03 17:14:41,601 - app - INFO - Debug mode: True
2025-11-03 17:14:41,601 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:19:11,744 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:19:11,745 - app - INFO - Flask app created with config: development
2025-11-03 17:19:11,746 - app - INFO - Debug mode: True
2025-11-03 17:19:11,746 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:19:20,134 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:19:20,135 - app - INFO - Flask app created with config: development
2025-11-03 17:19:20,135 - app - INFO - Debug mode: True
2025-11-03 17:19:20,135 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:20:03,790 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:20:03,791 - app - INFO - Flask app created with config: development
2025-11-03 17:20:03,792 - app - INFO - Debug mode: True
2025-11-03 17:20:03,792 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:20:09,013 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:20:09,014 - app - INFO - Flask app created with config: development
2025-11-03 17:20:09,014 - app - INFO - Debug mode: True
2025-11-03 17:20:09,014 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:21:11,294 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:21:11,294 - app - INFO - Flask app created with config: development
2025-11-03 17:21:11,294 - app - INFO - Debug mode: True
2025-11-03 17:21:11,295 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:23:17,403 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:23:17,406 - app - INFO - Flask app created with config: development
2025-11-03 17:23:17,406 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:23:17,406 - app - INFO - Debug mode: True
2025-11-03 17:23:17,407 - app - INFO - Flask app created with config: development
2025-11-03 17:23:17,407 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:23:17,407 - app - INFO - Debug mode: True
2025-11-03 17:23:17,408 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:23:17,434 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:23:17,434 - app - INFO - Flask app created with config: development
2025-11-03 17:23:17,434 - app - INFO - Debug mode: True
2025-11-03 17:23:17,435 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:23:17,463 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:23:17,463 - app - INFO - Flask app created with config: development
2025-11-03 17:23:17,463 - app - INFO - Debug mode: True
2025-11-03 17:23:17,464 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:24:05,772 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:24:05,773 - app - INFO - Flask app created with config: development
2025-11-03 17:24:05,773 - app - INFO - Debug mode: True
2025-11-03 17:24:05,774 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:24:05,784 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:24:05,784 - app - INFO - Flask app created with config: development
2025-11-03 17:24:05,784 - app - INFO - Debug mode: True
2025-11-03 17:24:05,785 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:24:05,830 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:24:05,830 - app - INFO - Flask app created with config: development
2025-11-03 17:24:05,830 - app - INFO - Debug mode: True
2025-11-03 17:24:05,830 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:24:05,861 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:24:05,861 - app - INFO - Flask app created with config: development
2025-11-03 17:24:05,861 - app - INFO - Debug mode: True
2025-11-03 17:24:05,861 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:24:30,908 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:24:30,909 - app - INFO - Flask app created with config: development
2025-11-03 17:24:30,910 - app - INFO - Debug mode: True
2025-11-03 17:24:30,910 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:24:41,444 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:24:41,445 - app - INFO - Flask app created with config: development
2025-11-03 17:24:41,445 - app - INFO - Debug mode: True
2025-11-03 17:24:41,445 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:25:00,633 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:25:00,635 - app - INFO - Flask app created with config: development
2025-11-03 17:25:00,635 - app - INFO - Debug mode: True
2025-11-03 17:25:00,635 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:25:16,628 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:25:16,628 - app - INFO - Flask app created with config: development
2025-11-03 17:25:16,629 - app - INFO - Debug mode: True
2025-11-03 17:25:16,629 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-03 17:25:23,352 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-03 17:25:23,352 - app - INFO - Flask app created with config: development
2025-11-03 17:25:23,353 - app - INFO - Debug mode: True
2025-11-03 17:25:23,353 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:31:44,242 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:31:44,242 - app - INFO - Flask app created with config: development
2025-11-04 07:31:44,242 - app - INFO - Debug mode: True
2025-11-04 07:31:44,245 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:31:44,298 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:31:44,300 - app - INFO - Flask app created with config: development
2025-11-04 07:31:44,300 - app - INFO - Debug mode: True
2025-11-04 07:31:44,301 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:31:44,312 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:31:44,312 - app - INFO - Flask app created with config: development
2025-11-04 07:31:44,312 - app - INFO - Debug mode: True
2025-11-04 07:31:44,313 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:31:44,364 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:31:44,364 - app - INFO - Flask app created with config: development
2025-11-04 07:31:44,364 - app - INFO - Debug mode: True
2025-11-04 07:31:44,364 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:32:04,971 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:32:04,971 - app - INFO - Flask app created with config: development
2025-11-04 07:32:04,971 - app - INFO - Debug mode: True
2025-11-04 07:32:04,971 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:32:29,038 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:32:29,038 - app - INFO - Flask app created with config: development
2025-11-04 07:32:29,039 - app - INFO - Debug mode: True
2025-11-04 07:32:29,039 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:32:39,687 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:32:39,687 - app - INFO - Flask app created with config: development
2025-11-04 07:32:39,687 - app - INFO - Debug mode: True
2025-11-04 07:32:39,688 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:33:21,529 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:33:21,529 - app - INFO - Flask app created with config: development
2025-11-04 07:33:21,529 - app - INFO - Debug mode: True
2025-11-04 07:33:21,529 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:46:04,734 - app - ERROR - Unhandled exception: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 181, in login
    data = user_login_schema.load(request.get_json())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 730, in load
    return self._do_load(
           ^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 895, in _do_load
    self._invoke_field_validators(
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 1161, in _invoke_field_validators
    validated_value = self._call_and_store(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 517, in _call_and_store
    value = getter_func(data)
            ^^^^^^^^^^^^^^^^^
TypeError: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
2025-11-04 07:46:35,082 - app - ERROR - Unhandled exception: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 181, in login
    data = user_login_schema.load(request.get_json())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 730, in load
    return self._do_load(
           ^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 895, in _do_load
    self._invoke_field_validators(
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 1161, in _invoke_field_validators
    validated_value = self._call_and_store(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 517, in _call_and_store
    value = getter_func(data)
            ^^^^^^^^^^^^^^^^^
TypeError: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
2025-11-04 07:48:05,703 - app - ERROR - Unhandled exception: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 181, in login
    data = user_login_schema.load(request.get_json())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 730, in load
    return self._do_load(
           ^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 895, in _do_load
    self._invoke_field_validators(
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 1161, in _invoke_field_validators
    validated_value = self._call_and_store(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 517, in _call_and_store
    value = getter_func(data)
            ^^^^^^^^^^^^^^^^^
TypeError: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
2025-11-04 07:49:24,037 - app - ERROR - Unhandled exception: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 181, in login
    data = user_login_schema.load(request.get_json())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 730, in load
    return self._do_load(
           ^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 895, in _do_load
    self._invoke_field_validators(
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 1161, in _invoke_field_validators
    validated_value = self._call_and_store(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 517, in _call_and_store
    value = getter_func(data)
            ^^^^^^^^^^^^^^^^^
TypeError: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
2025-11-04 07:49:55,496 - app - ERROR - Unhandled exception: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 181, in login
    data = user_login_schema.load(request.get_json())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 730, in load
    return self._do_load(
           ^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 895, in _do_load
    self._invoke_field_validators(
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 1161, in _invoke_field_validators
    validated_value = self._call_and_store(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 517, in _call_and_store
    value = getter_func(data)
            ^^^^^^^^^^^^^^^^^
TypeError: UserLoginSchema.validate_email_format() got an unexpected keyword argument 'data_key'
2025-11-04 07:50:17,640 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:50:17,641 - app - INFO - Flask app created with config: development
2025-11-04 07:50:17,641 - app - INFO - Debug mode: True
2025-11-04 07:50:17,641 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:50:17,672 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:50:17,673 - app - INFO - Flask app created with config: development
2025-11-04 07:50:17,673 - app - INFO - Debug mode: True
2025-11-04 07:50:17,673 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:50:17,708 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:50:17,708 - app - INFO - Flask app created with config: development
2025-11-04 07:50:17,708 - app - INFO - Debug mode: True
2025-11-04 07:50:17,708 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:50:17,775 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:50:17,776 - app - INFO - Flask app created with config: development
2025-11-04 07:50:17,776 - app - INFO - Debug mode: True
2025-11-04 07:50:17,776 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:50:38,484 - app - ERROR - Unhandled exception: UserLoginSchema.validate_password_present() got an unexpected keyword argument 'data_key'
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 181, in login
    data = user_login_schema.load(request.get_json())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 730, in load
    return self._do_load(
           ^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 895, in _do_load
    self._invoke_field_validators(
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 1161, in _invoke_field_validators
    validated_value = self._call_and_store(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/marshmallow/schema.py", line 517, in _call_and_store
    value = getter_func(data)
            ^^^^^^^^^^^^^^^^^
TypeError: UserLoginSchema.validate_password_present() got an unexpected keyword argument 'data_key'
2025-11-04 07:52:10,674 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:52:10,675 - app - INFO - Flask app created with config: development
2025-11-04 07:52:10,675 - app - INFO - Debug mode: True
2025-11-04 07:52:10,675 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:52:10,796 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:52:10,797 - app - INFO - Flask app created with config: development
2025-11-04 07:52:10,797 - app - INFO - Debug mode: True
2025-11-04 07:52:10,797 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:52:10,886 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:52:10,886 - app - INFO - Flask app created with config: development
2025-11-04 07:52:10,886 - app - INFO - Debug mode: True
2025-11-04 07:52:10,886 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:52:11,008 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:52:11,008 - app - INFO - Flask app created with config: development
2025-11-04 07:52:11,008 - app - INFO - Debug mode: True
2025-11-04 07:52:11,008 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:53:15,797 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:53:15,798 - app - INFO - Flask app created with config: development
2025-11-04 07:53:15,798 - app - INFO - Debug mode: True
2025-11-04 07:53:15,798 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:54:29,965 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:54:29,965 - app - INFO - Flask app created with config: development
2025-11-04 07:54:29,965 - app - INFO - Debug mode: True
2025-11-04 07:54:29,965 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:54:55,864 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:54:55,865 - app - INFO - Flask app created with config: development
2025-11-04 07:54:55,865 - app - INFO - Debug mode: True
2025-11-04 07:54:55,866 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:54:55,879 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:54:55,880 - app - INFO - Flask app created with config: development
2025-11-04 07:54:55,880 - app - INFO - Debug mode: True
2025-11-04 07:54:55,881 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:54:55,886 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:54:55,887 - app - INFO - Flask app created with config: development
2025-11-04 07:54:55,887 - app - INFO - Debug mode: True
2025-11-04 07:54:55,887 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:54:55,907 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:54:55,907 - app - INFO - Flask app created with config: development
2025-11-04 07:54:55,907 - app - INFO - Debug mode: True
2025-11-04 07:54:55,907 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:55:25,201 - app - ERROR - Login exception: 'Tenant' object has no attribute 'subdomain'
2025-11-04 07:55:25,202 - app - ERROR - Traceback (most recent call last):
  File "/app/app/routes/auth.py", line 230, in login
    'subdomain': tenant.subdomain,
                 ^^^^^^^^^^^^^^^^
AttributeError: 'Tenant' object has no attribute 'subdomain'

2025-11-04 07:56:13,784 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:56:13,784 - app - INFO - Flask app created with config: development
2025-11-04 07:56:13,784 - app - INFO - Debug mode: True
2025-11-04 07:56:13,785 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:56:13,888 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:56:13,888 - app - INFO - Flask app created with config: development
2025-11-04 07:56:13,888 - app - INFO - Debug mode: True
2025-11-04 07:56:13,889 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:56:13,975 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:56:13,975 - app - INFO - Flask app created with config: development
2025-11-04 07:56:13,975 - app - INFO - Debug mode: True
2025-11-04 07:56:13,975 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:56:14,061 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:56:14,062 - app - INFO - Flask app created with config: development
2025-11-04 07:56:14,062 - app - INFO - Debug mode: True
2025-11-04 07:56:14,062 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:58:44,922 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:58:44,922 - app - INFO - Flask app created with config: development
2025-11-04 07:58:44,923 - app - INFO - Debug mode: True
2025-11-04 07:58:44,923 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:58:45,012 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:58:45,012 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:58:45,012 - app - INFO - Flask app created with config: development
2025-11-04 07:58:45,012 - app - INFO - Flask app created with config: development
2025-11-04 07:58:45,012 - app - INFO - Debug mode: True
2025-11-04 07:58:45,013 - app - INFO - Debug mode: True
2025-11-04 07:58:45,013 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:58:45,013 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 07:58:45,062 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 07:58:45,062 - app - INFO - Flask app created with config: development
2025-11-04 07:58:45,063 - app - INFO - Debug mode: True
2025-11-04 07:58:45,063 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 08:02:43,143 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 08:02:43,143 - app - INFO - Flask app created with config: testing
2025-11-04 08:02:43,143 - app - INFO - Debug mode: True
2025-11-04 08:02:43,144 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-04 08:03:11,544 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 08:03:11,544 - app - INFO - Flask app created with config: testing
2025-11-04 08:03:11,544 - app - INFO - Debug mode: True
2025-11-04 08:03:11,545 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-04 08:03:41,130 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 08:03:41,130 - app - INFO - Flask app created with config: testing
2025-11-04 08:03:41,130 - app - INFO - Debug mode: True
2025-11-04 08:03:41,130 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-04 08:03:41,305 - app.models.user - DEBUG - Password hashed for user: test@example.com
2025-11-04 21:49:41,629 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 21:49:41,630 - app - INFO - Flask app created with config: development
2025-11-04 21:49:41,630 - app - INFO - Debug mode: True
2025-11-04 21:49:41,630 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 21:49:41,642 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 21:49:41,642 - app - INFO - Flask app created with config: development
2025-11-04 21:49:41,642 - app - INFO - Debug mode: True
2025-11-04 21:49:41,643 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 21:49:41,664 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 21:49:41,664 - app - INFO - Flask app created with config: development
2025-11-04 21:49:41,664 - app - INFO - Debug mode: True
2025-11-04 21:49:41,665 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 21:49:41,678 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 21:49:41,678 - app - INFO - Flask app created with config: development
2025-11-04 21:49:41,679 - app - INFO - Debug mode: True
2025-11-04 21:49:41,679 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:08:58,632 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:08:58,634 - app - INFO - Flask app created with config: development
2025-11-04 22:08:58,634 - app - INFO - Debug mode: True
2025-11-04 22:08:58,635 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:08:58,673 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:08:58,673 - app - INFO - Flask app created with config: development
2025-11-04 22:08:58,674 - app - INFO - Debug mode: True
2025-11-04 22:08:58,675 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:08:58,707 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:08:58,708 - app - INFO - Flask app created with config: development
2025-11-04 22:08:58,708 - app - INFO - Debug mode: True
2025-11-04 22:08:58,708 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:08:58,718 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:08:58,718 - app - INFO - Flask app created with config: development
2025-11-04 22:08:58,718 - app - INFO - Debug mode: True
2025-11-04 22:08:58,718 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:17:40,944 - app - ERROR - Unhandled exception: (psycopg2.errors.UndefinedTable) relation "users" does not exist
LINE 2: FROM users 
             ^

[SQL: SELECT users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.created_by AS users_created_by 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'john.doe@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "users" does not exist
LINE 2: FROM users 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 190, in login
    user = User.query.filter_by(email=data['email']).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "users" does not exist
LINE 2: FROM users 
             ^

[SQL: SELECT users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.created_by AS users_created_by 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'john.doe@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 22:17:45,658 - app - ERROR - Unhandled exception: (psycopg2.errors.UndefinedTable) relation "users" does not exist
LINE 2: FROM users 
             ^

[SQL: SELECT users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.created_by AS users_created_by 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'john.doe@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "users" does not exist
LINE 2: FROM users 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 190, in login
    user = User.query.filter_by(email=data['email']).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "users" does not exist
LINE 2: FROM users 
             ^

[SQL: SELECT users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.created_by AS users_created_by 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'john.doe@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-04 22:22:15,087 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:15,088 - app - INFO - Flask app created with config: development
2025-11-04 22:22:15,091 - app - INFO - Debug mode: True
2025-11-04 22:22:15,091 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:15,092 - app - INFO - Flask app created with config: development
2025-11-04 22:22:15,091 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:15,093 - app - INFO - Debug mode: True
2025-11-04 22:22:15,093 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:15,111 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:15,111 - app - INFO - Flask app created with config: development
2025-11-04 22:22:15,112 - app - INFO - Debug mode: True
2025-11-04 22:22:15,112 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:15,115 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:15,115 - app - INFO - Flask app created with config: development
2025-11-04 22:22:15,116 - app - INFO - Debug mode: True
2025-11-04 22:22:15,116 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:35,605 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:35,606 - app - INFO - Flask app created with config: development
2025-11-04 22:22:35,606 - app - INFO - Debug mode: True
2025-11-04 22:22:35,606 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:35,641 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:35,641 - app - INFO - Flask app created with config: development
2025-11-04 22:22:35,643 - app - INFO - Debug mode: True
2025-11-04 22:22:35,644 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:35,686 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:35,686 - app - INFO - Flask app created with config: development
2025-11-04 22:22:35,686 - app - INFO - Debug mode: True
2025-11-04 22:22:35,687 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:22:35,691 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:22:35,692 - app - INFO - Flask app created with config: development
2025-11-04 22:22:35,692 - app - INFO - Debug mode: True
2025-11-04 22:22:35,692 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:23:52,598 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:23:52,598 - app - INFO - Flask app created with config: development
2025-11-04 22:23:52,599 - app - INFO - Debug mode: True
2025-11-04 22:23:52,599 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:24:09,792 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:24:09,793 - app - INFO - Flask app created with config: development
2025-11-04 22:24:09,793 - app - INFO - Debug mode: True
2025-11-04 22:24:09,793 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 22:24:27,251 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 22:24:27,251 - app - INFO - Flask app created with config: development
2025-11-04 22:24:27,251 - app - INFO - Debug mode: True
2025-11-04 22:24:27,252 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 23:10:46,797 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 23:10:46,798 - app - INFO - Flask app created with config: development
2025-11-04 23:10:46,798 - app - INFO - Debug mode: True
2025-11-04 23:10:46,799 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 23:10:46,830 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 23:10:46,831 - app - INFO - Flask app created with config: development
2025-11-04 23:10:46,834 - app - INFO - Debug mode: True
2025-11-04 23:10:46,835 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 23:10:46,872 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 23:10:46,873 - app - INFO - Flask app created with config: development
2025-11-04 23:10:46,873 - app - INFO - Debug mode: True
2025-11-04 23:10:46,874 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-04 23:10:46,911 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-04 23:10:46,911 - app - INFO - Flask app created with config: development
2025-11-04 23:10:46,912 - app - INFO - Debug mode: True
2025-11-04 23:10:46,913 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 13:20:26,341 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 13:20:26,344 - app - INFO - Flask app created with config: development
2025-11-05 13:20:26,344 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 13:20:26,345 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 13:20:26,345 - app - INFO - Debug mode: True
2025-11-05 13:20:26,346 - app - INFO - Flask app created with config: development
2025-11-05 13:20:26,346 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 13:20:26,347 - app - INFO - Debug mode: True
2025-11-05 13:20:26,346 - app - INFO - Flask app created with config: development
2025-11-05 13:20:26,349 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 13:20:26,349 - app - INFO - Debug mode: True
2025-11-05 13:20:26,351 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 13:20:26,355 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 13:20:26,355 - app - INFO - Flask app created with config: development
2025-11-05 13:20:26,357 - app - INFO - Debug mode: True
2025-11-05 13:20:26,359 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:36:10,056 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:36:10,057 - app - INFO - Flask app created with config: development
2025-11-05 14:36:10,058 - app - INFO - Debug mode: True
2025-11-05 14:36:10,059 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:36:10,060 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:36:10,060 - app - INFO - Flask app created with config: development
2025-11-05 14:36:10,060 - app - INFO - Debug mode: True
2025-11-05 14:36:10,061 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:36:10,062 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:36:10,062 - app - INFO - Flask app created with config: development
2025-11-05 14:36:10,062 - app - INFO - Debug mode: True
2025-11-05 14:36:10,062 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:36:10,071 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:36:10,071 - app - INFO - Flask app created with config: development
2025-11-05 14:36:10,072 - app - INFO - Debug mode: True
2025-11-05 14:36:10,072 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:36:54,752 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:36:54,753 - app - INFO - Flask app created with config: development
2025-11-05 14:36:54,753 - app - INFO - Debug mode: True
2025-11-05 14:36:54,754 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:37:03,700 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:37:03,700 - app - INFO - Flask app created with config: development
2025-11-05 14:37:03,700 - app - INFO - Debug mode: True
2025-11-05 14:37:03,700 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:37:59,846 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:37:59,847 - app - INFO - Flask app created with config: development
2025-11-05 14:37:59,847 - app - INFO - Debug mode: True
2025-11-05 14:37:59,847 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:38:12,863 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:38:12,863 - app - INFO - Flask app created with config: development
2025-11-05 14:38:12,863 - app - INFO - Debug mode: True
2025-11-05 14:38:12,864 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:38:21,510 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:38:21,510 - app - INFO - Flask app created with config: development
2025-11-05 14:38:21,510 - app - INFO - Debug mode: True
2025-11-05 14:38:21,510 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:44:10,541 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:44:10,541 - app - INFO - Flask app created with config: development
2025-11-05 14:44:10,541 - app - INFO - Debug mode: True
2025-11-05 14:44:10,542 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:44:10,568 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:44:10,568 - app - INFO - Flask app created with config: development
2025-11-05 14:44:10,568 - app - INFO - Debug mode: True
2025-11-05 14:44:10,568 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:44:10,648 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:44:10,648 - app - INFO - Flask app created with config: development
2025-11-05 14:44:10,648 - app - INFO - Debug mode: True
2025-11-05 14:44:10,649 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:44:10,698 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:44:10,698 - app - INFO - Flask app created with config: development
2025-11-05 14:44:10,698 - app - INFO - Debug mode: True
2025-11-05 14:44:10,698 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:47:31,867 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:47:31,867 - app - INFO - Flask app created with config: development
2025-11-05 14:47:31,868 - app - INFO - Debug mode: True
2025-11-05 14:47:31,871 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:47:31,872 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:47:31,872 - app - INFO - Flask app created with config: development
2025-11-05 14:47:31,873 - app - INFO - Debug mode: True
2025-11-05 14:47:31,873 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:47:31,917 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:47:31,917 - app - INFO - Flask app created with config: development
2025-11-05 14:47:31,917 - app - INFO - Debug mode: True
2025-11-05 14:47:31,918 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:47:31,985 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:47:31,985 - app - INFO - Flask app created with config: development
2025-11-05 14:47:31,985 - app - INFO - Debug mode: True
2025-11-05 14:47:31,986 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:48:12,572 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:48:12,572 - app - INFO - Flask app created with config: development
2025-11-05 14:48:12,573 - app - INFO - Debug mode: True
2025-11-05 14:48:12,574 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:48:12,635 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:48:12,635 - app - INFO - Flask app created with config: development
2025-11-05 14:48:12,636 - app - INFO - Debug mode: True
2025-11-05 14:48:12,636 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:48:12,737 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:48:12,737 - app - INFO - Flask app created with config: development
2025-11-05 14:48:12,738 - app - INFO - Debug mode: True
2025-11-05 14:48:12,738 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:48:12,788 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:48:12,789 - app - INFO - Flask app created with config: development
2025-11-05 14:48:12,789 - app - INFO - Debug mode: True
2025-11-05 14:48:12,789 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:49:51,185 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:49:51,185 - app - INFO - Flask app created with config: development
2025-11-05 14:49:51,185 - app - INFO - Debug mode: True
2025-11-05 14:49:51,185 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:49:51,272 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:49:51,273 - app - INFO - Flask app created with config: development
2025-11-05 14:49:51,273 - app - INFO - Debug mode: True
2025-11-05 14:49:51,273 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:49:51,275 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:49:51,275 - app - INFO - Flask app created with config: development
2025-11-05 14:49:51,275 - app - INFO - Debug mode: True
2025-11-05 14:49:51,276 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 14:49:51,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 14:49:51,315 - app - INFO - Flask app created with config: development
2025-11-05 14:49:51,315 - app - INFO - Debug mode: True
2025-11-05 14:49:51,315 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:52:18,971 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:52:18,972 - app - INFO - Flask app created with config: development
2025-11-05 19:52:18,972 - app - INFO - Debug mode: True
2025-11-05 19:52:18,973 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:52:18,976 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:52:18,977 - app - INFO - Flask app created with config: development
2025-11-05 19:52:18,977 - app - INFO - Debug mode: True
2025-11-05 19:52:18,977 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:52:18,984 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:52:18,984 - app - INFO - Flask app created with config: development
2025-11-05 19:52:18,984 - app - INFO - Debug mode: True
2025-11-05 19:52:18,985 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:52:18,999 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:52:18,999 - app - INFO - Flask app created with config: development
2025-11-05 19:52:18,999 - app - INFO - Debug mode: True
2025-11-05 19:52:18,999 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:52:57,252 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:52:57,252 - app - INFO - Flask app created with config: development
2025-11-05 19:52:57,253 - app - INFO - Debug mode: True
2025-11-05 19:52:57,253 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:53:10,339 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:53:10,339 - app - INFO - Flask app created with config: development
2025-11-05 19:53:10,339 - app - INFO - Debug mode: True
2025-11-05 19:53:10,339 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:54:00,458 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:54:00,458 - app - INFO - Flask app created with config: development
2025-11-05 19:54:00,459 - app - INFO - Debug mode: True
2025-11-05 19:54:00,459 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:54:05,594 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:54:05,594 - app - INFO - Flask app created with config: development
2025-11-05 19:54:05,594 - app - INFO - Debug mode: True
2025-11-05 19:54:05,595 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:55:02,204 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:55:02,204 - app - INFO - Flask app created with config: development
2025-11-05 19:55:02,204 - app - INFO - Debug mode: True
2025-11-05 19:55:02,204 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:55:25,505 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:55:25,506 - app - INFO - Flask app created with config: development
2025-11-05 19:55:25,506 - app - INFO - Debug mode: True
2025-11-05 19:55:25,506 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:55:25,519 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-05 19:55:25,523 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-05 19:55:25,524 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-05 19:55:25,524 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-05 19:56:37,382 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 19:56:37,382 - app - INFO - Flask app created with config: development
2025-11-05 19:56:37,382 - app - INFO - Debug mode: True
2025-11-05 19:56:37,382 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 19:59:06,693 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 19:59:06,694 - app.routes.tenants - INFO - Listing tenants for user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 19:59:06,727 - app.routes.tenants - INFO - Retrieved 1 tenants for user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 19:59:33,054 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 19:59:33,055 - app.routes.tenants - INFO - Adding user to tenant: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, admin_user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 19:59:33,059 - app.schemas.user_tenant_association_schema - DEBUG - Validated role for association creation: user
2025-11-05 19:59:33,060 - app.schemas.user_tenant_association_schema - DEBUG - Normalized role for association creation: user
2025-11-05 19:59:33,064 - app.routes.tenants - WARNING - User not found: user_id=123e4567-e89b-12d3-a456-426614174000
2025-11-05 20:00:12,220 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:00:12,221 - app.routes.documents - INFO - Listing documents: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:00:12,248 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 20:00:12,248 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 20:00:12,259 - app.routes.documents - INFO - Retrieved 0 documents for tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54
2025-11-05 20:00:12,260 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 20:00:58,167 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:00:58,168 - app.routes.documents - INFO - Uploading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:00:58,202 - app.schemas.document_schema - DEBUG - Validated filename for upload: filename1.png
2025-11-05 20:00:58,203 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/svg
2025-11-05 20:00:58,203 - app.schemas.document_schema - DEBUG - Normalized filename for upload: filename1.png
2025-11-05 20:00:58,203 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/svg
2025-11-05 20:00:58,204 - app.routes.documents - INFO - File MD5: 7554235c8db48c7f01a2bf4cd2fe199f, size: 286665 bytes
2025-11-05 20:00:58,206 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 20:00:58,206 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 20:00:58,216 - app.models.file - DEBUG - Generated S3 path: tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/75/54/7554235c8db48c7f01a2bf4cd2fe199f_None
2025-11-05 20:00:58,216 - app.models.file - INFO - File object initialized: md5=7554235c8db48c7f01a2bf4cd2fe199f, size=286665, s3_path=tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/75/54/7554235c8db48c7f01a2bf4cd2fe199f_None
2025-11-05 20:00:58,218 - app.routes.documents - INFO - Created new file: file_id=35442bec-923a-4c27-933b-2676d9d1a9d6, md5=7554235c8db48c7f01a2bf4cd2fe199f, s3_path=tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/75/54/7554235c8db48c7f01a2bf4cd2fe199f_None
2025-11-05 20:00:58,218 - app.models.document - INFO - Document object initialized: filename=filename1.png, mime_type=image/svg, file_id=35442bec-923a-4c27-933b-2676d9d1a9d6, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:00:58,220 - app.routes.documents - INFO - Document uploaded successfully: document_id=279ad643-a412-47cd-afff-788f517f0791, file_id=35442bec-923a-4c27-933b-2676d9d1a9d6
2025-11-05 20:00:58,221 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 20:01:31,355 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:01:31,355 - app.routes.files - ERROR - Error listing files for tenant 9b2cf18a-243d-4ceb-8b87-9fcc4babbb54: 'Request' object has no attribute 'user_id'
Traceback (most recent call last):
  File "/app/app/routes/files.py", line 159, in list_files
    user_id = request.user_id
              ^^^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute 'user_id'
2025-11-05 20:02:01,139 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:02:01,141 - app.routes.files - ERROR - Error listing files for tenant 9b2cf18a-243d-4ceb-8b87-9fcc4babbb54: 'Request' object has no attribute 'user_id'
Traceback (most recent call last):
  File "/app/app/routes/files.py", line 159, in list_files
    user_id = request.user_id
              ^^^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute 'user_id'
2025-11-05 20:04:22,055 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:04:22,056 - app.routes.files - ERROR - Error listing files for tenant 9b2cf18a-243d-4ceb-8b87-9fcc4babbb54: 'Request' object has no attribute 'user_id'
Traceback (most recent call last):
  File "/app/app/routes/files.py", line 159, in list_files
    user_id = request.user_id
              ^^^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute 'user_id'
2025-11-05 20:06:15,019 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:06:15,020 - app.routes.files - ERROR - Error listing files for tenant 9b2cf18a-243d-4ceb-8b87-9fcc4babbb54: 'Request' object has no attribute 'user_id'
Traceback (most recent call last):
  File "/app/app/routes/files.py", line 159, in list_files
    user_id = g.user_id
              ^^^^^^^^^^
AttributeError: 'Request' object has no attribute 'user_id'
2025-11-05 20:06:39,631 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:06:39,631 - app - INFO - Flask app created with config: development
2025-11-05 20:06:39,631 - app - INFO - Debug mode: True
2025-11-05 20:06:39,632 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:06:39,652 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:06:39,652 - app - INFO - Flask app created with config: development
2025-11-05 20:06:39,652 - app - INFO - Debug mode: True
2025-11-05 20:06:39,653 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:06:39,674 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:06:39,674 - app - INFO - Flask app created with config: development
2025-11-05 20:06:39,675 - app - INFO - Debug mode: True
2025-11-05 20:06:39,675 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:06:39,697 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:06:39,697 - app - INFO - Flask app created with config: development
2025-11-05 20:06:39,697 - app - INFO - Debug mode: True
2025-11-05 20:06:39,698 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:06:56,122 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:06:56,142 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 20:06:56,142 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 20:06:56,153 - app.routes.files - INFO - Retrieved 1 files for tenant 9b2cf18a-243d-4ceb-8b87-9fcc4babbb54 (page 1/1, total: 1)
2025-11-05 20:06:56,154 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 20:09:15,813 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:09:15,814 - app - INFO - Flask app created with config: development
2025-11-05 20:09:15,814 - app - INFO - Debug mode: True
2025-11-05 20:09:15,814 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:09:15,930 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:09:15,930 - app - INFO - Flask app created with config: development
2025-11-05 20:09:15,931 - app - INFO - Debug mode: True
2025-11-05 20:09:15,931 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:09:16,010 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:09:16,010 - app - INFO - Flask app created with config: development
2025-11-05 20:09:16,010 - app - INFO - Debug mode: True
2025-11-05 20:09:16,011 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:09:16,057 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:09:16,058 - app - INFO - Flask app created with config: development
2025-11-05 20:09:16,058 - app - INFO - Debug mode: True
2025-11-05 20:09:16,058 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:09:39,647 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:09:39,678 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 20:09:39,679 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 20:09:39,692 - app.routes.files - INFO - Retrieved 1 files for tenant 9b2cf18a-243d-4ceb-8b87-9fcc4babbb54 (page 1/1, total: 1)
2025-11-05 20:09:39,693 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 20:17:37,693 - app.utils.decorators - ERROR - JWT validation failed: Bad Authorization header. Expected 'Authorization: Bearer <JWT>'
2025-11-05 20:17:55,448 - app.models.user - DEBUG - Password hashed for user: test_upload_1762373875@example.com
2025-11-05 20:18:12,226 - app.models.user - DEBUG - Password hashed for user: test_upload_1762373892@example.com
2025-11-05 20:18:12,481 - app.utils.decorators - DEBUG - Authenticated user: 1a2a08d1-2578-4c66-a197-d2261a39efa1
2025-11-05 20:18:12,482 - app.routes.tenants - INFO - Creating tenant for user_id=1a2a08d1-2578-4c66-a197-d2261a39efa1
2025-11-05 20:18:12,482 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Test Upload Tenant
2025-11-05 20:18:12,482 - app.routes.tenants - WARNING - Validation error: {'slug': ['Unknown field.']}
2025-11-05 20:18:39,804 - app.models.user - DEBUG - Password hashed for user: test_upload_1762373919@example.com
2025-11-05 20:18:40,037 - app.utils.decorators - DEBUG - Authenticated user: 8f36c453-edbc-4acf-9f52-46da6c7b7b31
2025-11-05 20:18:40,037 - app.routes.tenants - INFO - Creating tenant for user_id=8f36c453-edbc-4acf-9f52-46da6c7b7b31
2025-11-05 20:18:40,037 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Test Upload Tenant 1762373919
2025-11-05 20:18:40,037 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: Test Upload Tenant 1762373919
2025-11-05 20:18:40,038 - app.models.tenant - DEBUG - Generated database name: Test Upload Tenant 1762373919 -> tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,038 - app.models.tenant - INFO - Tenant object initialized: name=Test Upload Tenant 1762373919, database_name=tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,073 - app.utils.database - INFO - Created tenant database: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,073 - app.utils.database - INFO - Created engine for tenant database: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,087 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,093 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,093 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,093 - app.routes.tenants - INFO - Created database and tables: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,094 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=8f36c453-edbc-4acf-9f52-46da6c7b7b31, tenant_id=50ff2f90-1c94-47cf-b5c2-9cce7b8f4b2d, role=admin
2025-11-05 20:18:40,095 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=50ff2f90-1c94-47cf-b5c2-9cce7b8f4b2d, database=tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,127 - app.utils.decorators - DEBUG - Authenticated user: 8f36c453-edbc-4acf-9f52-46da6c7b7b31
2025-11-05 20:18:40,128 - app.routes.documents - INFO - Uploading document: tenant_id=50ff2f90-1c94-47cf-b5c2-9cce7b8f4b2d, user_id=8f36c453-edbc-4acf-9f52-46da6c7b7b31
2025-11-05 20:18:40,129 - app.schemas.document_schema - DEBUG - Validated filename for upload: test_document.txt
2025-11-05 20:18:40,129 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:18:40,129 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test_document.txt
2025-11-05 20:18:40,130 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:18:40,130 - app.routes.documents - INFO - File MD5: 1f6f15f08533976f0ed772204694a57e, size: 148 bytes
2025-11-05 20:18:40,131 - app.utils.database - INFO - Created session factory for tenant database: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:18:40,132 - app.models.file - DEBUG - Generated S3 path: tenants/50ff2f90-1c94-47cf-b5c2-9cce7b8f4b2d/files/1f/6f/1f6f15f08533976f0ed772204694a57e_None
2025-11-05 20:18:40,132 - app.models.file - INFO - File object initialized: md5=1f6f15f08533976f0ed772204694a57e, size=148, s3_path=tenants/50ff2f90-1c94-47cf-b5c2-9cce7b8f4b2d/files/1f/6f/1f6f15f08533976f0ed772204694a57e_None
2025-11-05 20:18:40,133 - app.routes.documents - INFO - Created new file: file_id=43eef47c-c9d4-4b87-b8b1-8032d5ee732d, md5=1f6f15f08533976f0ed772204694a57e, s3_path=tenants/50ff2f90-1c94-47cf-b5c2-9cce7b8f4b2d/files/1f/6f/1f6f15f08533976f0ed772204694a57e_None
2025-11-05 20:18:40,133 - app.models.document - INFO - Document object initialized: filename=test_document.txt, mime_type=text/plain, file_id=43eef47c-c9d4-4b87-b8b1-8032d5ee732d, user_id=8f36c453-edbc-4acf-9f52-46da6c7b7b31
2025-11-05 20:18:40,134 - app.routes.documents - INFO - Document uploaded successfully: document_id=b10b6dfe-b217-4f65-82a9-27e05cb05cf0, file_id=43eef47c-c9d4-4b87-b8b1-8032d5ee732d
2025-11-05 20:18:40,134 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_test_upload_tenant_1762373919_1dc1d8db
2025-11-05 20:19:00,312 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:19:00,313 - app - INFO - Flask app created with config: development
2025-11-05 20:19:00,313 - app - INFO - Debug mode: True
2025-11-05 20:19:00,315 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:19:00,343 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:19:00,343 - app - INFO - Flask app created with config: development
2025-11-05 20:19:00,343 - app - INFO - Debug mode: True
2025-11-05 20:19:00,343 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:19:00,412 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:19:00,412 - app - INFO - Flask app created with config: development
2025-11-05 20:19:00,412 - app - INFO - Debug mode: True
2025-11-05 20:19:00,412 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:19:00,487 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:19:00,487 - app - INFO - Flask app created with config: development
2025-11-05 20:19:00,487 - app - INFO - Debug mode: True
2025-11-05 20:19:00,487 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:19:14,956 - app.models.user - DEBUG - Password hashed for user: test_upload_1762373954@example.com
2025-11-05 20:19:15,194 - app.utils.decorators - DEBUG - Authenticated user: 96a6bc5b-341f-404c-a3af-f4eac440fe51
2025-11-05 20:19:15,194 - app.routes.tenants - INFO - Creating tenant for user_id=96a6bc5b-341f-404c-a3af-f4eac440fe51
2025-11-05 20:19:15,194 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Test Upload Tenant 1762373954
2025-11-05 20:19:15,195 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: Test Upload Tenant 1762373954
2025-11-05 20:19:15,195 - app.models.tenant - DEBUG - Generated database name: Test Upload Tenant 1762373954 -> tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,195 - app.models.tenant - INFO - Tenant object initialized: name=Test Upload Tenant 1762373954, database_name=tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,234 - app.utils.database - INFO - Created tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,235 - app.utils.database - INFO - Created engine for tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,249 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,255 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,255 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,255 - app.routes.tenants - INFO - Created database and tables: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,256 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=96a6bc5b-341f-404c-a3af-f4eac440fe51, tenant_id=7e1926de-3af3-4692-beb0-212518ad654d, role=admin
2025-11-05 20:19:15,257 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=7e1926de-3af3-4692-beb0-212518ad654d, database=tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,288 - app.utils.decorators - DEBUG - Authenticated user: 96a6bc5b-341f-404c-a3af-f4eac440fe51
2025-11-05 20:19:15,288 - app.routes.documents - INFO - Uploading document: tenant_id=7e1926de-3af3-4692-beb0-212518ad654d, user_id=96a6bc5b-341f-404c-a3af-f4eac440fe51
2025-11-05 20:19:15,300 - app.schemas.document_schema - DEBUG - Validated filename for upload: test_document.txt
2025-11-05 20:19:15,300 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:19:15,300 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test_document.txt
2025-11-05 20:19:15,300 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:19:15,300 - app.routes.documents - INFO - File MD5: 560a4540736813214d8b4bb257e3bccd, size: 148 bytes
2025-11-05 20:19:15,301 - app.utils.database - INFO - Created engine for tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,301 - app.utils.database - INFO - Created session factory for tenant database: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:19:15,307 - app.models.file - DEBUG - Generated S3 path: tenants/7e1926de-3af3-4692-beb0-212518ad654d/files/56/0a/560a4540736813214d8b4bb257e3bccd_None
2025-11-05 20:19:15,308 - app.models.file - INFO - File object initialized: md5=560a4540736813214d8b4bb257e3bccd, size=148, s3_path=tenants/7e1926de-3af3-4692-beb0-212518ad654d/files/56/0a/560a4540736813214d8b4bb257e3bccd_None
2025-11-05 20:19:15,309 - app.routes.documents - INFO - Created new file: file_id=8f0f14d1-a3b7-4f1e-9eec-e76199685cea, md5=560a4540736813214d8b4bb257e3bccd, s3_path=tenants/7e1926de-3af3-4692-beb0-212518ad654d/files/56/0a/560a4540736813214d8b4bb257e3bccd_None
2025-11-05 20:19:15,402 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:19:15,402 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:19:15,407 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/7e1926de-3af3-4692-beb0-212518ad654d/files/56/0a/560a4540736813214d8b4bb257e3bccd_None, content_type=text/plain
2025-11-05 20:19:15,407 - app.utils.s3_client - INFO - File uploaded to S3: tenants/7e1926de-3af3-4692-beb0-212518ad654d/files/56/0a/560a4540736813214d8b4bb257e3bccd_None
2025-11-05 20:19:15,408 - app.models.document - INFO - Document object initialized: filename=test_document.txt, mime_type=text/plain, file_id=8f0f14d1-a3b7-4f1e-9eec-e76199685cea, user_id=96a6bc5b-341f-404c-a3af-f4eac440fe51
2025-11-05 20:19:15,409 - app.routes.documents - INFO - Document uploaded successfully: document_id=b3005db9-8c21-4967-bff2-4bb8bf43ff5e, file_id=8f0f14d1-a3b7-4f1e-9eec-e76199685cea
2025-11-05 20:19:15,410 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_test_upload_tenant_1762373954_3dcdac48
2025-11-05 20:20:00,142 - app.models.user - DEBUG - Password hashed for user: test_dl_1762373999@example.com
2025-11-05 20:20:00,384 - app.utils.decorators - DEBUG - Authenticated user: a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,384 - app.routes.tenants - INFO - Creating tenant for user_id=a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,384 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Test Download Tenant 1762373999
2025-11-05 20:20:00,384 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: Test Download Tenant 1762373999
2025-11-05 20:20:00,385 - app.models.tenant - DEBUG - Generated database name: Test Download Tenant 1762373999 -> tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,385 - app.models.tenant - INFO - Tenant object initialized: name=Test Download Tenant 1762373999, database_name=tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,430 - app.utils.database - INFO - Created tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,431 - app.utils.database - INFO - Created engine for tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,445 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,451 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,451 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,451 - app.routes.tenants - INFO - Created database and tables: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,451 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=a0bd8974-b11e-462e-acc2-077fdd011b7b, tenant_id=5dbffeba-b5da-4ec5-8302-544698ab540b, role=admin
2025-11-05 20:20:00,453 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=5dbffeba-b5da-4ec5-8302-544698ab540b, database=tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,482 - app.utils.decorators - DEBUG - Authenticated user: a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,482 - app.routes.documents - INFO - Uploading document: tenant_id=5dbffeba-b5da-4ec5-8302-544698ab540b, user_id=a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,484 - app.schemas.document_schema - DEBUG - Validated filename for upload: download_test.txt
2025-11-05 20:20:00,484 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:20:00,484 - app.schemas.document_schema - DEBUG - Normalized filename for upload: download_test.txt
2025-11-05 20:20:00,484 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:20:00,484 - app.routes.documents - INFO - File MD5: 9aae55330bd1ded0e0c5f98ab92f3a5f, size: 36 bytes
2025-11-05 20:20:00,485 - app.utils.database - INFO - Created session factory for tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,486 - app.models.file - DEBUG - Generated S3 path: tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None
2025-11-05 20:20:00,486 - app.models.file - INFO - File object initialized: md5=9aae55330bd1ded0e0c5f98ab92f3a5f, size=36, s3_path=tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None
2025-11-05 20:20:00,487 - app.routes.documents - INFO - Created new file: file_id=1564b40e-f72c-4abd-8707-778102666985, md5=9aae55330bd1ded0e0c5f98ab92f3a5f, s3_path=tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None
2025-11-05 20:20:00,491 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None, content_type=text/plain
2025-11-05 20:20:00,491 - app.utils.s3_client - INFO - File uploaded to S3: tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None
2025-11-05 20:20:00,491 - app.models.document - INFO - Document object initialized: filename=download_test.txt, mime_type=text/plain, file_id=1564b40e-f72c-4abd-8707-778102666985, user_id=a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,492 - app.routes.documents - INFO - Document uploaded successfully: document_id=562002e9-bf1e-4bec-bbbd-9a7414cacacb, file_id=1564b40e-f72c-4abd-8707-778102666985
2025-11-05 20:20:00,493 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,517 - app.utils.decorators - DEBUG - Authenticated user: a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,517 - app.routes.documents - INFO - Generating download URL: tenant_id=5dbffeba-b5da-4ec5-8302-544698ab540b, document_id=562002e9-bf1e-4bec-bbbd-9a7414cacacb, user_id=a0bd8974-b11e-462e-acc2-077fdd011b7b
2025-11-05 20:20:00,520 - app.utils.database - INFO - Created engine for tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,520 - app.utils.database - INFO - Created session factory for tenant database: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:00,608 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:20:00,608 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:20:00,609 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None, expires_in=3600
2025-11-05 20:20:00,609 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/5dbffeba-b5da-4ec5-8302-544698ab540b/files/9a/ae/9aae55330bd1ded0e0c5f98ab92f3a5f_None (expires in 3600s)
2025-11-05 20:20:00,610 - app.routes.documents - INFO - Download URL generated: document_id=562002e9-bf1e-4bec-bbbd-9a7414cacacb, expires_in=3600s
2025-11-05 20:20:00,610 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_test_download_tenant_1762373999_e8d66d3b
2025-11-05 20:20:19,757 - app.models.user - DEBUG - Password hashed for user: test_dl_1762374019@example.com
2025-11-05 20:20:19,987 - app.utils.decorators - DEBUG - Authenticated user: 866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:19,987 - app.routes.tenants - INFO - Creating tenant for user_id=866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:19,987 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Test Download Tenant 1762374019
2025-11-05 20:20:19,987 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: Test Download Tenant 1762374019
2025-11-05 20:20:19,988 - app.models.tenant - DEBUG - Generated database name: Test Download Tenant 1762374019 -> tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:19,988 - app.models.tenant - INFO - Tenant object initialized: name=Test Download Tenant 1762374019, database_name=tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,034 - app.utils.database - INFO - Created tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,034 - app.utils.database - INFO - Created engine for tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,048 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,053 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,053 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,053 - app.routes.tenants - INFO - Created database and tables: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,053 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=866d031b-4942-44cb-8ed1-6b152486c722, tenant_id=ae3a5931-7126-47c6-bdf4-d131440a6799, role=admin
2025-11-05 20:20:20,054 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=ae3a5931-7126-47c6-bdf4-d131440a6799, database=tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,083 - app.utils.decorators - DEBUG - Authenticated user: 866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:20,083 - app.routes.documents - INFO - Uploading document: tenant_id=ae3a5931-7126-47c6-bdf4-d131440a6799, user_id=866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:20,095 - app.schemas.document_schema - DEBUG - Validated filename for upload: download_test.txt
2025-11-05 20:20:20,095 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:20:20,095 - app.schemas.document_schema - DEBUG - Normalized filename for upload: download_test.txt
2025-11-05 20:20:20,095 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:20:20,095 - app.routes.documents - INFO - File MD5: 5f6dd6064beb2d0f358cc0afff5f7efd, size: 36 bytes
2025-11-05 20:20:20,096 - app.utils.database - INFO - Created engine for tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,096 - app.utils.database - INFO - Created session factory for tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,103 - app.models.file - DEBUG - Generated S3 path: tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None
2025-11-05 20:20:20,103 - app.models.file - INFO - File object initialized: md5=5f6dd6064beb2d0f358cc0afff5f7efd, size=36, s3_path=tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None
2025-11-05 20:20:20,104 - app.routes.documents - INFO - Created new file: file_id=0118b33e-a343-4bae-a80a-772d9651dae5, md5=5f6dd6064beb2d0f358cc0afff5f7efd, s3_path=tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None
2025-11-05 20:20:20,186 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:20:20,186 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:20:20,191 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None, content_type=text/plain
2025-11-05 20:20:20,191 - app.utils.s3_client - INFO - File uploaded to S3: tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None
2025-11-05 20:20:20,192 - app.models.document - INFO - Document object initialized: filename=download_test.txt, mime_type=text/plain, file_id=0118b33e-a343-4bae-a80a-772d9651dae5, user_id=866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:20,193 - app.routes.documents - INFO - Document uploaded successfully: document_id=c1458f1d-a3df-4d8c-bd03-c45a05d07177, file_id=0118b33e-a343-4bae-a80a-772d9651dae5
2025-11-05 20:20:20,193 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,225 - app.utils.decorators - DEBUG - Authenticated user: 866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:20,225 - app.routes.documents - INFO - Generating download URL: tenant_id=ae3a5931-7126-47c6-bdf4-d131440a6799, document_id=c1458f1d-a3df-4d8c-bd03-c45a05d07177, user_id=866d031b-4942-44cb-8ed1-6b152486c722
2025-11-05 20:20:20,227 - app.utils.database - INFO - Created engine for tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,227 - app.utils.database - INFO - Created session factory for tenant database: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:20:20,234 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None, expires_in=3600
2025-11-05 20:20:20,235 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/ae3a5931-7126-47c6-bdf4-d131440a6799/files/5f/6d/5f6dd6064beb2d0f358cc0afff5f7efd_None (expires in 3600s)
2025-11-05 20:20:20,235 - app.routes.documents - INFO - Download URL generated: document_id=c1458f1d-a3df-4d8c-bd03-c45a05d07177, expires_in=3600s
2025-11-05 20:20:20,235 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_test_download_tenant_1762374019_bc191d93
2025-11-05 20:23:13,614 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:23:13,615 - app.routes.documents - INFO - Uploading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:23:13,624 - app.schemas.document_schema - DEBUG - Validated filename for upload: test.pdf
2025-11-05 20:23:13,625 - app.routes.documents - WARNING - Validation error: {'mime_type': ['Length must be between 1 and 100.']}
2025-11-05 20:23:26,069 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:23:26,070 - app.routes.documents - INFO - Uploading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:23:26,085 - app.schemas.document_schema - DEBUG - Validated filename for upload: test.pdf
2025-11-05 20:23:26,085 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/pdf
2025-11-05 20:23:26,086 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test.pdf
2025-11-05 20:23:26,086 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/pdf
2025-11-05 20:23:26,087 - app.routes.documents - INFO - File MD5: b5d774f77e1742d1a18c7a34e85323fb, size: 368951 bytes
2025-11-05 20:23:26,089 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 20:23:26,090 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 20:23:26,100 - app.models.file - DEBUG - Generated S3 path: tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_None
2025-11-05 20:23:26,101 - app.models.file - INFO - File object initialized: md5=b5d774f77e1742d1a18c7a34e85323fb, size=368951, s3_path=tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_None
2025-11-05 20:23:26,102 - app.routes.documents - INFO - Created new file: file_id=1f2456d2-5731-4e98-8c2c-984132e782ab, md5=b5d774f77e1742d1a18c7a34e85323fb, s3_path=tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_None
2025-11-05 20:23:26,204 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:23:26,205 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:23:26,212 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_None, content_type=text/pdf
2025-11-05 20:23:26,212 - app.utils.s3_client - INFO - File uploaded to S3: tenants/9b2cf18a-243d-4ceb-8b87-9fcc4babbb54/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_None
2025-11-05 20:23:26,212 - app.models.document - INFO - Document object initialized: filename=test.pdf, mime_type=text/pdf, file_id=1f2456d2-5731-4e98-8c2c-984132e782ab, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:23:26,214 - app.routes.documents - INFO - Document uploaded successfully: document_id=d66ccbb3-93fd-4430-b5f4-9255bd20729c, file_id=1f2456d2-5731-4e98-8c2c-984132e782ab
2025-11-05 20:23:26,214 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 20:28:02,599 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:28:02,599 - app - INFO - Flask app created with config: development
2025-11-05 20:28:02,600 - app - INFO - Debug mode: True
2025-11-05 20:28:02,600 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:28:02,638 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:28:02,639 - app - INFO - Flask app created with config: development
2025-11-05 20:28:02,639 - app - INFO - Debug mode: True
2025-11-05 20:28:02,639 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:28:02,747 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:28:02,747 - app - INFO - Flask app created with config: development
2025-11-05 20:28:02,748 - app - INFO - Debug mode: True
2025-11-05 20:28:02,749 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:28:02,777 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:28:02,777 - app - INFO - Flask app created with config: development
2025-11-05 20:28:02,777 - app - INFO - Debug mode: True
2025-11-05 20:28:02,777 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:28:29,222 - app.models.user - DEBUG - Password hashed for user: test_path_1762374509@example.com
2025-11-05 20:28:29,454 - app.utils.decorators - DEBUG - Authenticated user: 7aa7a015-95f7-4a58-a58b-f321a8986e7d
2025-11-05 20:28:29,454 - app.routes.tenants - INFO - Creating tenant for user_id=7aa7a015-95f7-4a58-a58b-f321a8986e7d
2025-11-05 20:28:29,455 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: TestPath 1762374509
2025-11-05 20:28:29,455 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: TestPath 1762374509
2025-11-05 20:28:29,458 - app.models.tenant - DEBUG - Generated database name: TestPath 1762374509 -> tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,458 - app.models.tenant - INFO - Tenant object initialized: name=TestPath 1762374509, database_name=tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,499 - app.utils.database - INFO - Created tenant database: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,499 - app.utils.database - INFO - Created engine for tenant database: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,513 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,519 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,519 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,519 - app.routes.tenants - INFO - Created database and tables: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,519 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=7aa7a015-95f7-4a58-a58b-f321a8986e7d, tenant_id=42f3b275-48c3-477d-a3b5-6a4900371807, role=admin
2025-11-05 20:28:29,522 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=42f3b275-48c3-477d-a3b5-6a4900371807, database=tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,564 - app.utils.decorators - DEBUG - Authenticated user: 7aa7a015-95f7-4a58-a58b-f321a8986e7d
2025-11-05 20:28:29,565 - app.routes.documents - INFO - Uploading document: tenant_id=42f3b275-48c3-477d-a3b5-6a4900371807, user_id=7aa7a015-95f7-4a58-a58b-f321a8986e7d
2025-11-05 20:28:29,568 - app.schemas.document_schema - DEBUG - Validated filename for upload: test_path.txt
2025-11-05 20:28:29,568 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:28:29,568 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test_path.txt
2025-11-05 20:28:29,569 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:28:29,569 - app.routes.documents - INFO - File MD5: d7425b99173cf0db8183fe9c5a95e5b6, size: 49 bytes
2025-11-05 20:28:29,569 - app.utils.database - INFO - Created session factory for tenant database: tenant_testpath_1762374509_fbda372d
2025-11-05 20:28:29,571 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_testpath_1762374509_fbda372d/files/d7/42/d7425b99173cf0db8183fe9c5a95e5b6_None
2025-11-05 20:28:29,571 - app.models.file - INFO - File object initialized: md5=d7425b99173cf0db8183fe9c5a95e5b6, size=49, s3_path=tenants/tenant_testpath_1762374509_fbda372d/files/d7/42/d7425b99173cf0db8183fe9c5a95e5b6_None
2025-11-05 20:28:29,572 - app.routes.documents - INFO - Created new file: file_id=3f01a2d9-c76f-4b8d-beae-f177eea0bd9f, md5=d7425b99173cf0db8183fe9c5a95e5b6, s3_path=tenants/tenant_testpath_1762374509_fbda372d/files/d7/42/d7425b99173cf0db8183fe9c5a95e5b6_None
2025-11-05 20:28:29,657 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:28:29,657 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:28:29,662 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_testpath_1762374509_fbda372d/files/d7/42/d7425b99173cf0db8183fe9c5a95e5b6_None, content_type=text/plain
2025-11-05 20:28:29,662 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_testpath_1762374509_fbda372d/files/d7/42/d7425b99173cf0db8183fe9c5a95e5b6_None
2025-11-05 20:28:29,662 - app.models.document - INFO - Document object initialized: filename=test_path.txt, mime_type=text/plain, file_id=3f01a2d9-c76f-4b8d-beae-f177eea0bd9f, user_id=7aa7a015-95f7-4a58-a58b-f321a8986e7d
2025-11-05 20:28:29,664 - app.routes.documents - INFO - Document uploaded successfully: document_id=1f216882-9b06-4583-ba53-4b092302d4e6, file_id=3f01a2d9-c76f-4b8d-beae-f177eea0bd9f
2025-11-05 20:28:29,664 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_testpath_1762374509_fbda372d
2025-11-05 20:29:20,529 - app.models.user - DEBUG - Password hashed for user: iter_test_1762374560@example.com
2025-11-05 20:29:20,756 - app.utils.decorators - DEBUG - Authenticated user: 3ab72a03-b066-4b4f-9fe4-8a2398147951
2025-11-05 20:29:20,757 - app.routes.tenants - INFO - Creating tenant for user_id=3ab72a03-b066-4b4f-9fe4-8a2398147951
2025-11-05 20:29:20,757 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: iter
2025-11-05 20:29:20,757 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: iter
2025-11-05 20:29:20,757 - app.models.tenant - DEBUG - Generated database name: iter -> tenant_iter_ac905dd4
2025-11-05 20:29:20,757 - app.models.tenant - INFO - Tenant object initialized: name=iter, database_name=tenant_iter_ac905dd4
2025-11-05 20:29:20,792 - app.utils.database - INFO - Created tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,792 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,806 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,812 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,812 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,812 - app.routes.tenants - INFO - Created database and tables: tenant_iter_ac905dd4
2025-11-05 20:29:20,812 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=3ab72a03-b066-4b4f-9fe4-8a2398147951, tenant_id=f95bf2f2-ace7-49d3-9b83-d3704871b4ea, role=admin
2025-11-05 20:29:20,814 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=f95bf2f2-ace7-49d3-9b83-d3704871b4ea, database=tenant_iter_ac905dd4
2025-11-05 20:29:20,861 - app.utils.decorators - DEBUG - Authenticated user: 3ab72a03-b066-4b4f-9fe4-8a2398147951
2025-11-05 20:29:20,861 - app.routes.documents - INFO - Uploading document: tenant_id=f95bf2f2-ace7-49d3-9b83-d3704871b4ea, user_id=3ab72a03-b066-4b4f-9fe4-8a2398147951
2025-11-05 20:29:20,865 - app.schemas.document_schema - DEBUG - Validated filename for upload: iter_document.txt
2025-11-05 20:29:20,865 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:29:20,865 - app.schemas.document_schema - DEBUG - Normalized filename for upload: iter_document.txt
2025-11-05 20:29:20,865 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:29:20,865 - app.routes.documents - INFO - File MD5: b7f9f8503e79db6f567041f55424531d, size: 122 bytes
2025-11-05 20:29:20,866 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,866 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_ac905dd4
2025-11-05 20:29:20,872 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_iter_ac905dd4/files/b7/f9/b7f9f8503e79db6f567041f55424531d_None
2025-11-05 20:29:20,873 - app.models.file - INFO - File object initialized: md5=b7f9f8503e79db6f567041f55424531d, size=122, s3_path=tenants/tenant_iter_ac905dd4/files/b7/f9/b7f9f8503e79db6f567041f55424531d_None
2025-11-05 20:29:20,874 - app.routes.documents - INFO - Created new file: file_id=d0d3e35b-9136-45e8-9138-855902b925b3, md5=b7f9f8503e79db6f567041f55424531d, s3_path=tenants/tenant_iter_ac905dd4/files/b7/f9/b7f9f8503e79db6f567041f55424531d_None
2025-11-05 20:29:20,956 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:29:20,956 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:29:20,961 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_iter_ac905dd4/files/b7/f9/b7f9f8503e79db6f567041f55424531d_None, content_type=text/plain
2025-11-05 20:29:20,961 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_iter_ac905dd4/files/b7/f9/b7f9f8503e79db6f567041f55424531d_None
2025-11-05 20:29:20,961 - app.models.document - INFO - Document object initialized: filename=iter_document.txt, mime_type=text/plain, file_id=d0d3e35b-9136-45e8-9138-855902b925b3, user_id=3ab72a03-b066-4b4f-9fe4-8a2398147951
2025-11-05 20:29:20,963 - app.routes.documents - INFO - Document uploaded successfully: document_id=7332032b-0927-48b4-ac80-943631c892ee, file_id=d0d3e35b-9136-45e8-9138-855902b925b3
2025-11-05 20:29:20,963 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_ac905dd4
2025-11-05 20:33:46,463 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:33:46,463 - app - INFO - Flask app created with config: development
2025-11-05 20:33:46,463 - app - INFO - Debug mode: True
2025-11-05 20:33:46,463 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:33:46,488 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:33:46,488 - app - INFO - Flask app created with config: development
2025-11-05 20:33:46,488 - app - INFO - Debug mode: True
2025-11-05 20:33:46,488 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:33:46,498 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:33:46,498 - app - INFO - Flask app created with config: development
2025-11-05 20:33:46,498 - app - INFO - Debug mode: True
2025-11-05 20:33:46,499 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:33:46,516 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:33:46,516 - app - INFO - Flask app created with config: development
2025-11-05 20:33:46,516 - app - INFO - Debug mode: True
2025-11-05 20:33:46,516 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:34:14,373 - app.models.user - DEBUG - Password hashed for user: test_fileid_1762374854@example.com
2025-11-05 20:34:14,602 - app.utils.decorators - DEBUG - Authenticated user: 5efddc20-666b-4ae5-a677-a1028d01b157
2025-11-05 20:34:14,603 - app.routes.tenants - INFO - Creating tenant for user_id=5efddc20-666b-4ae5-a677-a1028d01b157
2025-11-05 20:34:14,603 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: TestFileID 1762374854
2025-11-05 20:34:14,603 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: TestFileID 1762374854
2025-11-05 20:34:14,603 - app.models.tenant - DEBUG - Generated database name: TestFileID 1762374854 -> tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,603 - app.models.tenant - INFO - Tenant object initialized: name=TestFileID 1762374854, database_name=tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,642 - app.utils.database - INFO - Created tenant database: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,642 - app.utils.database - INFO - Created engine for tenant database: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,657 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,662 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,662 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,662 - app.routes.tenants - INFO - Created database and tables: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,663 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=5efddc20-666b-4ae5-a677-a1028d01b157, tenant_id=bf8d7f23-ae77-43b4-a2d4-d6f1cfc7d6c9, role=admin
2025-11-05 20:34:14,665 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=bf8d7f23-ae77-43b4-a2d4-d6f1cfc7d6c9, database=tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,707 - app.utils.decorators - DEBUG - Authenticated user: 5efddc20-666b-4ae5-a677-a1028d01b157
2025-11-05 20:34:14,707 - app.routes.documents - INFO - Uploading document: tenant_id=bf8d7f23-ae77-43b4-a2d4-d6f1cfc7d6c9, user_id=5efddc20-666b-4ae5-a677-a1028d01b157
2025-11-05 20:34:14,709 - app.schemas.document_schema - DEBUG - Validated filename for upload: test_fileid.txt
2025-11-05 20:34:14,710 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-05 20:34:14,710 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test_fileid.txt
2025-11-05 20:34:14,710 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-05 20:34:14,710 - app.routes.documents - INFO - File MD5: 09a7ea3c184c836635c0e60f17fd472f, size: 49 bytes
2025-11-05 20:34:14,711 - app.utils.database - INFO - Created session factory for tenant database: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:34:14,712 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_testfileid_1762374854_abf5b9fd/files/09/a7/09a7ea3c184c836635c0e60f17fd472f_temp
2025-11-05 20:34:14,712 - app.models.file - INFO - File object initialized: md5=09a7ea3c184c836635c0e60f17fd472f, size=49, s3_path=tenants/tenant_testfileid_1762374854_abf5b9fd/files/09/a7/09a7ea3c184c836635c0e60f17fd472f_temp
2025-11-05 20:34:14,713 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_testfileid_1762374854_abf5b9fd/files/09/a7/09a7ea3c184c836635c0e60f17fd472f_263996cd-94cc-411e-9ec8-ed74d405ceda
2025-11-05 20:34:14,714 - app.routes.documents - INFO - Created new file: file_id=263996cd-94cc-411e-9ec8-ed74d405ceda, md5=09a7ea3c184c836635c0e60f17fd472f, s3_path=tenants/tenant_testfileid_1762374854_abf5b9fd/files/09/a7/09a7ea3c184c836635c0e60f17fd472f_263996cd-94cc-411e-9ec8-ed74d405ceda
2025-11-05 20:34:14,796 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:34:14,796 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:34:14,801 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_testfileid_1762374854_abf5b9fd/files/09/a7/09a7ea3c184c836635c0e60f17fd472f_263996cd-94cc-411e-9ec8-ed74d405ceda, content_type=text/plain
2025-11-05 20:34:14,801 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_testfileid_1762374854_abf5b9fd/files/09/a7/09a7ea3c184c836635c0e60f17fd472f_263996cd-94cc-411e-9ec8-ed74d405ceda
2025-11-05 20:34:14,802 - app.models.document - INFO - Document object initialized: filename=test_fileid.txt, mime_type=text/plain, file_id=263996cd-94cc-411e-9ec8-ed74d405ceda, user_id=5efddc20-666b-4ae5-a677-a1028d01b157
2025-11-05 20:34:14,803 - app.routes.documents - INFO - Document uploaded successfully: document_id=92af68e3-0590-4adf-b1fa-62abb723a5e3, file_id=263996cd-94cc-411e-9ec8-ed74d405ceda
2025-11-05 20:34:14,803 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_testfileid_1762374854_abf5b9fd
2025-11-05 20:35:27,219 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:35:27,219 - app - INFO - Flask app created with config: development
2025-11-05 20:35:27,219 - app - INFO - Debug mode: True
2025-11-05 20:35:27,220 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:35:27,281 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:35:27,281 - app - INFO - Flask app created with config: development
2025-11-05 20:35:27,281 - app - INFO - Debug mode: True
2025-11-05 20:35:27,282 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:35:27,348 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:35:27,348 - app - INFO - Flask app created with config: development
2025-11-05 20:35:27,349 - app - INFO - Debug mode: True
2025-11-05 20:35:27,349 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:35:27,379 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 20:35:27,379 - app - INFO - Flask app created with config: development
2025-11-05 20:35:27,379 - app - INFO - Debug mode: True
2025-11-05 20:35:27,379 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 20:36:51,215 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:36:51,216 - app.routes.documents - INFO - Uploading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:36:51,228 - app.schemas.document_schema - DEBUG - Validated filename for upload: test.pdf
2025-11-05 20:36:51,228 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/pdf
2025-11-05 20:36:51,228 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test.pdf
2025-11-05 20:36:51,229 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/pdf
2025-11-05 20:36:51,230 - app.routes.documents - INFO - File MD5: b5d774f77e1742d1a18c7a34e85323fb, size: 368951 bytes
2025-11-05 20:36:51,231 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 20:36:51,232 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 20:36:51,241 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_temp
2025-11-05 20:36:51,241 - app.models.file - INFO - File object initialized: md5=b5d774f77e1742d1a18c7a34e85323fb, size=368951, s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_temp
2025-11-05 20:36:51,243 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 20:36:51,245 - app.routes.documents - INFO - Created new file: file_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, md5=b5d774f77e1742d1a18c7a34e85323fb, s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 20:36:51,347 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 20:36:51,347 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 20:36:51,354 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, content_type=text/pdf
2025-11-05 20:36:51,354 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 20:36:51,354 - app.models.document - INFO - Document object initialized: filename=test.pdf, mime_type=text/pdf, file_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 20:36:51,356 - app.routes.documents - INFO - Document uploaded successfully: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, file_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 20:36:51,356 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:38:08,413 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:38:08,413 - app - INFO - Flask app created with config: development
2025-11-05 21:38:08,413 - app - INFO - Debug mode: True
2025-11-05 21:38:08,413 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:38:08,457 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:38:08,457 - app - INFO - Flask app created with config: development
2025-11-05 21:38:08,457 - app - INFO - Debug mode: True
2025-11-05 21:38:08,457 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:38:08,555 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:38:08,555 - app - INFO - Flask app created with config: development
2025-11-05 21:38:08,555 - app - INFO - Debug mode: True
2025-11-05 21:38:08,556 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:38:08,592 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:38:08,592 - app - INFO - Flask app created with config: development
2025-11-05 21:38:08,592 - app - INFO - Debug mode: True
2025-11-05 21:38:08,592 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:38:58,191 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:38:58,192 - app.routes.documents - INFO - Downloading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:38:58,224 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 21:38:58,224 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 21:38:58,236 - app.routes.documents - INFO - Streaming file from S3: s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, filename=test.pdf
2025-11-05 21:38:58,239 - app.utils.database - ERROR - Rolled back transaction for tenant tenant_iter_45fca42c: 'NoneType' object has no attribute 'get_object'
2025-11-05 21:38:58,239 - app.routes.documents - ERROR - Error downloading document: 'NoneType' object has no attribute 'get_object'
Traceback (most recent call last):
  File "/app/app/routes/documents.py", line 535, in download_document
    s3_object = s3_client._client.get_object(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get_object'
2025-11-05 21:40:44,683 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:40:44,685 - app - INFO - Flask app created with config: development
2025-11-05 21:40:44,685 - app - INFO - Debug mode: True
2025-11-05 21:40:44,686 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:40:44,703 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:40:44,705 - app - INFO - Flask app created with config: development
2025-11-05 21:40:44,706 - app - INFO - Debug mode: True
2025-11-05 21:40:44,707 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:40:44,736 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:40:44,736 - app - INFO - Flask app created with config: development
2025-11-05 21:40:44,736 - app - INFO - Debug mode: True
2025-11-05 21:40:44,736 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:40:44,774 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:40:44,774 - app - INFO - Flask app created with config: development
2025-11-05 21:40:44,774 - app - INFO - Debug mode: True
2025-11-05 21:40:44,774 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:41:12,525 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:41:12,526 - app.routes.documents - INFO - Downloading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:41:12,559 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 21:41:12,559 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 21:41:12,570 - app.routes.documents - INFO - Streaming file from S3: s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, filename=test.pdf
2025-11-05 21:41:12,668 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 21:41:12,668 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 21:41:12,671 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:41:12,671 - app.routes.documents - INFO - Document download started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:41:12,672 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:41:21,918 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:41:21,919 - app.routes.documents - INFO - Downloading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:41:21,948 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 21:41:21,948 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 21:41:21,959 - app.routes.documents - INFO - Streaming file from S3: s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, filename=test.pdf
2025-11-05 21:41:22,057 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 21:41:22,057 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 21:41:22,060 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:41:22,061 - app.routes.documents - INFO - Document download started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:41:22,061 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:41:54,339 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:41:54,340 - app.routes.documents - INFO - Downloading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:41:54,373 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 21:41:54,373 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 21:41:54,385 - app.routes.documents - INFO - Streaming file from S3: s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, filename=test.pdf
2025-11-05 21:41:54,482 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 21:41:54,482 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 21:41:54,487 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:41:54,487 - app.routes.documents - INFO - Document download started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:41:54,487 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:42:46,323 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:42:46,324 - app.routes.documents - INFO - Downloading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:42:46,336 - app.routes.documents - INFO - Streaming file from S3: s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, filename=test.pdf
2025-11-05 21:42:46,343 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:42:46,343 - app.routes.documents - INFO - Document download started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:42:46,344 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:43:16,258 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:43:16,260 - app.routes.documents - INFO - Downloading document: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:43:16,267 - app.routes.documents - INFO - Streaming file from S3: s3_path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, filename=test.pdf
2025-11-05 21:43:16,273 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:43:16,274 - app.routes.documents - INFO - Document download started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:43:16,275 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:45:58,618 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:45:58,618 - app - INFO - Flask app created with config: development
2025-11-05 21:45:58,619 - app - INFO - Debug mode: True
2025-11-05 21:45:58,619 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:45:58,702 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 21:45:58,702 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 21:45:58,705 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:51:37,174 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:51:37,174 - app - INFO - Flask app created with config: development
2025-11-05 21:51:37,175 - app - INFO - Debug mode: True
2025-11-05 21:51:37,175 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:51:37,182 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:51:37,183 - app - INFO - Flask app created with config: development
2025-11-05 21:51:37,183 - app - INFO - Debug mode: True
2025-11-05 21:51:37,184 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:51:37,196 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:51:37,196 - app - INFO - Flask app created with config: development
2025-11-05 21:51:37,196 - app - INFO - Debug mode: True
2025-11-05 21:51:37,196 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:51:37,213 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 21:51:37,213 - app - INFO - Flask app created with config: development
2025-11-05 21:51:37,214 - app - INFO - Debug mode: True
2025-11-05 21:51:37,214 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 21:52:09,094 - app.utils.decorators - ERROR - JWT validation failed: Signature has expired
2025-11-05 21:52:33,030 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:52:33,030 - app.routes.documents - INFO - Download request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:52:33,057 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 21:52:33,057 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 21:52:33,058 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 21:52:33,069 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951, md5=b5d774f77e1742d1a18c7a34e85323fb, role=admin
2025-11-05 21:52:33,168 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 21:52:33,169 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 21:52:33,172 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:52:33,172 - app.routes.documents - INFO - Download stream started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:52:33,172 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:52:33,173 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951
2025-11-05 21:52:53,713 - app.utils.decorators - ERROR - JWT validation failed: Bad Authorization header. Expected 'Authorization: Bearer <JWT>'
2025-11-05 21:53:20,809 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:53:20,810 - app.routes.documents - INFO - Download request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:53:20,823 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 21:53:20,823 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 21:53:20,823 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 21:53:20,834 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951, md5=b5d774f77e1742d1a18c7a34e85323fb, role=admin
2025-11-05 21:53:20,917 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, use_ssl=False
2025-11-05 21:53:20,917 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 21:53:20,920 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:53:20,920 - app.routes.documents - INFO - Download stream started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:53:20,921 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:54:57,462 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:54:57,463 - app.routes.documents - INFO - Download request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:54:57,467 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 21:54:57,471 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951, md5=b5d774f77e1742d1a18c7a34e85323fb, role=admin
2025-11-05 21:54:57,478 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:54:57,479 - app.routes.documents - INFO - Download stream started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:54:57,479 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:54:57,481 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951
2025-11-05 21:55:29,197 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:55:29,199 - app.routes.documents - INFO - Download request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:55:29,205 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 21:55:29,208 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951, md5=b5d774f77e1742d1a18c7a34e85323fb, role=admin
2025-11-05 21:55:29,213 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:55:29,213 - app.routes.documents - INFO - Download stream started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:55:29,214 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:55:29,216 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951
2025-11-05 21:56:04,588 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:56:04,589 - app.routes.documents - INFO - Download request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 21:56:04,597 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 21:56:04,601 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951, md5=b5d774f77e1742d1a18c7a34e85323fb, role=admin
2025-11-05 21:56:04,607 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 21:56:04,607 - app.routes.documents - INFO - Download stream started: document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, size=368951 bytes
2025-11-05 21:56:04,608 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 21:56:04,610 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, size=368951
2025-11-05 22:37:09,516 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:37:09,517 - app.routes.documents - INFO - Listing documents: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:37:09,525 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:37:09,525 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:37:09,539 - app.routes.documents - INFO - Retrieved 2 documents for tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54
2025-11-05 22:37:09,540 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:39:39,054 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:39:39,054 - app - INFO - Flask app created with config: development
2025-11-05 22:39:39,054 - app - INFO - Debug mode: True
2025-11-05 22:39:39,055 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:39:39,088 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:39:39,088 - app - INFO - Flask app created with config: development
2025-11-05 22:39:39,088 - app - INFO - Debug mode: True
2025-11-05 22:39:39,088 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:39:39,138 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:39:39,138 - app - INFO - Flask app created with config: development
2025-11-05 22:39:39,139 - app - INFO - Debug mode: True
2025-11-05 22:39:39,139 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:39:39,143 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:39:39,143 - app - INFO - Flask app created with config: development
2025-11-05 22:39:39,143 - app - INFO - Debug mode: True
2025-11-05 22:39:39,143 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:39:52,109 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:39:52,110 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:39:52,135 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:39:52,136 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:39:52,136 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:39:52,248 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-05 22:39:52,248 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:39:52,249 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:39:52,250 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:39:52,250 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:39:52,250 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:42:17,870 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:42:17,870 - app - INFO - Flask app created with config: development
2025-11-05 22:42:17,870 - app - INFO - Debug mode: True
2025-11-05 22:42:17,870 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:44:25,079 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:44:25,080 - app - INFO - Flask app created with config: development
2025-11-05 22:44:25,080 - app - INFO - Debug mode: True
2025-11-05 22:44:25,080 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:44:25,134 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:44:25,134 - app - INFO - Flask app created with config: development
2025-11-05 22:44:25,134 - app - INFO - Debug mode: True
2025-11-05 22:44:25,134 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:44:25,182 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:44:25,182 - app - INFO - Flask app created with config: development
2025-11-05 22:44:25,182 - app - INFO - Debug mode: True
2025-11-05 22:44:25,182 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:44:25,191 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:44:25,191 - app - INFO - Flask app created with config: development
2025-11-05 22:44:25,191 - app - INFO - Debug mode: True
2025-11-05 22:44:25,191 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:47:27,227 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:47:27,228 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:47:27,239 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:47:27,240 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:47:27,241 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:47:27,253 - app.routes.documents - WARNING - Document not found: document_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 22:47:27,253 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:48:01,511 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:48:01,511 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:48:01,514 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:48:01,514 - app.routes.documents - WARNING - Document not found: document_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 22:48:01,515 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:48:31,934 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:48:31,936 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:48:31,972 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:48:31,973 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:48:31,973 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:48:31,982 - app.routes.documents - WARNING - Document not found: document_id=c6ed5667-2a23-4201-b3f5-2c7dc05b4c03
2025-11-05 22:48:31,983 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:48:57,234 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:48:57,235 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:48:57,239 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:48:57,375 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-05 22:48:57,375 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:48:57,376 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:48:57,376 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:48:57,377 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:48:57,378 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:51:02,619 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:51:02,619 - app - INFO - Flask app created with config: development
2025-11-05 22:51:02,619 - app - INFO - Debug mode: True
2025-11-05 22:51:02,620 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:51:02,725 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 22:51:02,725 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:52:28,982 - app.utils.decorators - ERROR - JWT validation failed: Signature has expired
2025-11-05 22:53:20,252 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:53:20,252 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:53:20,276 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:53:20,277 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:53:20,277 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:53:20,378 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-05 22:53:20,379 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:53:20,380 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:53:20,380 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:53:20,380 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:53:20,381 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:53:51,017 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:53:51,017 - app - INFO - Flask app created with config: development
2025-11-05 22:53:51,017 - app - INFO - Debug mode: True
2025-11-05 22:53:51,017 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:54:18,328 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:54:18,328 - app - INFO - Flask app created with config: development
2025-11-05 22:54:18,329 - app - INFO - Debug mode: True
2025-11-05 22:54:18,329 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:54:18,340 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:54:18,340 - app - INFO - Flask app created with config: development
2025-11-05 22:54:18,341 - app - INFO - Debug mode: True
2025-11-05 22:54:18,341 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:54:18,363 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:54:18,363 - app - INFO - Flask app created with config: development
2025-11-05 22:54:18,363 - app - INFO - Debug mode: True
2025-11-05 22:54:18,363 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:54:18,370 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:54:18,370 - app - INFO - Flask app created with config: development
2025-11-05 22:54:18,370 - app - INFO - Debug mode: True
2025-11-05 22:54:18,370 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:54:34,674 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:54:34,675 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:54:34,678 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:54:34,678 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:54:34,678 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:54:34,763 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-05 22:54:34,763 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:54:34,764 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:54:34,764 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:54:34,764 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:54:34,765 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:57:01,498 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:57:01,498 - app - INFO - Flask app created with config: development
2025-11-05 22:57:01,498 - app - INFO - Debug mode: True
2025-11-05 22:57:01,498 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:57:01,590 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:57:01,590 - app - INFO - Flask app created with config: development
2025-11-05 22:57:01,590 - app - INFO - Debug mode: True
2025-11-05 22:57:01,590 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:57:01,684 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:57:01,684 - app - INFO - Flask app created with config: development
2025-11-05 22:57:01,684 - app - INFO - Debug mode: True
2025-11-05 22:57:01,684 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:57:01,708 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:57:01,708 - app - INFO - Flask app created with config: development
2025-11-05 22:57:01,708 - app - INFO - Debug mode: True
2025-11-05 22:57:01,708 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:57:20,611 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:57:20,612 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:57:20,615 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:57:20,615 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:57:20,615 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:57:20,702 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 22:57:20,702 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:57:20,703 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:57:20,703 - app.utils.s3_client - DEBUG - Replaced endpoint URL with public URL: http://minio:9000  http://localhost:9000
2025-11-05 22:57:20,703 - app.utils.s3_client - DEBUG - Original URL: http://minio:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225720Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=3fa8b2d1f1ad2112501232ec9ce02971eab06adbbeb6c116d832901050b256fa
2025-11-05 22:57:20,703 - app.utils.s3_client - DEBUG - Public URL: http://localhost:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225720Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=3fa8b2d1f1ad2112501232ec9ce02971eab06adbbeb6c116d832901050b256fa
2025-11-05 22:57:20,704 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:57:20,704 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:57:20,704 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:57:43,833 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:57:43,833 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:57:43,836 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:57:43,836 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:57:43,836 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:57:43,923 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 22:57:43,923 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:57:43,924 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:57:43,924 - app.utils.s3_client - DEBUG - Replaced endpoint URL with public URL: http://minio:9000  http://localhost:9000
2025-11-05 22:57:43,924 - app.utils.s3_client - DEBUG - Original URL: http://minio:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225743Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=ea96ff28bc95f309860c67836ab8f8ed108df1df0a49891b4cff18d503f49838
2025-11-05 22:57:43,924 - app.utils.s3_client - DEBUG - Public URL: http://localhost:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225743Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=ea96ff28bc95f309860c67836ab8f8ed108df1df0a49891b4cff18d503f49838
2025-11-05 22:57:43,925 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:57:43,925 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:57:43,925 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:58:11,441 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:58:11,441 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:58:11,443 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:58:11,444 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:58:11,444 - app.utils.s3_client - DEBUG - Replaced endpoint URL with public URL: http://minio:9000  http://localhost:9000
2025-11-05 22:58:11,445 - app.utils.s3_client - DEBUG - Original URL: http://minio:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225811Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=344be7296006ac69c8d72342f4e6f74cef1b5495ef5303bc5d69970af6370530
2025-11-05 22:58:11,445 - app.utils.s3_client - DEBUG - Public URL: http://localhost:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225811Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=344be7296006ac69c8d72342f4e6f74cef1b5495ef5303bc5d69970af6370530
2025-11-05 22:58:11,445 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:58:11,445 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:58:11,446 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:58:23,822 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:58:23,822 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:58:23,834 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:58:23,834 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:58:23,834 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:58:23,922 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 22:58:23,922 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:58:23,923 - app.utils.s3_client - DEBUG - Generated pre-signed URL: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:58:23,923 - app.utils.s3_client - DEBUG - Replaced endpoint URL with public URL: http://minio:9000  http://localhost:9000
2025-11-05 22:58:23,923 - app.utils.s3_client - DEBUG - Original URL: http://minio:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225823Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=66a6482cbd7fafab6e2abc810db9f52649e90da75181b26a648daac52111ef09
2025-11-05 22:58:23,923 - app.utils.s3_client - DEBUG - Public URL: http://localhost:9000/saas-documents/tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03?response-content-disposition=attachment%3B%20filename%3D%22test.pdf%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20251105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20251105T225823Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=66a6482cbd7fafab6e2abc810db9f52649e90da75181b26a648daac52111ef09
2025-11-05 22:58:23,924 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:58:23,924 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:58:23,925 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 22:59:26,660 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:59:26,660 - app - INFO - Flask app created with config: development
2025-11-05 22:59:26,661 - app - INFO - Debug mode: True
2025-11-05 22:59:26,661 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:59:26,763 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:59:26,763 - app - INFO - Flask app created with config: development
2025-11-05 22:59:26,763 - app - INFO - Debug mode: True
2025-11-05 22:59:26,763 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:59:26,849 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:59:26,850 - app - INFO - Flask app created with config: development
2025-11-05 22:59:26,850 - app - INFO - Debug mode: True
2025-11-05 22:59:26,850 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:59:26,896 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-05 22:59:26,896 - app - INFO - Flask app created with config: development
2025-11-05 22:59:26,896 - app - INFO - Debug mode: True
2025-11-05 22:59:26,897 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-05 22:59:49,518 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 22:59:49,519 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 22:59:49,530 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 22:59:49,531 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 22:59:49,531 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 22:59:49,620 - app.utils.s3_client - DEBUG - Created separate presigned URL client with public endpoint: http://localhost:9000
2025-11-05 22:59:49,621 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 22:59:49,621 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 22:59:49,622 - app.utils.s3_client - DEBUG - Generated pre-signed URL using public endpoint: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 22:59:49,622 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 22:59:49,622 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 22:59:49,622 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 23:01:02,023 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 23:01:02,023 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 23:01:02,035 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 23:01:02,036 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 23:01:02,036 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 23:01:02,126 - app.utils.s3_client - DEBUG - Created separate presigned URL client with public endpoint: http://localhost:9000
2025-11-05 23:01:02,126 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 23:01:02,126 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 23:01:02,127 - app.utils.s3_client - DEBUG - Generated pre-signed URL using public endpoint: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 23:01:02,128 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 23:01:02,128 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 23:01:02,128 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-05 23:04:15,853 - app.utils.decorators - DEBUG - Authenticated user: 08786958-ab2a-4ab8-91c0-3b8702daeac0
2025-11-05 23:04:15,855 - app.routes.documents - INFO - Download URL request: tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, expires_in=3600s
2025-11-05 23:04:15,864 - app.routes.documents - INFO - Access granted: user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, role=admin, database=tenant_iter_45fca42c
2025-11-05 23:04:15,865 - app.utils.database - INFO - Created engine for tenant database: tenant_iter_45fca42c
2025-11-05 23:04:15,866 - app.utils.database - INFO - Created session factory for tenant database: tenant_iter_45fca42c
2025-11-05 23:04:16,002 - app.utils.s3_client - DEBUG - Created separate presigned URL client with public endpoint: http://localhost:9000
2025-11-05 23:04:16,002 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://localhost:9000, use_ssl=False
2025-11-05 23:04:16,002 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-05 23:04:16,003 - app.utils.s3_client - DEBUG - Generated pre-signed URL using public endpoint: bucket=saas-documents, path=tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03, expires_in=3600
2025-11-05 23:04:16,004 - app.utils.s3_client - INFO - Pre-signed URL generated: tenants/tenant_iter_45fca42c/files/b5/d7/b5d774f77e1742d1a18c7a34e85323fb_c6ed5667-2a23-4201-b3f5-2c7dc05b4c03 (expires in 3600s)
2025-11-05 23:04:16,004 - app.routes.documents - INFO - AUDIT: Download URL generated - user_id=08786958-ab2a-4ab8-91c0-3b8702daeac0, tenant_id=9b2cf18a-243d-4ceb-8b87-9fcc4babbb54, document_id=9c6e6031-5abf-4845-a56a-b319e33f44f8, filename=test.pdf, expires_in=3600s, role=admin
2025-11-05 23:04:16,004 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_iter_45fca42c
2025-11-06 22:11:11,086 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:11:11,086 - app - INFO - Flask app created with config: development
2025-11-06 22:11:11,086 - app - INFO - Debug mode: True
2025-11-06 22:11:11,088 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:11:11,093 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:11:11,093 - app - INFO - Flask app created with config: development
2025-11-06 22:11:11,093 - app - INFO - Debug mode: True
2025-11-06 22:11:11,094 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:11:11,151 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:11:11,152 - app - INFO - Flask app created with config: development
2025-11-06 22:11:11,152 - app - INFO - Debug mode: True
2025-11-06 22:11:11,152 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:11:11,213 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:11:11,214 - app - INFO - Flask app created with config: development
2025-11-06 22:11:11,214 - app - INFO - Debug mode: True
2025-11-06 22:11:11,214 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:13:14,081 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:13:14,082 - app - INFO - Flask app created with config: development
2025-11-06 22:13:14,083 - app - INFO - Debug mode: True
2025-11-06 22:13:14,083 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:13:14,141 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:13:14,142 - app - INFO - Flask app created with config: development
2025-11-06 22:13:14,142 - app - INFO - Debug mode: True
2025-11-06 22:13:14,143 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:13:14,158 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:13:14,158 - app - INFO - Flask app created with config: development
2025-11-06 22:13:14,159 - app - INFO - Debug mode: True
2025-11-06 22:13:14,159 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:13:14,179 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:13:14,179 - app - INFO - Flask app created with config: development
2025-11-06 22:13:14,179 - app - INFO - Debug mode: True
2025-11-06 22:13:14,179 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:14:23,873 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:14:23,873 - app - INFO - Flask app created with config: development
2025-11-06 22:14:23,873 - app - INFO - Debug mode: True
2025-11-06 22:14:23,873 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:14:32,157 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:14:32,157 - app - INFO - Flask app created with config: development
2025-11-06 22:14:32,158 - app - INFO - Debug mode: True
2025-11-06 22:14:32,158 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:14:43,007 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:14:43,007 - app - INFO - Flask app created with config: development
2025-11-06 22:14:43,008 - app - INFO - Debug mode: True
2025-11-06 22:14:43,008 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:15:03,057 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-06 22:15:03,058 - app - INFO - Flask app created with config: development
2025-11-06 22:15:03,058 - app - INFO - Debug mode: True
2025-11-06 22:15:03,058 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-06 22:15:03,073 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-06 22:15:03,077 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-06 22:15:03,077 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-06 22:15:03,078 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-07 07:44:54,461 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 07:44:54,461 - app - INFO - Flask app created with config: development
2025-11-07 07:44:54,461 - app - INFO - Debug mode: True
2025-11-07 07:44:54,462 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 07:44:54,503 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 07:44:54,503 - app - INFO - Flask app created with config: development
2025-11-07 07:44:54,503 - app - INFO - Debug mode: True
2025-11-07 07:44:54,504 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 07:44:54,516 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 07:44:54,516 - app - INFO - Flask app created with config: development
2025-11-07 07:44:54,516 - app - INFO - Debug mode: True
2025-11-07 07:44:54,516 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 07:44:54,528 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 07:44:54,529 - app - INFO - Flask app created with config: development
2025-11-07 07:44:54,529 - app - INFO - Debug mode: True
2025-11-07 07:44:54,529 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 07:46:37,296 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 07:46:37,296 - app - INFO - Flask app created with config: development
2025-11-07 07:46:37,296 - app - INFO - Debug mode: True
2025-11-07 07:46:37,296 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:34:39,374 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:34:39,374 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:34:39,374 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:34:39,378 - app - INFO - Flask app created with config: development
2025-11-07 17:34:39,378 - app - INFO - Debug mode: True
2025-11-07 17:34:39,378 - app - INFO - Flask app created with config: development
2025-11-07 17:34:39,378 - app - INFO - Flask app created with config: development
2025-11-07 17:34:39,378 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:34:39,381 - app - INFO - Debug mode: True
2025-11-07 17:34:39,379 - app - INFO - Debug mode: True
2025-11-07 17:34:39,383 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:34:39,383 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:34:39,386 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:34:39,386 - app - INFO - Flask app created with config: development
2025-11-07 17:34:39,386 - app - INFO - Debug mode: True
2025-11-07 17:34:39,386 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:35:04,067 - app - ERROR - Unhandled exception: (psycopg2.errors.UndefinedColumn) column users.sso_provider does not exist
LINE 1: ...assword_hash, users.is_active AS users_is_active, users.sso_...
                                                             ^

[SQL: SELECT users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.sso_provider AS users_sso_provider, users.sso_metadata AS users_sso_metadata, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.created_by AS users_created_by 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column users.sso_provider does not exist
LINE 1: ...assword_hash, users.is_active AS users_is_active, users.sso_...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/auth.py", line 190, in login
    user = User.query.filter_by(email=data['email']).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.sso_provider does not exist
LINE 1: ...assword_hash, users.is_active AS users_is_active, users.sso_...
                                                             ^

[SQL: SELECT users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.password_hash AS users_password_hash, users.is_active AS users_is_active, users.sso_provider AS users_sso_provider, users.sso_metadata AS users_sso_metadata, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.created_by AS users_created_by 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s]
[parameters: {'email_1': 'admin@example.com', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-07 17:38:29,805 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:29,806 - app - INFO - Flask app created with config: development
2025-11-07 17:38:29,806 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:29,810 - app - INFO - Debug mode: True
2025-11-07 17:38:29,810 - app - INFO - Flask app created with config: development
2025-11-07 17:38:29,811 - app - INFO - Debug mode: True
2025-11-07 17:38:29,811 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:38:29,811 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:38:29,848 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:29,848 - app - INFO - Flask app created with config: development
2025-11-07 17:38:29,848 - app - INFO - Debug mode: True
2025-11-07 17:38:29,848 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:38:29,853 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:29,853 - app - INFO - Flask app created with config: development
2025-11-07 17:38:29,853 - app - INFO - Debug mode: True
2025-11-07 17:38:29,853 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:38:39,472 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:39,473 - app - INFO - Flask app created with config: development
2025-11-07 17:38:39,473 - app - INFO - Debug mode: True
2025-11-07 17:38:39,473 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:38:46,141 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:46,142 - app - INFO - Flask app created with config: development
2025-11-07 17:38:46,142 - app - INFO - Debug mode: True
2025-11-07 17:38:46,142 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:38:52,717 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:38:52,717 - app - INFO - Flask app created with config: development
2025-11-07 17:38:52,717 - app - INFO - Debug mode: True
2025-11-07 17:38:52,717 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:39:54,545 - app.utils.decorators - DEBUG - Authenticated user: 7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:39:54,549 - app.routes.users - INFO - Fetching profile for user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:39:54,628 - app.routes.users - INFO - User profile retrieved successfully: user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:41:40,848 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:41:40,849 - app - INFO - Flask app created with config: development
2025-11-07 17:41:40,849 - app - INFO - Debug mode: True
2025-11-07 17:41:40,849 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:41:40,859 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:41:40,861 - app - INFO - Flask app created with config: development
2025-11-07 17:41:40,863 - app - INFO - Debug mode: True
2025-11-07 17:41:40,863 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:41:40,933 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:41:40,933 - app - INFO - Flask app created with config: development
2025-11-07 17:41:40,933 - app - INFO - Debug mode: True
2025-11-07 17:41:40,933 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:41:40,938 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:41:40,938 - app - INFO - Flask app created with config: development
2025-11-07 17:41:40,938 - app - INFO - Debug mode: True
2025-11-07 17:41:40,938 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:43:04,665 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:43:04,666 - app - INFO - Flask app created with config: development
2025-11-07 17:43:04,667 - app - INFO - Debug mode: True
2025-11-07 17:43:04,669 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:43:04,669 - app - INFO - Flask app created with config: development
2025-11-07 17:43:04,669 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:43:04,669 - app - INFO - Debug mode: True
2025-11-07 17:43:04,670 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:43:04,727 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:43:04,734 - app - INFO - Flask app created with config: development
2025-11-07 17:43:04,735 - app - INFO - Debug mode: True
2025-11-07 17:43:04,736 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:43:04,750 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:43:04,750 - app - INFO - Flask app created with config: development
2025-11-07 17:43:04,750 - app - INFO - Debug mode: True
2025-11-07 17:43:04,750 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:43:46,118 - app.utils.decorators - DEBUG - Authenticated user: 7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:43:46,120 - app.routes.users - INFO - Fetching profile for user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:43:46,176 - app.routes.users - INFO - User profile retrieved successfully: user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:46:01,366 - app.utils.decorators - ERROR - JWT validation failed: Bad Authorization header. Expected 'Authorization: Bearer <JWT>'
2025-11-07 17:46:14,975 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:46:14,976 - app - INFO - Flask app created with config: development
2025-11-07 17:46:14,976 - app - INFO - Debug mode: True
2025-11-07 17:46:14,976 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:46:22,039 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:46:22,039 - app - INFO - Flask app created with config: development
2025-11-07 17:46:22,039 - app - INFO - Debug mode: True
2025-11-07 17:46:22,039 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:46:28,088 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:46:28,088 - app - INFO - Flask app created with config: development
2025-11-07 17:46:28,088 - app - INFO - Debug mode: True
2025-11-07 17:46:28,089 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:48:21,112 - app.utils.decorators - DEBUG - Authenticated user: 7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:48:21,113 - app.routes.tenants - INFO - Creating tenant for user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:48:21,113 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Ma Premire Entreprise
2025-11-07 17:48:21,113 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: Ma Premire Entreprise
2025-11-07 17:48:21,114 - app.models.tenant - DEBUG - Generated database name: Ma Premire Entreprise -> tenant_ma_premire_entreprise_f6148c00
2025-11-07 17:48:21,115 - app.models.tenant - INFO - Tenant object initialized: name=Ma Premire Entreprise, database_name=tenant_ma_premire_entreprise_f6148c00
2025-11-07 17:48:21,208 - app.utils.database - INFO - Created tenant database: tenant_ma_premire_entreprise_f6148c00
2025-11-07 17:48:21,209 - app.utils.database - INFO - Created engine for tenant database: tenant_ma_premire_entreprise_f6148c00
2025-11-07 17:48:21,234 - app.utils.database - ERROR - Failed to create tables in tenant database tenant_ma_premire_entreprise_f6148c00: (psycopg2.errors.UndefinedObject) data type json has no default operator class for access method "gin"
HINT:  You must specify an operator class for the index or define a default operator class for the data type.

[SQL: CREATE INDEX ix_files_metadata ON files USING gin (file_metadata)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-07 17:48:21,234 - app.routes.tenants - ERROR - Failed to create tenant database: (psycopg2.errors.UndefinedObject) data type json has no default operator class for access method "gin"
HINT:  You must specify an operator class for the index or define a default operator class for the data type.

[SQL: CREATE INDEX ix_files_metadata ON files USING gin (file_metadata)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedObject: data type json has no default operator class for access method "gin"
HINT:  You must specify an operator class for the index or define a default operator class for the data type.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/routes/tenants.py", line 222, in create_tenant
    tenant_db_manager.create_tenant_tables(tenant.database_name)
  File "/app/app/utils/database.py", line 219, in create_tenant_tables
    File.__table__.create(bind=engine, checkfirst=True)
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 1288, in create
    bind._run_ddl_visitor(ddl.SchemaGenerator, self, checkfirst=checkfirst)
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3252, in _run_ddl_visitor
    conn._run_ddl_visitor(visitorcallable, element, **kwargs)
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2459, in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 1026, in visit_table
    self.traverse_single(index, create_ok=True)
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 1063, in visit_index
    CreateIndex(index)._invoke_with(self.connection)
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1530, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedObject) data type json has no default operator class for access method "gin"
HINT:  You must specify an operator class for the index or define a default operator class for the data type.

[SQL: CREATE INDEX ix_files_metadata ON files USING gin (file_metadata)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-07 17:48:59,696 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:48:59,696 - app - INFO - Flask app created with config: development
2025-11-07 17:48:59,697 - app - INFO - Debug mode: True
2025-11-07 17:48:59,698 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:48:59,733 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:48:59,734 - app - INFO - Flask app created with config: development
2025-11-07 17:48:59,734 - app - INFO - Debug mode: True
2025-11-07 17:48:59,734 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:48:59,749 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:48:59,749 - app - INFO - Flask app created with config: development
2025-11-07 17:48:59,749 - app - INFO - Debug mode: True
2025-11-07 17:48:59,749 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:48:59,770 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:48:59,770 - app - INFO - Flask app created with config: development
2025-11-07 17:48:59,770 - app - INFO - Debug mode: True
2025-11-07 17:48:59,771 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:49:17,562 - app.utils.decorators - DEBUG - Authenticated user: 7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:49:17,563 - app.routes.tenants - INFO - Creating tenant for user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4
2025-11-07 17:49:17,563 - app.schemas.tenant_schema - DEBUG - Validated tenant name for creation: Ma Premire Entreprise
2025-11-07 17:49:17,564 - app.schemas.tenant_schema - DEBUG - Normalized tenant name for creation: Ma Premire Entreprise
2025-11-07 17:49:17,564 - app.models.tenant - DEBUG - Generated database name: Ma Premire Entreprise -> tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,565 - app.models.tenant - INFO - Tenant object initialized: name=Ma Premire Entreprise, database_name=tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,671 - app.utils.database - INFO - Created tenant database: tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,672 - app.utils.database - INFO - Created engine for tenant database: tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,706 - app.utils.database - INFO - Created 'files' table in tenant database: tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,717 - app.utils.database - INFO - Created 'documents' table in tenant database: tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,717 - app.utils.database - INFO - Successfully created all tables in tenant database: tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,717 - app.routes.tenants - INFO - Created database and tables: tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:49:17,718 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=7b817370-baff-4d5b-a4cf-ee9d6eb442e4, tenant_id=87223a8c-26dd-42e0-b983-1d48802e62d2, role=admin
2025-11-07 17:49:17,726 - app.routes.tenants - INFO - Tenant created successfully: tenant_id=87223a8c-26dd-42e0-b983-1d48802e62d2, database=tenant_ma_premire_entreprise_1110f3fd
2025-11-07 17:51:16,538 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:51:16,538 - app - INFO - Flask app created with config: development
2025-11-07 17:51:16,538 - app - INFO - Debug mode: True
2025-11-07 17:51:16,539 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 17:51:49,484 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 17:51:49,485 - app - INFO - Flask app created with config: development
2025-11-07 17:51:49,485 - app - INFO - Debug mode: True
2025-11-07 17:51:49,485 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:01:00,906 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:01:00,908 - app - INFO - Flask app created with config: development
2025-11-07 19:01:00,908 - app - INFO - Debug mode: True
2025-11-07 19:01:00,908 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:01:00,966 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:01:00,966 - app - INFO - Flask app created with config: development
2025-11-07 19:01:00,966 - app - INFO - Debug mode: True
2025-11-07 19:01:00,966 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:01:01,023 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:01:01,024 - app - INFO - Flask app created with config: development
2025-11-07 19:01:01,024 - app - INFO - Debug mode: True
2025-11-07 19:01:01,024 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:01:01,061 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:01:01,061 - app - INFO - Flask app created with config: development
2025-11-07 19:01:01,061 - app - INFO - Debug mode: True
2025-11-07 19:01:01,061 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:06:00,127 - app.utils.decorators - ERROR - tenant_required used without jwt_required_custom
2025-11-07 19:18:57,961 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:18:57,963 - app - INFO - Flask app created with config: development
2025-11-07 19:18:57,963 - app - INFO - Debug mode: True
2025-11-07 19:18:57,965 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:18:58,027 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:18:58,027 - app - INFO - Flask app created with config: development
2025-11-07 19:18:58,027 - app - INFO - Debug mode: True
2025-11-07 19:18:58,028 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:18:58,040 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:18:58,041 - app - INFO - Flask app created with config: development
2025-11-07 19:18:58,041 - app - INFO - Debug mode: True
2025-11-07 19:18:58,041 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:18:58,088 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:18:58,088 - app - INFO - Flask app created with config: development
2025-11-07 19:18:58,088 - app - INFO - Debug mode: True
2025-11-07 19:18:58,088 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:19:08,402 - app.utils.decorators - ERROR - JWT validation failed: Not enough segments
2025-11-07 19:19:51,349 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:19:51,350 - app - INFO - Flask app created with config: development
2025-11-07 19:19:51,350 - app - INFO - Debug mode: True
2025-11-07 19:19:51,350 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:21:23,563 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:21:23,563 - app - INFO - Flask app created with config: development
2025-11-07 19:21:23,564 - app - INFO - Debug mode: True
2025-11-07 19:21:23,565 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:21:23,676 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:21:23,676 - app - INFO - Flask app created with config: development
2025-11-07 19:21:23,677 - app - INFO - Debug mode: True
2025-11-07 19:21:23,677 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:21:23,760 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:21:23,760 - app - INFO - Flask app created with config: development
2025-11-07 19:21:23,760 - app - INFO - Debug mode: True
2025-11-07 19:21:23,760 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:21:23,840 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:21:23,840 - app - INFO - Flask app created with config: development
2025-11-07 19:21:23,840 - app - INFO - Debug mode: True
2025-11-07 19:21:23,840 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:23:47,806 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:23:47,806 - app - INFO - Flask app created with config: development
2025-11-07 19:23:47,806 - app - INFO - Debug mode: True
2025-11-07 19:23:47,806 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:23:57,827 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 19:23:57,827 - app - INFO - Flask app created with config: development
2025-11-07 19:23:57,827 - app - INFO - Debug mode: True
2025-11-07 19:23:57,828 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 19:24:05,063 - app.utils.decorators - ERROR - JWT validation failed: Not enough segments
2025-11-07 19:24:47,093 - app.utils.decorators - ERROR - JWT validation failed: Missing Authorization Header
2025-11-07 19:24:47,097 - app.utils.decorators - ERROR - JWT validation failed: Missing Authorization Header
2025-11-07 19:57:55,546 - app.utils.decorators - ERROR - JWT validation failed: Missing Authorization Header
2025-11-07 19:58:32,297 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 19:58:32,297 - app.routes.users - INFO - Fetching SSO identities for user_id=a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 19:58:32,332 - app.routes.users - INFO - Retrieved 0 SSO identities for user_id=a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:15:33,696 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:33,696 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:33,696 - app - INFO - Debug mode: True
2025-11-07 20:15:33,696 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:33,947 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:33,948 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:33,948 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:33,949 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:33,950 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:33,951 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:33,952 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:33,952 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:33,953 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:33,953 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:33,954 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:33,955 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:33,956 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:33,956 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:33,956 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:33,956 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:33,956 - app - INFO - Debug mode: True
2025-11-07 20:15:33,956 - app - INFO - Debug mode: True
2025-11-07 20:15:33,956 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:33,956 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,162 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,162 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,163 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,163 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,163 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,163 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,164 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,164 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,164 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,164 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,165 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,165 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,167 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,167 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,167 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,167 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,168 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,168 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,168 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,168 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,170 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,170 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,171 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,171 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,171 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,171 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,171 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,171 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,171 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,171 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,172 - app - INFO - Debug mode: True
2025-11-07 20:15:34,172 - app - INFO - Debug mode: True
2025-11-07 20:15:34,172 - app - INFO - Debug mode: True
2025-11-07 20:15:34,172 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,172 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,172 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,399 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,399 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,399 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,401 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,401 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,401 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,401 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,401 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,401 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,401 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,401 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,401 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,402 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,402 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,402 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,403 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,403 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,403 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,405 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,405 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,405 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,406 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,406 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,406 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,406 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,406 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,406 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,407 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,407 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,407 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,408 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,408 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,408 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,409 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,409 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,409 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,410 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,410 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,410 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,410 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,410 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,410 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,410 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,410 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,410 - app - INFO - Debug mode: True
2025-11-07 20:15:34,410 - app - INFO - Debug mode: True
2025-11-07 20:15:34,410 - app - INFO - Debug mode: True
2025-11-07 20:15:34,410 - app - INFO - Debug mode: True
2025-11-07 20:15:34,410 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,410 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,410 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,410 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,612 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,612 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,612 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,612 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,613 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,613 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,613 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,613 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,614 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,614 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,614 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,614 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,614 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,614 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,614 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,614 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,615 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,615 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,615 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,615 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,616 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,616 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,616 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,616 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,618 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,618 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,618 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,618 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,619 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,620 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,620 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,620 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,620 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,621 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,621 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,621 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,621 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,622 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,622 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,622 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,622 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,623 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,623 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,623 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,623 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,623 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,623 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,623 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,623 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,623 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,623 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,623 - app - INFO - Debug mode: True
2025-11-07 20:15:34,623 - app - INFO - Debug mode: True
2025-11-07 20:15:34,623 - app - INFO - Debug mode: True
2025-11-07 20:15:34,623 - app - INFO - Debug mode: True
2025-11-07 20:15:34,623 - app - INFO - Debug mode: True
2025-11-07 20:15:34,624 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,624 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,624 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,624 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,624 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,845 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,845 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,845 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,845 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,845 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:34,846 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,846 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,846 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,846 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,846 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:34,846 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,846 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,846 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,846 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,846 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:34,847 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,847 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,847 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,847 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,847 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:34,848 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,848 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,848 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,848 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,848 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:34,849 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,849 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,849 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,849 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,849 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,851 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:34,852 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,852 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,852 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,852 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,852 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:34,853 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,853 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,853 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,853 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,853 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:34,854 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,854 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,854 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,854 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,854 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:34,855 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,855 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,855 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,855 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,855 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:34,856 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,856 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,856 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,856 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,856 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,856 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:34,856 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,856 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,856 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,856 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,856 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,856 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:34,857 - app - INFO - Debug mode: True
2025-11-07 20:15:34,857 - app - INFO - Debug mode: True
2025-11-07 20:15:34,857 - app - INFO - Debug mode: True
2025-11-07 20:15:34,857 - app - INFO - Debug mode: True
2025-11-07 20:15:34,857 - app - INFO - Debug mode: True
2025-11-07 20:15:34,857 - app - INFO - Debug mode: True
2025-11-07 20:15:34,857 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,857 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,857 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,857 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,857 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:34,857 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,083 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,083 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,083 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,083 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,083 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,083 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,084 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,084 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,084 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,084 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,084 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,084 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,085 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,085 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,085 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,085 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,085 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,085 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,085 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,085 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,085 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,085 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,085 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,085 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,086 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,086 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,086 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,086 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,086 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,086 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,088 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,088 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,088 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,088 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,088 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,088 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,089 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,089 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,089 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,089 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,089 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,089 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,090 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,091 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,091 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,091 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,091 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,091 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,091 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,093 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,093 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,093 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,093 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,093 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,093 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,094 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,094 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,094 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,094 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,094 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,094 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,095 - app - INFO - Debug mode: True
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,096 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,302 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,303 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,304 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,305 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,306 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,307 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,309 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,310 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,311 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,313 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,314 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,316 - app - INFO - Debug mode: True
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,317 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,546 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,547 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,548 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,549 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,551 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,552 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,553 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,554 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,555 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,556 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,558 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,559 - app - INFO - Debug mode: True
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,560 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,798 - app - INFO - Vault not enabled - using configuration from environment variables
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app.extensions - INFO - Redis connected successfully at redis://redis:6379/0
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,800 - app - INFO - Extensions initialized: db, migrate, jwt, cors, tenant_db_manager, redis
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,801 - app - INFO - Registered blueprint: auth (/api/auth)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,802 - app - INFO - Registered blueprint: users (/api/users)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,803 - app - INFO - Registered blueprint: tenants (/api/tenants)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,805 - app - INFO - Registered blueprint: documents (/api/documents)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: files (/api/files)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,806 - app - INFO - Registered blueprint: kafka_demo (/api/demo/kafka)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,807 - app - INFO - Registered blueprint: swagger_ui (/api/docs)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,809 - app - INFO - Registered blueprint: sso_config (/api/tenants)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,810 - app - INFO - Registered blueprint: sso_auth (/api/auth/sso)
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,811 - app - INFO - Flask app created with config: testing
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Debug mode: True
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:15:35,812 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:19:05,353 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:05,353 - app - INFO - Flask app created with config: testing
2025-11-07 20:19:05,353 - app - INFO - Debug mode: True
2025-11-07 20:19:05,354 - app - INFO - Database URI: sqlite:///:memory:...
2025-11-07 20:19:20,017 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:20,017 - app - INFO - Flask app created with config: testing
2025-11-07 20:19:20,017 - app - INFO - Debug mode: True
2025-11-07 20:19:20,017 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:19:36,688 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:36,688 - app - INFO - Flask app created with config: testing
2025-11-07 20:19:36,688 - app - INFO - Debug mode: True
2025-11-07 20:19:36,688 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:19:49,946 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:49,946 - app - INFO - Flask app created with config: development
2025-11-07 20:19:49,946 - app - INFO - Debug mode: True
2025-11-07 20:19:49,947 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:19:49,968 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:49,969 - app - INFO - Flask app created with config: development
2025-11-07 20:19:49,969 - app - INFO - Debug mode: True
2025-11-07 20:19:49,969 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:19:49,970 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:49,970 - app - INFO - Flask app created with config: development
2025-11-07 20:19:49,970 - app - INFO - Debug mode: True
2025-11-07 20:19:49,970 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:19:50,023 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:19:50,023 - app - INFO - Flask app created with config: development
2025-11-07 20:19:50,023 - app - INFO - Debug mode: True
2025-11-07 20:19:50,023 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:26:49,802 - app.utils.decorators - ERROR - tenant_required used without jwt_required_custom
2025-11-07 20:27:00,752 - app.utils.decorators - ERROR - tenant_required used without jwt_required_custom
2025-11-07 20:27:27,261 - app.utils.decorators - ERROR - tenant_required used without jwt_required_custom
2025-11-07 20:28:08,690 - app.utils.decorators - ERROR - tenant_required used without jwt_required_custom
2025-11-07 20:31:20,247 - app.utils.decorators - ERROR - tenant_required used without jwt_required_custom
2025-11-07 20:33:20,010 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:33:20,011 - app - INFO - Flask app created with config: development
2025-11-07 20:33:20,011 - app - INFO - Debug mode: True
2025-11-07 20:33:20,013 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:33:20,013 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:33:20,013 - app - INFO - Flask app created with config: development
2025-11-07 20:33:20,013 - app - INFO - Debug mode: True
2025-11-07 20:33:20,014 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:33:20,047 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:33:20,047 - app - INFO - Flask app created with config: development
2025-11-07 20:33:20,048 - app - INFO - Debug mode: True
2025-11-07 20:33:20,048 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:33:20,049 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 20:33:20,049 - app - INFO - Flask app created with config: development
2025-11-07 20:33:20,049 - app - INFO - Debug mode: True
2025-11-07 20:33:20,049 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 20:33:57,967 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:33:57,968 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:33:57,968 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:33:57,999 - app.models.tenant_sso_config - INFO - TenantSSOConfig initialized for tenant_id=cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:33:58,002 - app.services.tenant_sso_config_service - INFO - Created SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:34:39,605 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:34:39,606 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:34:39,606 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin', 'user']
2025-11-07 20:34:57,906 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:34:57,906 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:34:57,907 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:34:57,911 - app.services.tenant_sso_config_service - INFO - Updated SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:35:13,083 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:35:13,083 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:35:13,083 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:35:13,088 - app.services.tenant_sso_config_service - INFO - Updated SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:36:00,608 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:36:00,609 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:36:00,610 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:36:23,451 - app.utils.decorators - ERROR - JWT validation failed: Not enough segments
2025-11-07 20:37:30,411 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:37:30,411 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:37:30,412 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:37:30,424 - app.services.tenant_sso_config_service - INFO - Reset tenant cb859f98-291e-41b2-b30f-2287c2699205 to local authentication
2025-11-07 20:37:30,430 - app.services.tenant_sso_config_service - INFO - Deleted SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:37:34,739 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:37:34,739 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:37:34,740 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:37:34,744 - app.models.tenant_sso_config - INFO - TenantSSOConfig initialized for tenant_id=cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:43:23,327 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:43:23,329 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:43:23,330 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:43:23,344 - app.models.tenant_sso_config - INFO - TenantSSOConfig initialized for tenant_id=cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:43:23,353 - app.services.tenant_sso_config_service - INFO - Created SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:44:03,147 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:44:03,148 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:44:03,148 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:46:01,409 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:46:01,410 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:46:01,411 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:46:02,335 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:46:02,335 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:46:02,335 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:46:07,301 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:46:07,302 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:46:07,302 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:46:07,306 - app.services.tenant_sso_config_service - INFO - Updated SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:46:23,410 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:46:23,410 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:46:23,411 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:46:39,644 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:46:39,644 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:46:39,645 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:47:11,414 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:47:11,415 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:47:11,415 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:47:11,422 - app.services.tenant_sso_config_service - INFO - Deleted SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:47:16,843 - app.utils.decorators - DEBUG - Authenticated user: a67180bf-e078-4e86-a7dd-44f7c6e871f8
2025-11-07 20:47:16,844 - app.utils.decorators - DEBUG - User a67180bf-e078-4e86-a7dd-44f7c6e871f8 accessing tenant cb859f98-291e-41b2-b30f-2287c2699205 with role admin
2025-11-07 20:47:16,844 - app.utils.decorators - DEBUG - Role check passed: admin in ['admin']
2025-11-07 20:47:16,847 - app.models.tenant_sso_config - INFO - TenantSSOConfig initialized for tenant_id=cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:47:16,848 - app.services.tenant_sso_config_service - INFO - Updated tenant cb859f98-291e-41b2-b30f-2287c2699205 auth_method to 'both'
2025-11-07 20:47:16,857 - app.services.tenant_sso_config_service - INFO - Created SSO configuration for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:48:26,250 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 20:48:26,251 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:fkgM6B57ni6zef9DUBN-ES9yDj8W3aQNLKsYQYse6sw
2025-11-07 20:48:26,252 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:48:26,252 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:57:07,981 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 20:57:07,983 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:C8Y6TiKgs9t5re1e-VoWw7bdYX0U98z_PGtz4H1h7ag
2025-11-07 20:57:07,983 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:57:07,984 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:58:38,796 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 20:58:38,798 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:O_fjN5GtYvXWYkd09kIm524TJAJda6rB462Yz4Hkk1I
2025-11-07 20:58:38,799 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:58:38,799 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:59:49,374 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 20:59:49,378 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:YLRQ-vLvZwpDKJjyX90KKdyaEEjomOor7a5wGg-pf4I
2025-11-07 20:59:49,379 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 20:59:49,380 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:08:17,100 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:08:17,100 - app - INFO - Flask app created with config: development
2025-11-07 21:08:17,100 - app - INFO - Debug mode: True
2025-11-07 21:08:17,100 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:08:27,886 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:08:27,887 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:ApuNwYdJ6yv4PLcqiUYCzJ0WerQ1NzDLwumL2KZyqLs
2025-11-07 21:08:27,887 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:08:27,888 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:08:50,563 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:08:50,565 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:F7K4JFaTSftkSDYYhbGJ9gUrpvjY6GXRaBR8L1pFYlg
2025-11-07 21:08:50,566 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:08:50,566 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:14:54,188 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:14:54,190 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:niylwGKp8qB07WV9zuh5-5MRDltNX-BJcG-wBTmmT-8
2025-11-07 21:14:54,190 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:14:54,191 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:15:35,784 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:15:35,786 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:AVDs9lgnAE6sEvJ2AdGZdOBtWPWLddeRZ4o5XkGL1Ps
2025-11-07 21:15:35,788 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:15:35,788 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:16:32,552 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:16:32,554 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:Zt_MYDOZzbaZIVRjg0OaLaGDEFHn3OJOZkI12CQ012Q
2025-11-07 21:16:32,555 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:16:32,555 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:16:51,725 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-07 21:20:24,607 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:20:24,607 - app - INFO - Flask app created with config: development
2025-11-07 21:20:24,607 - app - INFO - Debug mode: True
2025-11-07 21:20:24,608 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:20:40,020 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:20:40,022 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:l8uKXjEaTBZl5hc7-obOaywjyoxh-yZ5Rx4FW3m6KiU
2025-11-07 21:20:40,023 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:20:40,023 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:20:43,491 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:l8uKXjEaTBZl5hc7-obOaywjyoxh-yZ5Rx4FW3m6KiU
2025-11-07 21:20:43,892 - app.services.azure_ad_service - ERROR - Token exchange failed: 400 - {'error': 'invalid_request', 'error_description': "AADSTS9002327: Tokens issued for the 'Single-Page Application' client-type may only be redeemed via cross-origin requests. Trace ID: d7639fdb-fb63-43c9-8e35-fd96a8930e00 Correlation ID: 8bf4f431-423d-4db5-9239-ce24d7c41317 Timestamp: 2025-11-07 21:20:43Z", 'error_codes': [9002327], 'timestamp': '2025-11-07 21:20:43Z', 'trace_id': 'd7639fdb-fb63-43c9-8e35-fd96a8930e00', 'correlation_id': '8bf4f431-423d-4db5-9239-ce24d7c41317'}
2025-11-07 21:20:43,893 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS9002327: Tokens issued for the 'Single-Page Application' client-type may only be redeemed via cross-origin requests. Trace ID: d7639fdb-fb63-43c9-8e35-fd96a8930e00 Correlation ID: 8bf4f431-423d-4db5-9239-ce24d7c41317 Timestamp: 2025-11-07 21:20:43Z
2025-11-07 21:22:20,929 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:22:20,931 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:X_yORcTofFMpAuYNb_f-h6DvjfXnOeUqv0SBBnMpvwc
2025-11-07 21:22:20,932 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:22:20,932 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:22:22,981 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:X_yORcTofFMpAuYNb_f-h6DvjfXnOeUqv0SBBnMpvwc
2025-11-07 21:22:23,359 - app.services.azure_ad_service - ERROR - Token exchange failed: 400 - {'error': 'invalid_request', 'error_description': "AADSTS9002327: Tokens issued for the 'Single-Page Application' client-type may only be redeemed via cross-origin requests. Trace ID: ad2f468e-15d0-41d9-ae67-2b76b5940e00 Correlation ID: d5495415-a18a-452a-be64-3dce5bcabfe9 Timestamp: 2025-11-07 21:22:23Z", 'error_codes': [9002327], 'timestamp': '2025-11-07 21:22:23Z', 'trace_id': 'ad2f468e-15d0-41d9-ae67-2b76b5940e00', 'correlation_id': 'd5495415-a18a-452a-be64-3dce5bcabfe9'}
2025-11-07 21:22:23,360 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS9002327: Tokens issued for the 'Single-Page Application' client-type may only be redeemed via cross-origin requests. Trace ID: ad2f468e-15d0-41d9-ae67-2b76b5940e00 Correlation ID: d5495415-a18a-452a-be64-3dce5bcabfe9 Timestamp: 2025-11-07 21:22:23Z
2025-11-07 21:25:47,519 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:25:47,519 - app - INFO - Flask app created with config: development
2025-11-07 21:25:47,520 - app - INFO - Debug mode: True
2025-11-07 21:25:47,520 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:25:47,881 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:25:47,882 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:28:45,985 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:28:45,988 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:9QNPFGLo86k-hs8F0wGVkDkAFHSy3ZhJ5MKfg3YUdkU
2025-11-07 21:28:45,989 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:28:45,990 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:28:48,039 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:9QNPFGLo86k-hs8F0wGVkDkAFHSy3ZhJ5MKfg3YUdkU
2025-11-07 21:28:48,457 - app.services.azure_ad_service - ERROR - Token exchange failed: 400 - {'error': 'invalid_request', 'error_description': "AADSTS9002327: Tokens issued for the 'Single-Page Application' client-type may only be redeemed via cross-origin requests. Trace ID: 9d27ee8e-7398-41d0-8ef2-229f76551300 Correlation ID: f2eff8ec-1714-4bed-88a4-84a9d65c46bd Timestamp: 2025-11-07 21:28:48Z", 'error_codes': [9002327], 'timestamp': '2025-11-07 21:28:48Z', 'trace_id': '9d27ee8e-7398-41d0-8ef2-229f76551300', 'correlation_id': 'f2eff8ec-1714-4bed-88a4-84a9d65c46bd'}
2025-11-07 21:28:48,458 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS9002327: Tokens issued for the 'Single-Page Application' client-type may only be redeemed via cross-origin requests. Trace ID: 9d27ee8e-7398-41d0-8ef2-229f76551300 Correlation ID: f2eff8ec-1714-4bed-88a4-84a9d65c46bd Timestamp: 2025-11-07 21:28:48Z
2025-11-07 21:30:45,578 - app.routes.sso_auth - ERROR - Error initiating Azure login: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID
                           ^

[SQL: SELECT tenants.name AS tenants_name, tenants.database_name AS tenants_database_name, tenants.is_active AS tenants_is_active, tenants.auth_method AS tenants_auth_method, tenants.sso_domain_whitelist AS tenants_sso_domain_whitelist, tenants.sso_auto_provisioning AS tenants_sso_auto_provisioning, tenants.sso_default_role AS tenants_sso_default_role, tenants.id AS tenants_id, tenants.created_at AS tenants_created_at, tenants.updated_at AS tenants_updated_at, tenants.created_by AS tenants_created_by 
FROM tenants 
WHERE tenants.id = %(pk_1)s::UUID]
[parameters: {'pk_1': ':tenant_id'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-11-07 21:31:03,121 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:31:03,123 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:Q0kxcv2JQK1ATgeof-TrhcT8PKDXjMV9SH_DWj-AM7k
2025-11-07 21:31:03,124 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:31:03,124 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:31:19,428 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-07 21:31:40,686 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:31:40,687 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:5oRDwkl-6afOdYTwJ9Y3S_rwvZoAdh-kt0CrmwmV2pw
2025-11-07 21:31:40,688 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:31:40,688 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:32:47,708 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:32:47,708 - app - INFO - Flask app created with config: development
2025-11-07 21:32:47,708 - app - INFO - Debug mode: True
2025-11-07 21:32:47,708 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:35:07,145 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:5oRDwkl-6afOdYTwJ9Y3S_rwvZoAdh-kt0CrmwmV2pw
2025-11-07 21:35:07,147 - app.services.azure_ad_service - WARNING - State token mismatch - possible CSRF attempt
2025-11-07 21:35:31,024 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:35:31,027 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:6-drtLDy0Wex2C8CMTwHCanThceCGJ9-tvl7rxr6h80
2025-11-07 21:35:31,028 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:35:31,028 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:35:32,944 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:6-drtLDy0Wex2C8CMTwHCanThceCGJ9-tvl7rxr6h80
2025-11-07 21:35:33,449 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 1def9698-d3f5-4fd3-8509-af922d661200 Correlation ID: 3367512b-740c-4a61-9aee-a2a57fadb345 Timestamp: 2025-11-07 21:35:33Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:35:33Z', 'trace_id': '1def9698-d3f5-4fd3-8509-af922d661200', 'correlation_id': '3367512b-740c-4a61-9aee-a2a57fadb345', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:35:33,450 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 1def9698-d3f5-4fd3-8509-af922d661200 Correlation ID: 3367512b-740c-4a61-9aee-a2a57fadb345 Timestamp: 2025-11-07 21:35:33Z
2025-11-07 21:37:59,280 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:37:59,282 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:H2yOzlLm1fwLlDLgZAPTQd_hNPiViOXf-OXdqBNxwN4
2025-11-07 21:37:59,283 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:37:59,283 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:39:22,059 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:H2yOzlLm1fwLlDLgZAPTQd_hNPiViOXf-OXdqBNxwN4
2025-11-07 21:39:22,500 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: ad2f468e-15d0-41d9-ae67-2b7685f80e00 Correlation ID: c16bd024-a2d2-481d-8556-51f76da1df0e Timestamp: 2025-11-07 21:39:22Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:39:22Z', 'trace_id': 'ad2f468e-15d0-41d9-ae67-2b7685f80e00', 'correlation_id': 'c16bd024-a2d2-481d-8556-51f76da1df0e', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:39:22,501 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: ad2f468e-15d0-41d9-ae67-2b7685f80e00 Correlation ID: c16bd024-a2d2-481d-8556-51f76da1df0e Timestamp: 2025-11-07 21:39:22Z
2025-11-07 21:39:35,533 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-07 21:39:48,082 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:39:48,085 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:c8d2jncSykwsE9o8adCPNHtjSY9IjRpNX2BYHW-lw7k
2025-11-07 21:39:48,085 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:39:48,086 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:39:50,384 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:c8d2jncSykwsE9o8adCPNHtjSY9IjRpNX2BYHW-lw7k
2025-11-07 21:39:50,824 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 28420ac8-2efe-4ad9-b778-39f10f1a1200 Correlation ID: a88994ff-1397-48e0-884f-427b205e32a6 Timestamp: 2025-11-07 21:39:50Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:39:50Z', 'trace_id': '28420ac8-2efe-4ad9-b778-39f10f1a1200', 'correlation_id': 'a88994ff-1397-48e0-884f-427b205e32a6', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:39:50,825 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 28420ac8-2efe-4ad9-b778-39f10f1a1200 Correlation ID: a88994ff-1397-48e0-884f-427b205e32a6 Timestamp: 2025-11-07 21:39:50Z
2025-11-07 21:40:37,069 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-07 21:40:52,047 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:40:52,049 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:a2jfSXlmzknGHibnCj_LpMJIgqDVcA7Z6YfaVGuaR5k
2025-11-07 21:40:52,049 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:40:52,050 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:40:54,118 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:a2jfSXlmzknGHibnCj_LpMJIgqDVcA7Z6YfaVGuaR5k
2025-11-07 21:40:54,633 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 943ede2f-c742-47e9-bd65-948379dd0f00 Correlation ID: a34dbfe5-a0ed-4ae2-ae4a-fb8b173c4708 Timestamp: 2025-11-07 21:40:54Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:40:54Z', 'trace_id': '943ede2f-c742-47e9-bd65-948379dd0f00', 'correlation_id': 'a34dbfe5-a0ed-4ae2-ae4a-fb8b173c4708', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:40:54,634 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 943ede2f-c742-47e9-bd65-948379dd0f00 Correlation ID: a34dbfe5-a0ed-4ae2-ae4a-fb8b173c4708 Timestamp: 2025-11-07 21:40:54Z
2025-11-07 21:43:52,026 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:43:52,027 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:NyBkZ90CcgvHnA9WYE5ZcBMT78FQzX9J87rPzi7Sn9o
2025-11-07 21:43:52,028 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:43:52,028 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:43:54,478 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:NyBkZ90CcgvHnA9WYE5ZcBMT78FQzX9J87rPzi7Sn9o
2025-11-07 21:43:54,947 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: b7972a50-46c9-4f80-9dbd-9bb08f740f00 Correlation ID: e0abe381-af63-4561-a292-cfef529878ba Timestamp: 2025-11-07 21:43:54Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:43:54Z', 'trace_id': 'b7972a50-46c9-4f80-9dbd-9bb08f740f00', 'correlation_id': 'e0abe381-af63-4561-a292-cfef529878ba', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:43:54,948 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: b7972a50-46c9-4f80-9dbd-9bb08f740f00 Correlation ID: e0abe381-af63-4561-a292-cfef529878ba Timestamp: 2025-11-07 21:43:54Z
2025-11-07 21:46:06,002 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:46:06,002 - app - INFO - Flask app created with config: development
2025-11-07 21:46:06,003 - app - INFO - Debug mode: True
2025-11-07 21:46:06,003 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:46:13,487 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:46:13,487 - app - INFO - Flask app created with config: development
2025-11-07 21:46:13,487 - app - INFO - Debug mode: True
2025-11-07 21:46:13,487 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:49:41,082 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-07 21:49:41,082 - app - INFO - Flask app created with config: development
2025-11-07 21:49:41,083 - app - INFO - Debug mode: True
2025-11-07 21:49:41,083 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-07 21:50:51,104 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:50:51,106 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:KKJ9ZxB-5HVXdCfVJiO5EwN_JSJV_LXNF6kjpXZSN1Y
2025-11-07 21:50:51,107 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:50:51,107 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:50:53,604 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:KKJ9ZxB-5HVXdCfVJiO5EwN_JSJV_LXNF6kjpXZSN1Y
2025-11-07 21:50:53,991 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 72059b92-bf8a-4bd9-aad7-52b56b591200 Correlation ID: e950fa82-e363-4f96-8230-5fd26168abe4 Timestamp: 2025-11-07 21:50:54Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:50:54Z', 'trace_id': '72059b92-bf8a-4bd9-aad7-52b56b591200', 'correlation_id': 'e950fa82-e363-4f96-8230-5fd26168abe4', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:50:53,992 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 72059b92-bf8a-4bd9-aad7-52b56b591200 Correlation ID: e950fa82-e363-4f96-8230-5fd26168abe4 Timestamp: 2025-11-07 21:50:54Z
2025-11-07 21:52:33,874 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-07 21:52:33,877 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:lzfRUN3Vt8l4GV-7j18G61skYOc4loxAN7yjiI0e7bk
2025-11-07 21:52:33,878 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:52:33,878 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-07 21:52:40,475 - app.services.azure_ad_service - DEBUG - Retrieved PKCE parameters from Redis and deleted key: sso_session:lzfRUN3Vt8l4GV-7j18G61skYOc4loxAN7yjiI0e7bk
2025-11-07 21:52:40,880 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 6b652043-d2a8-47ff-980c-2b27e93f1400 Correlation ID: 679769fd-cda1-46f4-9b06-6e41d42a1bae Timestamp: 2025-11-07 21:52:40Z", 'error_codes': [7000218], 'timestamp': '2025-11-07 21:52:40Z', 'trace_id': '6b652043-d2a8-47ff-980c-2b27e93f1400', 'correlation_id': '679769fd-cda1-46f4-9b06-6e41d42a1bae', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-07 21:52:40,880 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 6b652043-d2a8-47ff-980c-2b27e93f1400 Correlation ID: 679769fd-cda1-46f4-9b06-6e41d42a1bae Timestamp: 2025-11-07 21:52:40Z
2025-11-08 10:20:00,380 - app.utils.decorators - ERROR - JWT validation failed: Signature has expired
2025-11-08 10:21:15,346 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:21:15,347 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:ygnaHnZbGcuMa1RMbj1IsSzjGFlYgvVqm43MPX8cnuQ
2025-11-08 10:21:15,347 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:21:15,347 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:21:21,302 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:21:21,304 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:fmYzKkOI1-mmupKpMn5RnQ4tKnlfi8iy9LOnbPsKpWI
2025-11-08 10:21:21,305 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:21:21,305 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:22:59,568 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:22:59,570 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:mjNEQCAwSxWEkCN1tMy0QKW3hrZrcEQ-k8od7SziMBg
2025-11-08 10:22:59,571 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:22:59,571 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:24:03,479 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-08 10:24:37,507 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:24:37,508 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:vCu_9OiRARODWigkaK0OibaoltDhJuVsXhqriggD2eQ
2025-11-08 10:24:37,509 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:24:37,509 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:26:27,677 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:26:27,679 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:HYtHD2dHrvF2L37JMYoxmp26l7OyPkpkATX6WZVVIzw
2025-11-08 10:26:27,680 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:26:27,680 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:26:28,590 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:26:28,592 - app.services.azure_ad_service - DEBUG - Stored PKCE parameters in Redis with key: sso_session:YyNtiTe6p7cv_0iJ4ZFkcD1NQOSJl3Aq5hnaT_ej20A
2025-11-08 10:26:28,593 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:26:28,593 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:27:01,910 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:27:01,911 - app - INFO - Flask app created with config: development
2025-11-08 10:27:01,911 - app - INFO - Debug mode: True
2025-11-08 10:27:01,911 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:27:01,982 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:27:01,982 - app - INFO - Flask app created with config: development
2025-11-08 10:27:01,982 - app - INFO - Debug mode: True
2025-11-08 10:27:01,983 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:27:01,985 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:27:01,985 - app - INFO - Flask app created with config: development
2025-11-08 10:27:01,985 - app - INFO - Debug mode: True
2025-11-08 10:27:01,985 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:27:02,033 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:27:02,033 - app - INFO - Flask app created with config: development
2025-11-08 10:27:02,034 - app - INFO - Debug mode: True
2025-11-08 10:27:02,034 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:27:02,732 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:27:02,732 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:4WOsbCEnBjiQPJZzsjtzLxHDdzvdxheVlqTPLx6Gut0, state: 4WOsbCEnBj...
2025-11-08 10:27:02,733 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:27:02,733 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:27:02,733 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=4WOsbCEnBjiQPJZzsjtzLxHDdzvdxheVlqTPLx6Gut0&code_challenge=aPEZ4iLF3glUfz8JrM6TkfU76waQS7a4SXk2hWtG0Lg&code_challenge_method=S256&prompt=select_account
2025-11-08 10:27:13,143 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: []
2025-11-08 10:27:13,143 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: None
2025-11-08 10:27:13,144 - app.services.azure_ad_service - WARNING - No oauth_state found in Flask session
2025-11-08 10:27:13,145 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-08 10:32:37,521 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:32:37,522 - app - INFO - Flask app created with config: development
2025-11-08 10:32:37,522 - app - INFO - Debug mode: True
2025-11-08 10:32:37,523 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:32:37,582 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:32:37,582 - app - INFO - Flask app created with config: development
2025-11-08 10:32:37,583 - app - INFO - Debug mode: True
2025-11-08 10:32:37,583 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:32:37,633 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:32:37,633 - app - INFO - Flask app created with config: development
2025-11-08 10:32:37,633 - app - INFO - Debug mode: True
2025-11-08 10:32:37,634 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:32:37,698 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:32:37,698 - app - INFO - Flask app created with config: development
2025-11-08 10:32:37,698 - app - INFO - Debug mode: True
2025-11-08 10:32:37,699 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:32:54,167 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:32:54,168 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:gevM9RGO_5wzZeYjFLTLm3-mofyHVq2JjClRaRHK1ek, state: gevM9RGO_5...
2025-11-08 10:32:54,169 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:32:54,169 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:32:54,169 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=gevM9RGO_5wzZeYjFLTLm3-mofyHVq2JjClRaRHK1ek&code_challenge=WApS9je39WjM8gwnqZ0ccSi9dv7W_Pqtc0cCmpH3NqU&code_challenge_method=S256&prompt=select_account
2025-11-08 10:33:53,524 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:33:53,525 - app - INFO - Flask app created with config: development
2025-11-08 10:33:53,525 - app - INFO - Debug mode: True
2025-11-08 10:33:53,525 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:33:53,596 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:33:53,596 - app - INFO - Flask app created with config: development
2025-11-08 10:33:53,596 - app - INFO - Debug mode: True
2025-11-08 10:33:53,597 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:33:53,650 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:33:53,650 - app - INFO - Flask app created with config: development
2025-11-08 10:33:53,650 - app - INFO - Debug mode: True
2025-11-08 10:33:53,650 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:33:53,685 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:33:53,685 - app - INFO - Flask app created with config: development
2025-11-08 10:33:53,686 - app - INFO - Debug mode: True
2025-11-08 10:33:53,686 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:33:57,279 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:33:57,279 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:2G88p4vxpEl84Fn1XaFNCnMLtHhBj_npi10781LSJlc, state: 2G88p4vxpE...
2025-11-08 10:33:57,280 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:33:57,280 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:33:57,281 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=2G88p4vxpEl84Fn1XaFNCnMLtHhBj_npi10781LSJlc&code_challenge=nG2G423hpSKOxzm0ZJmmKtg0rc3eEhxBfYAhUt3MmBc&code_challenge_method=S256&prompt=select_account
2025-11-08 10:33:59,955 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 10:33:59,956 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: 2G88p4vxpE
2025-11-08 10:33:59,961 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:2G88p4vxpEl84Fn1XaFNCnMLtHhBj_npi10781LSJlc, state: 2G88p4vxpE...
2025-11-08 10:33:59,992 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 10:34:00,460 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: d4715ab8-ef03-433b-97bc-9ae332912000 Correlation ID: c0a7de72-f28d-4218-b2f2-bb86f96be3fb Timestamp: 2025-11-08 10:34:00Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 10:34:00Z', 'trace_id': 'd4715ab8-ef03-433b-97bc-9ae332912000', 'correlation_id': 'c0a7de72-f28d-4218-b2f2-bb86f96be3fb', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 10:34:00,461 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 10:37:53,931 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:37:53,933 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:8MLVSc9TKORmLyrU54qqU-yfuQoXk2uSpe-ckscPSDA, state: 8MLVSc9TKO...
2025-11-08 10:37:53,933 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:37:53,933 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:37:53,934 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=8MLVSc9TKORmLyrU54qqU-yfuQoXk2uSpe-ckscPSDA&code_challenge=SPm5tN5KcR_rma8KbuXd-QxlhjZ5pDrjJlJGQAtUmLc&code_challenge_method=S256&prompt=select_account
2025-11-08 10:37:56,169 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 10:37:56,171 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: 8MLVSc9TKO
2025-11-08 10:37:56,173 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:8MLVSc9TKORmLyrU54qqU-yfuQoXk2uSpe-ckscPSDA, state: 8MLVSc9TKO...
2025-11-08 10:37:56,188 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 10:37:56,617 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: bd595f7f-7579-428e-88a2-33e09b800000 Correlation ID: 6efc3b0c-4ff2-47f2-8c14-a0d9ed65827b Timestamp: 2025-11-08 10:37:56Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 10:37:56Z', 'trace_id': 'bd595f7f-7579-428e-88a2-33e09b800000', 'correlation_id': '6efc3b0c-4ff2-47f2-8c14-a0d9ed65827b', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 10:37:56,618 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 10:41:36,148 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:41:36,148 - app - INFO - Flask app created with config: development
2025-11-08 10:41:36,148 - app - INFO - Debug mode: True
2025-11-08 10:41:36,149 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:41:36,162 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:42:09,941 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:42:09,942 - app - INFO - Flask app created with config: development
2025-11-08 10:42:09,942 - app - INFO - Debug mode: True
2025-11-08 10:42:09,942 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:42:09,950 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:42:09,950 - app - INFO - Flask app created with config: development
2025-11-08 10:42:09,950 - app - INFO - Debug mode: True
2025-11-08 10:42:09,950 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:42:09,987 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:42:09,987 - app - INFO - Flask app created with config: development
2025-11-08 10:42:09,987 - app - INFO - Debug mode: True
2025-11-08 10:42:09,987 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:42:10,036 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:42:10,036 - app - INFO - Flask app created with config: development
2025-11-08 10:42:10,036 - app - INFO - Debug mode: True
2025-11-08 10:42:10,036 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:42:39,581 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:42:39,582 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:x82UmcJwEzPcQN1rO0FyxtM-kEX3-aTezAG5RwolAyQ, state: x82UmcJwEz...
2025-11-08 10:42:39,583 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:42:39,583 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:42:39,583 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=x82UmcJwEzPcQN1rO0FyxtM-kEX3-aTezAG5RwolAyQ&code_challenge=2B4r2T_GtY3qzX1S2zmVcF_YPR6nPDtny9H-lnlstno&code_challenge_method=S256&prompt=select_account
2025-11-08 10:42:42,412 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 10:42:42,413 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: x82UmcJwEz
2025-11-08 10:42:42,414 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:x82UmcJwEzPcQN1rO0FyxtM-kEX3-aTezAG5RwolAyQ, state: x82UmcJwEz...
2025-11-08 10:42:42,448 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 10:42:42,860 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: b70cbf84-5dab-4f9c-a4b3-fc66f3332200 Correlation ID: 147c0047-18a9-433f-aa64-66a1546cd198 Timestamp: 2025-11-08 10:42:42Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 10:42:42Z', 'trace_id': 'b70cbf84-5dab-4f9c-a4b3-fc66f3332200', 'correlation_id': '147c0047-18a9-433f-aa64-66a1546cd198', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 10:42:42,860 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 10:43:25,335 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:43:25,335 - app - INFO - Flask app created with config: development
2025-11-08 10:43:25,335 - app - INFO - Debug mode: True
2025-11-08 10:43:25,336 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:43:25,407 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:43:25,407 - app - INFO - Flask app created with config: development
2025-11-08 10:43:25,407 - app - INFO - Debug mode: True
2025-11-08 10:43:25,407 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:43:25,421 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:43:25,422 - app - INFO - Flask app created with config: development
2025-11-08 10:43:25,422 - app - INFO - Debug mode: True
2025-11-08 10:43:25,422 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:43:25,428 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:43:25,428 - app - INFO - Flask app created with config: development
2025-11-08 10:43:25,428 - app - INFO - Debug mode: True
2025-11-08 10:43:25,428 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:43:26,300 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:43:26,301 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:BaAsq5Nmr3nZ-efVdFo3ySucsM6T372zLBY16GrOo-I, state: BaAsq5Nmr3...
2025-11-08 10:43:26,302 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:43:26,302 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:43:26,302 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=BaAsq5Nmr3nZ-efVdFo3ySucsM6T372zLBY16GrOo-I&code_challenge=3QZG322t_JtJN-WqNYVEXBPqS0Wk6hluSM2jqIagcT0&code_challenge_method=S256&prompt=select_account
2025-11-08 10:43:29,238 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 10:43:29,239 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: BaAsq5Nmr3
2025-11-08 10:43:29,240 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:BaAsq5Nmr3nZ-efVdFo3ySucsM6T372zLBY16GrOo-I, state: BaAsq5Nmr3...
2025-11-08 10:43:29,244 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 10:43:29,719 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 3f416e8c-3f8c-4023-a6f0-4b9623852700 Correlation ID: 47920970-9945-4d64-aca9-a3917892f941 Timestamp: 2025-11-08 10:43:29Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 10:43:29Z', 'trace_id': '3f416e8c-3f8c-4023-a6f0-4b9623852700', 'correlation_id': '47920970-9945-4d64-aca9-a3917892f941', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 10:43:29,720 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 10:47:05,323 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:47:05,323 - app - INFO - Flask app created with config: development
2025-11-08 10:47:05,323 - app - INFO - Debug mode: True
2025-11-08 10:47:05,323 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:47:05,338 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:48:41,530 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:48:41,530 - app - INFO - Flask app created with config: development
2025-11-08 10:48:41,530 - app - INFO - Debug mode: True
2025-11-08 10:48:41,531 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:49:39,561 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:49:39,564 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:WX__cmCFA7i6wgu_7-2wcJhEHJr5pKzHcB3TQfmN2lE, state: WX__cmCFA7...
2025-11-08 10:49:39,565 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:49:39,566 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:49:39,566 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=WX__cmCFA7i6wgu_7-2wcJhEHJr5pKzHcB3TQfmN2lE&code_challenge=t1mo7NlmQRS9MbJUMzbIti3byL6c4kPEHVjjblaIXhQ&code_challenge_method=S256&prompt=select_account
2025-11-08 10:49:41,871 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 10:49:41,872 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: WX__cmCFA7
2025-11-08 10:49:41,873 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:WX__cmCFA7i6wgu_7-2wcJhEHJr5pKzHcB3TQfmN2lE, state: WX__cmCFA7...
2025-11-08 10:49:41,911 - app.services.azure_ad_service - INFO - Using client_secret for token exchange (confidential app)
2025-11-08 10:49:42,292 - app.services.azure_ad_service - ERROR - Token exchange failed: 400 - {'error': 'invalid_grant', 'error_description': 'AADSTS50148: The code_verifier does not match the code_challenge supplied in the authorization request for PKCE. Trace ID: fa94690a-6de3-4363-9b52-67c843792100 Correlation ID: 0ebb14e8-9d06-4912-8771-fb7f23c0fef0 Timestamp: 2025-11-08 10:49:42Z', 'error_codes': [50148], 'timestamp': '2025-11-08 10:49:42Z', 'trace_id': 'fa94690a-6de3-4363-9b52-67c843792100', 'correlation_id': '0ebb14e8-9d06-4912-8771-fb7f23c0fef0', 'error_uri': 'https://login.microsoftonline.com/error?code=50148'}
2025-11-08 10:49:42,293 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS50148: The code_verifier does not match the code_challenge supplied in the authorization request for PKCE. Trace ID: fa94690a-6de3-4363-9b52-67c843792100 Correlation ID: 0ebb14e8-9d06-4912-8771-fb7f23c0fef0 Timestamp: 2025-11-08 10:49:42Z
2025-11-08 10:50:55,602 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:50:55,602 - app - INFO - Flask app created with config: development
2025-11-08 10:50:55,603 - app - INFO - Debug mode: True
2025-11-08 10:50:55,603 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:50:55,668 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:50:55,669 - app - INFO - Flask app created with config: development
2025-11-08 10:50:55,669 - app - INFO - Debug mode: True
2025-11-08 10:50:55,669 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:50:55,741 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:50:55,743 - app - INFO - Flask app created with config: development
2025-11-08 10:50:55,743 - app - INFO - Debug mode: True
2025-11-08 10:50:55,743 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:50:55,775 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 10:50:55,775 - app - INFO - Flask app created with config: development
2025-11-08 10:50:55,775 - app - INFO - Debug mode: True
2025-11-08 10:50:55,775 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 10:58:56,144 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:58:56,146 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:P5F9s8lhk_nXhmXgskMh_LnIdF1sFXi8YrXCFcHYr3A, state: P5F9s8lhk_...
2025-11-08 10:58:56,146 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 10:58:56,146 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:58:56,147 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:58:56,147 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=P5F9s8lhk_nXhmXgskMh_LnIdF1sFXi8YrXCFcHYr3A&code_challenge=8yAAe28vwMFFp_eoyRzyJSFO5KejINuDnHeCTUmUImg&code_challenge_method=S256&prompt=select_account
2025-11-08 10:59:55,952 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 10:59:55,956 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:7MgMgRk7Fd9mE4HaZwSNZ-N5Rsup3y7ftiOCNtBPTME, state: 7MgMgRk7Fd...
2025-11-08 10:59:55,957 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 10:59:55,958 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:59:55,959 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 10:59:55,959 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=7MgMgRk7Fd9mE4HaZwSNZ-N5Rsup3y7ftiOCNtBPTME&code_challenge=IbXvobhdU8ay1ppwboY8stznZEjmXyVQExPN6qaQR2o&code_challenge_method=S256&prompt=select_account
2025-11-08 10:59:59,182 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 10:59:59,183 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: 7MgMgRk7Fd
2025-11-08 10:59:59,186 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:7MgMgRk7Fd9mE4HaZwSNZ-N5Rsup3y7ftiOCNtBPTME, state: 7MgMgRk7Fd...
2025-11-08 10:59:59,194 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 10:59:59,195 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 10:59:59,666 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: fc51b880-4ba3-40dc-8113-f426d2791c00 Correlation ID: 3b3c1d61-a246-4c3f-a9c2-19540aa7e876 Timestamp: 2025-11-08 10:59:59Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 10:59:59Z', 'trace_id': 'fc51b880-4ba3-40dc-8113-f426d2791c00', 'correlation_id': '3b3c1d61-a246-4c3f-a9c2-19540aa7e876', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 10:59:59,667 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 11:03:44,315 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:03:44,315 - app - INFO - Flask app created with config: development
2025-11-08 11:03:44,315 - app - INFO - Debug mode: True
2025-11-08 11:03:44,315 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:03:44,328 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:03:44,328 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:08:08,877 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:08:08,878 - app - INFO - Flask app created with config: development
2025-11-08 11:08:08,878 - app - INFO - Debug mode: True
2025-11-08 11:08:08,878 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:08:09,234 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:10:56,085 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: []
2025-11-08 11:10:56,086 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: None
2025-11-08 11:10:56,087 - app.services.azure_ad_service - WARNING - No oauth_state found in Flask session
2025-11-08 11:10:56,088 - app.services.azure_ad_service - WARNING - Missing state token for validation
2025-11-08 11:13:15,872 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:13:15,875 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:hCD7xSwWfU2_tkbrp3umW7NbQdCSNfx8YlsDcJUZIvc, state: hCD7xSwWfU...
2025-11-08 11:13:15,875 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:13:15,876 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:13:15,876 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:13:15,877 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=hCD7xSwWfU2_tkbrp3umW7NbQdCSNfx8YlsDcJUZIvc&code_challenge=4ckUUvYjFeRJYRX5TJty2zfaLTtkhTik1fXWqPRcS3o&code_challenge_method=S256&prompt=select_account
2025-11-08 11:13:20,147 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:13:20,148 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: hCD7xSwWfU
2025-11-08 11:13:20,150 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:hCD7xSwWfU2_tkbrp3umW7NbQdCSNfx8YlsDcJUZIvc, state: hCD7xSwWfU...
2025-11-08 11:13:20,156 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:13:20,156 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 11:13:20,570 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: dc1f2482-980b-4848-a774-2bae60b52900 Correlation ID: d1ef009e-9583-40e6-a99a-2700898075a9 Timestamp: 2025-11-08 11:13:20Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 11:13:20Z', 'trace_id': 'dc1f2482-980b-4848-a774-2bae60b52900', 'correlation_id': 'd1ef009e-9583-40e6-a99a-2700898075a9', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 11:13:20,571 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 11:13:30,916 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:13:30,918 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:yxFgHZEyET2H06cIMiqCP-WrSPoosXWQMVk6zvrDMvM, state: yxFgHZEyET...
2025-11-08 11:13:30,919 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:13:30,920 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:13:30,920 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:13:30,921 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=yxFgHZEyET2H06cIMiqCP-WrSPoosXWQMVk6zvrDMvM&code_challenge=fUXW5ghUd6pikoz5Hw6qh9MzBZptJzJ3BGjqI9RVHtk&code_challenge_method=S256&prompt=select_account
2025-11-08 11:14:11,293 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:14:11,294 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: yxFgHZEyET
2025-11-08 11:14:11,297 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:yxFgHZEyET2H06cIMiqCP-WrSPoosXWQMVk6zvrDMvM, state: yxFgHZEyET...
2025-11-08 11:14:11,303 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:14:11,304 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 11:14:11,718 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: c414b440-26c0-4b7c-a21b-9ae14c142200 Correlation ID: 61a2d076-2768-43f4-9722-39a26a203c16 Timestamp: 2025-11-08 11:14:11Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 11:14:11Z', 'trace_id': 'c414b440-26c0-4b7c-a21b-9ae14c142200', 'correlation_id': '61a2d076-2768-43f4-9722-39a26a203c16', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 11:14:11,719 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 11:16:05,572 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:16:05,573 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:mpZcNp6eJTxkDDyqSSbJdEdImaqTe2iC9Ii2_IvjLyI, state: mpZcNp6eJT...
2025-11-08 11:16:05,574 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:16:05,574 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:16:05,574 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:16:05,575 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=mpZcNp6eJTxkDDyqSSbJdEdImaqTe2iC9Ii2_IvjLyI&code_challenge=Kns3UcXiMPh3-GQ_DOd-pWqeVlQ5SMibSKMRjPkI6Os&code_challenge_method=S256&prompt=select_account
2025-11-08 11:18:50,450 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:18:50,452 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:cv02m7YiwM2ekRUUAaDH5WJejJ4wBVS01_I0yKbtowc, state: cv02m7YiwM...
2025-11-08 11:18:50,452 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:18:50,453 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:18:50,453 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:18:50,454 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=cv02m7YiwM2ekRUUAaDH5WJejJ4wBVS01_I0yKbtowc&code_challenge=rwxGbancXmwZQ43CWpynaT26idxpjOZHgMmCdIHM00g&code_challenge_method=S256&prompt=select_account
2025-11-08 11:18:52,848 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:18:52,849 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: cv02m7YiwM
2025-11-08 11:18:52,851 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:cv02m7YiwM2ekRUUAaDH5WJejJ4wBVS01_I0yKbtowc, state: cv02m7YiwM...
2025-11-08 11:18:52,856 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:18:52,857 - app.services.azure_ad_service - INFO - Using PKCE code_verifier for token exchange (public app)
2025-11-08 11:18:53,336 - app.services.azure_ad_service - ERROR - Token exchange failed: 401 - {'error': 'invalid_client', 'error_description': "AADSTS7000218: The request body must contain the following parameter: 'client_assertion' or 'client_secret'. Trace ID: 39ec3d74-8530-429a-b875-fce7f5ac1d00 Correlation ID: 00e9de20-afea-4b49-a253-fce90337247c Timestamp: 2025-11-08 11:18:53Z", 'error_codes': [7000218], 'timestamp': '2025-11-08 11:18:53Z', 'trace_id': '39ec3d74-8530-429a-b875-fce7f5ac1d00', 'correlation_id': '00e9de20-afea-4b49-a253-fce90337247c', 'error_uri': 'https://login.microsoftonline.com/error?code=7000218'}
2025-11-08 11:18:53,336 - app.routes.sso_auth - ERROR - SSO login error: The application requires a client secret but none was provided. Either add a client secret in Azure Portal or ensure the app is configured for public client flow with PKCE.
2025-11-08 11:22:35,789 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:22:35,789 - app - INFO - Flask app created with config: development
2025-11-08 11:22:35,789 - app - INFO - Debug mode: True
2025-11-08 11:22:35,789 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:23:38,002 - app.services.azure_ad_service - DEBUG - Generated PKCE pair: verifier length=43, challenge length=43
2025-11-08 11:23:38,006 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:vRD4wIwemasSpXwzjSnMw_tNqN9UOFwKMv4E836iYeE, state: vRD4wIwema...
2025-11-08 11:23:38,006 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:23:38,007 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:23:38,007 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:23:38,008 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=vRD4wIwemasSpXwzjSnMw_tNqN9UOFwKMv4E836iYeE&code_challenge=ThrbLdPBUwhKIyvvfKsJ16M4bhgaWTRRu70SJOuM9eo&code_challenge_method=S256&prompt=select_account
2025-11-08 11:23:40,547 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:23:40,548 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: vRD4wIwema
2025-11-08 11:23:40,551 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:vRD4wIwemasSpXwzjSnMw_tNqN9UOFwKMv4E836iYeE, state: vRD4wIwema...
2025-11-08 11:23:40,560 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:23:40,561 - app.services.azure_ad_service - INFO - Using client_secret for token exchange (confidential app)
2025-11-08 11:23:40,981 - app.services.azure_ad_service - ERROR - Token exchange failed: 400 - {'error': 'invalid_grant', 'error_description': 'AADSTS50148: The code_verifier does not match the code_challenge supplied in the authorization request for PKCE. Trace ID: e0bf26e7-4e36-46e3-8baa-632a5e972200 Correlation ID: 876ecf0b-61b9-41df-84fc-57c8ca548c68 Timestamp: 2025-11-08 11:23:40Z', 'error_codes': [50148], 'timestamp': '2025-11-08 11:23:40Z', 'trace_id': 'e0bf26e7-4e36-46e3-8baa-632a5e972200', 'correlation_id': '876ecf0b-61b9-41df-84fc-57c8ca548c68', 'error_uri': 'https://login.microsoftonline.com/error?code=50148'}
2025-11-08 11:23:40,982 - app.routes.sso_auth - ERROR - SSO login error: Token exchange failed: AADSTS50148: The code_verifier does not match the code_challenge supplied in the authorization request for PKCE. Trace ID: e0bf26e7-4e36-46e3-8baa-632a5e972200 Correlation ID: 876ecf0b-61b9-41df-84fc-57c8ca548c68 Timestamp: 2025-11-08 11:23:40Z
2025-11-08 11:25:53,987 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:25:53,987 - app - INFO - Flask app created with config: development
2025-11-08 11:25:53,987 - app - INFO - Debug mode: True
2025-11-08 11:25:53,988 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:25:53,990 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:25:53,991 - app - INFO - Flask app created with config: development
2025-11-08 11:25:53,991 - app - INFO - Debug mode: True
2025-11-08 11:25:53,992 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:25:54,040 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:25:54,040 - app - INFO - Flask app created with config: development
2025-11-08 11:25:54,041 - app - INFO - Debug mode: True
2025-11-08 11:25:54,041 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:25:54,123 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:25:54,123 - app - INFO - Flask app created with config: development
2025-11-08 11:25:54,123 - app - INFO - Debug mode: True
2025-11-08 11:25:54,123 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:26:48,924 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:26:48,925 - app - INFO - Flask app created with config: development
2025-11-08 11:26:48,925 - app - INFO - Debug mode: True
2025-11-08 11:26:48,925 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:26:48,938 - app.services.azure_ad_service - INFO - Using client_secret for authorization (Confidential Client mode)
2025-11-08 11:26:48,938 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:27:46,044 - app.routes.sso_auth - INFO - Using client_secret (Confidential Client mode)
2025-11-08 11:27:46,046 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:yNUSGfDy9-1kbWOsRWUxOUeHkHhEzcfKzgRV8a2yXEA, state: yNUSGfDy9-...
2025-11-08 11:27:46,046 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:27:46,047 - app.services.azure_ad_service - INFO - Using client_secret for authorization (Confidential Client mode)
2025-11-08 11:27:46,047 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:27:46,048 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:27:46,048 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=yNUSGfDy9-1kbWOsRWUxOUeHkHhEzcfKzgRV8a2yXEA&prompt=select_account
2025-11-08 11:27:47,903 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:27:47,904 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: yNUSGfDy9-
2025-11-08 11:27:47,906 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:yNUSGfDy9-1kbWOsRWUxOUeHkHhEzcfKzgRV8a2yXEA, state: yNUSGfDy9-...
2025-11-08 11:27:47,941 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:27:47,942 - app.services.azure_ad_service - INFO - Using client_secret for token exchange (confidential app)
2025-11-08 11:27:48,397 - app.services.azure_ad_service - INFO - Successfully exchanged code for tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:27:48,401 - app.services.azure_ad_service - INFO - Successfully validated ID token for user yannick.simon@fidwork.fr
2025-11-08 11:27:48,401 - app.routes.sso_auth - ERROR - SSO login error: Email domain not allowed for SSO: yannick.simon@fidwork.fr
2025-11-08 11:29:34,578 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:29:34,578 - app - INFO - Flask app created with config: development
2025-11-08 11:29:34,579 - app - INFO - Debug mode: True
2025-11-08 11:29:34,579 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:30:55,032 - app.routes.sso_auth - INFO - Using client_secret (Confidential Client mode)
2025-11-08 11:30:55,034 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:JKct2ZyN9L2xg_USj3nnWkZFobR-MwgNpKCg4tCEko4, state: JKct2ZyN9L...
2025-11-08 11:30:55,034 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:30:55,035 - app.services.azure_ad_service - INFO - Using client_secret for authorization (Confidential Client mode)
2025-11-08 11:30:55,035 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:30:55,035 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:30:55,035 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=JKct2ZyN9L2xg_USj3nnWkZFobR-MwgNpKCg4tCEko4&prompt=select_account
2025-11-08 11:30:57,300 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:30:57,301 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: JKct2ZyN9L
2025-11-08 11:30:57,303 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:JKct2ZyN9L2xg_USj3nnWkZFobR-MwgNpKCg4tCEko4, state: JKct2ZyN9L...
2025-11-08 11:30:57,308 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:30:57,309 - app.services.azure_ad_service - INFO - Using client_secret for token exchange (confidential app)
2025-11-08 11:30:57,785 - app.services.azure_ad_service - INFO - Successfully exchanged code for tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:30:57,789 - app.services.azure_ad_service - INFO - Successfully validated ID token for user yannick.simon@fidwork.fr
2025-11-08 11:30:57,802 - app.services.azure_ad_service - INFO - Created new SSO user: yannick.simon@fidwork.fr
2025-11-08 11:30:57,803 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=fd2e59ea-32e4-4b9a-abe6-cb42e3ead5c5, tenant_id=cb859f98-291e-41b2-b30f-2287c2699205, role=viewer
2025-11-08 11:30:57,804 - app.services.azure_ad_service - INFO - Created user-tenant association with role: viewer
2025-11-08 11:30:57,811 - app.models.user_azure_identity - INFO - UserAzureIdentity initialized: user_id=fd2e59ea-32e4-4b9a-abe6-cb42e3ead5c5, tenant_id=cb859f98-291e-41b2-b30f-2287c2699205, azure_object_id=c0cd72bc-f5ec-4a84-8cca-a1c82ee2134a
2025-11-08 11:30:57,811 - app.models.user_azure_identity - INFO - Created new Azure identity for user fd2e59ea-32e4-4b9a-abe6-cb42e3ead5c5 on tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:30:57,811 - app.models.user_azure_identity - WARNING - Tokens are being stored without Vault encryption. Implement VaultEncryptionService for production use.
2025-11-08 11:30:57,812 - app.models.user_azure_identity - INFO - Tokens saved for user fd2e59ea-32e4-4b9a-abe6-cb42e3ead5c5 on tenant cb859f98-291e-41b2-b30f-2287c2699205. Access token expires at 2025-11-08 12:59:43.812387
2025-11-08 11:30:57,812 - app.models.user_azure_identity - INFO - Updated Azure identity from claims for user fd2e59ea-32e4-4b9a-abe6-cb42e3ead5c5
2025-11-08 11:30:57,818 - app.services.azure_ad_service - INFO - Successfully processed SSO login for user yannick.simon@fidwork.fr on tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:33:17,876 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:33:17,876 - app - INFO - Flask app created with config: development
2025-11-08 11:33:17,876 - app - INFO - Debug mode: True
2025-11-08 11:33:17,877 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:34:49,254 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:34:49,254 - app - INFO - Flask app created with config: development
2025-11-08 11:34:49,254 - app - INFO - Debug mode: True
2025-11-08 11:34:49,255 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:34:49,324 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:34:49,324 - app - INFO - Flask app created with config: development
2025-11-08 11:34:49,325 - app - INFO - Debug mode: True
2025-11-08 11:34:49,325 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:34:49,424 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:34:49,424 - app - INFO - Flask app created with config: development
2025-11-08 11:34:49,424 - app - INFO - Debug mode: True
2025-11-08 11:34:49,425 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:34:49,445 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 11:34:49,445 - app - INFO - Flask app created with config: development
2025-11-08 11:34:49,446 - app - INFO - Debug mode: True
2025-11-08 11:34:49,446 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 11:35:48,397 - app.routes.sso_auth - INFO - Using client_secret (Confidential Client mode)
2025-11-08 11:35:48,399 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:gEriKi8RiCnkOYVUKrXFVCvkQ2vFSJ9YoJKNlhpVJxY, state: gEriKi8RiC...
2025-11-08 11:35:48,399 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:35:48,399 - app.services.azure_ad_service - INFO - Using client_secret for authorization (Confidential Client mode)
2025-11-08 11:35:48,400 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:35:48,400 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:35:48,400 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read&state=gEriKi8RiCnkOYVUKrXFVCvkQ2vFSJ9YoJKNlhpVJxY&prompt=select_account
2025-11-08 11:35:50,631 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 11:35:50,632 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: gEriKi8RiC
2025-11-08 11:35:50,634 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:gEriKi8RiCnkOYVUKrXFVCvkQ2vFSJ9YoJKNlhpVJxY, state: gEriKi8RiC...
2025-11-08 11:35:50,669 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 11:35:50,669 - app.services.azure_ad_service - INFO - Using client_secret for token exchange (confidential app)
2025-11-08 11:35:51,074 - app.services.azure_ad_service - INFO - Successfully exchanged code for tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:35:51,079 - app.services.azure_ad_service - INFO - Successfully validated ID token for user yannick.simon@fidwork.fr
2025-11-08 11:35:51,090 - app.services.azure_ad_service - INFO - Parsed name 'Yannick Simon' into first_name='Yannick', last_name='Simon'
2025-11-08 11:35:51,095 - app.services.azure_ad_service - INFO - Created new SSO user: yannick.simon@fidwork.fr
2025-11-08 11:35:51,095 - app.models.user_tenant_association - INFO - UserTenantAssociation initialized: user_id=02ab2057-f877-42f7-ad8f-7f42dd7af131, tenant_id=cb859f98-291e-41b2-b30f-2287c2699205, role=viewer
2025-11-08 11:35:51,096 - app.services.azure_ad_service - INFO - Created user-tenant association with role: viewer
2025-11-08 11:35:51,102 - app.models.user_azure_identity - INFO - UserAzureIdentity initialized: user_id=02ab2057-f877-42f7-ad8f-7f42dd7af131, tenant_id=cb859f98-291e-41b2-b30f-2287c2699205, azure_object_id=c0cd72bc-f5ec-4a84-8cca-a1c82ee2134a
2025-11-08 11:35:51,103 - app.models.user_azure_identity - INFO - Created new Azure identity for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 11:35:51,103 - app.models.user_azure_identity - WARNING - Tokens are being stored without Vault encryption. Implement VaultEncryptionService for production use.
2025-11-08 11:35:51,104 - app.models.user_azure_identity - INFO - Tokens saved for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205. Access token expires at 2025-11-08 12:44:02.104204
2025-11-08 11:35:51,104 - app.models.user_azure_identity - INFO - Updated Azure identity from claims for user 02ab2057-f877-42f7-ad8f-7f42dd7af131
2025-11-08 11:35:51,110 - app.services.azure_ad_service - INFO - Successfully processed SSO login for user yannick.simon@fidwork.fr on tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:43:14,308 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:43:14,309 - app - INFO - Flask app created with config: development
2025-11-08 13:43:14,309 - app - INFO - Debug mode: True
2025-11-08 13:43:14,309 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:44:05,598 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:44:05,599 - app - INFO - Flask app created with config: development
2025-11-08 13:44:05,599 - app - INFO - Debug mode: True
2025-11-08 13:44:05,599 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:45:26,163 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:45:26,163 - app - INFO - Flask app created with config: development
2025-11-08 13:45:26,164 - app - INFO - Debug mode: True
2025-11-08 13:45:26,164 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:45:37,534 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:45:37,534 - app - INFO - Flask app created with config: development
2025-11-08 13:45:37,534 - app - INFO - Debug mode: True
2025-11-08 13:45:37,534 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:45:37,966 - app.services.azure_ad_service - ERROR - Token refresh failed: 400 - {'error': 'invalid_grant', 'error_description': 'AADSTS9002313: Invalid request. Request is malformed or invalid. Trace ID: 4e710dc5-c5b1-444c-8abd-f52e45eb2300 Correlation ID: a10679bc-df96-4668-b89c-e3c5905247bc Timestamp: 2025-11-08 13:45:37Z', 'error_codes': [9002313], 'timestamp': '2025-11-08 13:45:37Z', 'trace_id': '4e710dc5-c5b1-444c-8abd-f52e45eb2300', 'correlation_id': 'a10679bc-df96-4668-b89c-e3c5905247bc', 'error_uri': 'https://login.microsoftonline.com/error?code=9002313'}
2025-11-08 13:48:45,130 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:48:45,131 - app - INFO - Flask app created with config: development
2025-11-08 13:48:45,131 - app - INFO - Debug mode: True
2025-11-08 13:48:45,131 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:48:45,212 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:48:45,212 - app - INFO - Flask app created with config: development
2025-11-08 13:48:45,212 - app - INFO - Debug mode: True
2025-11-08 13:48:45,212 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:48:45,280 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:48:45,280 - app - INFO - Flask app created with config: development
2025-11-08 13:48:45,280 - app - INFO - Debug mode: True
2025-11-08 13:48:45,281 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:48:45,281 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:48:45,281 - app - INFO - Flask app created with config: development
2025-11-08 13:48:45,281 - app - INFO - Debug mode: True
2025-11-08 13:48:45,281 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:51:18,708 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:51:18,708 - app - INFO - Flask app created with config: development
2025-11-08 13:51:18,708 - app - INFO - Debug mode: True
2025-11-08 13:51:18,709 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:51:38,708 - app.routes.sso_auth - INFO - Using client_secret (Confidential Client mode)
2025-11-08 13:51:38,709 - app.services.azure_ad_service - INFO - Stored PKCE parameters in Redis with key: sso_session:6aboR-eyb43QIqxtFBoU5URgpiBYqLXwk-CmL59pmfw, state: 6aboR-eyb4...
2025-11-08 13:51:38,710 - app.routes.sso_auth - INFO - Using configured redirect URI: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 13:51:38,710 - app.services.azure_ad_service - INFO - Using client_secret for authorization (Confidential Client mode)
2025-11-08 13:51:38,711 - app.services.azure_ad_service - INFO - Generated authorization URL for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:51:38,711 - app.routes.sso_auth - INFO - Initiating Azure AD login for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:51:38,711 - app.routes.sso_auth - INFO - Generated auth URL: https://login.microsoftonline.com/072a8ae9-5c75-4606-98c3-c0754cf130aa/oauth2/v2.0/authorize?client_id=dd5f0275-3e46-4103-bce5-1589a6f13d48&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A4999%2Fapi%2Fauth%2Fsso%2Fazure%2Fcallback&response_mode=query&scope=openid+profile+email+User.Read+offline_access&state=6aboR-eyb43QIqxtFBoU5URgpiBYqLXwk-CmL59pmfw&prompt=select_account
2025-11-08 13:51:40,533 - app.services.azure_ad_service - INFO - Attempting to retrieve PKCE from session. Session keys: ['oauth_state', 'return_url', 'sso_tenant_id']
2025-11-08 13:51:40,534 - app.services.azure_ad_service - INFO - Retrieved state from Flask session: 6aboR-eyb4
2025-11-08 13:51:40,536 - app.services.azure_ad_service - INFO - Retrieved PKCE parameters from Redis and deleted key: sso_session:6aboR-eyb43QIqxtFBoU5URgpiBYqLXwk-CmL59pmfw, state: 6aboR-eyb4...
2025-11-08 13:51:40,541 - app.routes.sso_auth - INFO - Using configured redirect URI for token exchange: http://localhost:4999/api/auth/sso/azure/callback
2025-11-08 13:51:40,542 - app.services.azure_ad_service - INFO - Using client_secret for token exchange (confidential app)
2025-11-08 13:51:40,923 - app.services.azure_ad_service - INFO - Successfully exchanged code for tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:51:40,927 - app.services.azure_ad_service - INFO - Successfully validated ID token for user yannick.simon@fidwork.fr
2025-11-08 13:51:40,944 - app.models.user_azure_identity - INFO - Updated existing Azure identity for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:51:40,945 - app.models.user_azure_identity - WARNING - Tokens are being stored without Vault encryption. Implement VaultEncryptionService for production use.
2025-11-08 13:51:40,945 - app.models.user_azure_identity - INFO - Tokens saved for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205. Access token expires at 2025-11-08 15:10:13.945501
2025-11-08 13:51:40,946 - app.models.user_azure_identity - INFO - Updated Azure identity from claims for user 02ab2057-f877-42f7-ad8f-7f42dd7af131
2025-11-08 13:51:40,951 - app.services.azure_ad_service - INFO - Successfully processed SSO login for user yannick.simon@fidwork.fr on tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:52:17,865 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:52:17,865 - app - INFO - Flask app created with config: development
2025-11-08 13:52:17,865 - app - INFO - Debug mode: True
2025-11-08 13:52:17,865 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:52:25,958 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:52:25,959 - app - INFO - Flask app created with config: development
2025-11-08 13:52:25,959 - app - INFO - Debug mode: True
2025-11-08 13:52:25,959 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:52:58,419 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:52:58,420 - app - INFO - Flask app created with config: development
2025-11-08 13:52:58,420 - app - INFO - Debug mode: True
2025-11-08 13:52:58,420 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:53:30,553 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:53:30,554 - app - INFO - Flask app created with config: development
2025-11-08 13:53:30,554 - app - INFO - Debug mode: True
2025-11-08 13:53:30,554 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:54:36,145 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:54:36,145 - app - INFO - Flask app created with config: development
2025-11-08 13:54:36,145 - app - INFO - Debug mode: True
2025-11-08 13:54:36,145 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:54:36,694 - app.services.azure_ad_service - INFO - Successfully refreshed tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:54:57,633 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:54:57,633 - app - INFO - Flask app created with config: development
2025-11-08 13:54:57,634 - app - INFO - Debug mode: True
2025-11-08 13:54:57,634 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:54:58,166 - app.services.azure_ad_service - INFO - Successfully refreshed tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:54:58,168 - app.models.user_azure_identity - WARNING - Tokens are being stored without Vault encryption. Implement VaultEncryptionService for production use.
2025-11-08 13:54:58,170 - app.models.user_azure_identity - INFO - Tokens saved for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205. Access token expires at 2025-11-08 15:07:56.170022
2025-11-08 13:55:48,326 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:55:48,327 - app - INFO - Flask app created with config: development
2025-11-08 13:55:48,327 - app - INFO - Debug mode: True
2025-11-08 13:55:48,327 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:56:08,288 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:56:08,288 - app - INFO - Flask app created with config: development
2025-11-08 13:56:08,288 - app - INFO - Debug mode: True
2025-11-08 13:56:08,288 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:56:49,732 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 13:56:49,732 - app - INFO - Flask app created with config: development
2025-11-08 13:56:49,732 - app - INFO - Debug mode: True
2025-11-08 13:56:49,732 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 13:56:50,514 - app.services.azure_ad_service - INFO - Successfully refreshed tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 13:56:50,515 - app.models.user_azure_identity - WARNING - Tokens are being stored without Vault encryption. Implement VaultEncryptionService for production use.
2025-11-08 13:56:50,516 - app.models.user_azure_identity - INFO - Tokens saved for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205. Access token expires at 2025-11-08 15:00:50.516015
2025-11-08 21:43:39,040 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 21:43:39,040 - app - INFO - Flask app created with config: development
2025-11-08 21:43:39,040 - app - INFO - Debug mode: True
2025-11-08 21:43:39,040 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 21:43:39,126 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 21:43:39,126 - app - INFO - Flask app created with config: development
2025-11-08 21:43:39,127 - app - INFO - Debug mode: True
2025-11-08 21:43:39,128 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 21:43:39,196 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 21:43:39,196 - app - INFO - Flask app created with config: development
2025-11-08 21:43:39,196 - app - INFO - Debug mode: True
2025-11-08 21:43:39,196 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 21:43:39,197 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 21:43:39,197 - app - INFO - Flask app created with config: development
2025-11-08 21:43:39,197 - app - INFO - Debug mode: True
2025-11-08 21:43:39,198 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 21:53:15,769 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 21:53:15,769 - app - INFO - Flask app created with config: development
2025-11-08 21:53:15,769 - app - INFO - Debug mode: True
2025-11-08 21:53:15,769 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 21:53:16,351 - app.services.azure_ad_service - INFO - Successfully refreshed tokens for tenant cb859f98-291e-41b2-b30f-2287c2699205
2025-11-08 21:53:16,354 - app.models.user_azure_identity - WARNING - Tokens are being stored without Vault encryption. Implement VaultEncryptionService for production use.
2025-11-08 21:53:16,355 - app.models.user_azure_identity - INFO - Tokens saved for user 02ab2057-f877-42f7-ad8f-7f42dd7af131 on tenant cb859f98-291e-41b2-b30f-2287c2699205. Access token expires at 2025-11-08 23:01:19.355321
2025-11-08 22:01:43,905 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 22:01:43,905 - app - INFO - Flask app created with config: development
2025-11-08 22:01:43,905 - app - INFO - Debug mode: True
2025-11-08 22:01:43,906 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 22:20:30,259 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 22:20:30,259 - app - INFO - Flask app created with config: development
2025-11-08 22:20:30,259 - app - INFO - Debug mode: True
2025-11-08 22:20:30,259 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-08 22:20:32,941 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-08 22:20:32,941 - app - INFO - Flask app created with config: development
2025-11-08 22:20:32,941 - app - INFO - Debug mode: True
2025-11-08 22:20:32,941 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:25:29,428 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:25:29,429 - app - INFO - Flask app created with config: development
2025-11-10 19:25:29,430 - app - INFO - Debug mode: True
2025-11-10 19:25:29,433 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:25:29,436 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:25:29,437 - app - INFO - Flask app created with config: development
2025-11-10 19:25:29,437 - app - INFO - Debug mode: True
2025-11-10 19:25:29,438 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:25:29,498 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:25:29,498 - app - INFO - Flask app created with config: development
2025-11-10 19:25:29,499 - app - INFO - Debug mode: True
2025-11-10 19:25:29,499 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:25:29,505 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:25:29,505 - app - INFO - Flask app created with config: development
2025-11-10 19:25:29,505 - app - INFO - Debug mode: True
2025-11-10 19:25:29,506 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:34:03,921 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:34:03,922 - app - INFO - Flask app created with config: development
2025-11-10 19:34:03,922 - app - INFO - Debug mode: True
2025-11-10 19:34:03,922 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:34:12,330 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:34:12,330 - app - INFO - Flask app created with config: development
2025-11-10 19:34:12,330 - app - INFO - Debug mode: True
2025-11-10 19:34:12,331 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:34:20,304 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:34:20,304 - app - INFO - Flask app created with config: development
2025-11-10 19:34:20,304 - app - INFO - Debug mode: True
2025-11-10 19:34:20,305 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:34:40,963 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 19:34:40,964 - app - INFO - Flask app created with config: development
2025-11-10 19:34:40,964 - app - INFO - Debug mode: True
2025-11-10 19:34:40,964 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 19:34:40,990 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-10 19:34:40,997 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-10 19:34:40,998 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-10 19:34:40,998 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-10 19:34:40,999 - app.tenant_db.tenant_migrations - INFO - Applying migration v2: add_file_metadata_column
2025-11-10 19:34:41,000 - app.tenant_db.tenant_migrations - INFO -  Migration v2 applied successfully
2025-11-10 21:15:14,191 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:15:14,191 - app - INFO - Flask app created with config: development
2025-11-10 21:15:14,193 - app - INFO - Debug mode: True
2025-11-10 21:15:14,193 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:15:14,199 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:15:14,199 - app - INFO - Flask app created with config: development
2025-11-10 21:15:14,199 - app - INFO - Debug mode: True
2025-11-10 21:15:14,200 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:15:14,245 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:15:14,245 - app - INFO - Flask app created with config: development
2025-11-10 21:15:14,246 - app - INFO - Debug mode: True
2025-11-10 21:15:14,246 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:15:14,253 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:15:14,254 - app - INFO - Flask app created with config: development
2025-11-10 21:15:14,254 - app - INFO - Debug mode: True
2025-11-10 21:15:14,254 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:16:17,449 - app.utils.decorators - DEBUG - Authenticated user: 609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:16:17,454 - app.routes.files - ERROR - Error listing files for tenant :tenant_id: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID AND tenants.is_active ...
                           ^

[SQL: SELECT tenants.name AS tenants_name, tenants.database_name AS tenants_database_name, tenants.is_active AS tenants_is_active, tenants.auth_method AS tenants_auth_method, tenants.sso_domain_whitelist AS tenants_sso_domain_whitelist, tenants.sso_auto_provisioning AS tenants_sso_auto_provisioning, tenants.sso_default_role AS tenants_sso_default_role, tenants.id AS tenants_id, tenants.created_at AS tenants_created_at, tenants.updated_at AS tenants_updated_at, tenants.created_by AS tenants_created_by 
FROM tenants 
WHERE tenants.id = %(id_1)s::UUID AND tenants.is_active = true 
 LIMIT %(param_1)s]
[parameters: {'id_1': ':tenant_id', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID AND tenants.is_active ...
                           ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/routes/files.py", line 162, in list_files
    has_access, error_response = check_tenant_access(user_id, tenant_id)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/files.py", line 59, in check_tenant_access
    tenant = Tenant.query.filter_by(id=tenant_id, is_active=True).first()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID AND tenants.is_active ...
                           ^

[SQL: SELECT tenants.name AS tenants_name, tenants.database_name AS tenants_database_name, tenants.is_active AS tenants_is_active, tenants.auth_method AS tenants_auth_method, tenants.sso_domain_whitelist AS tenants_sso_domain_whitelist, tenants.sso_auto_provisioning AS tenants_sso_auto_provisioning, tenants.sso_default_role AS tenants_sso_default_role, tenants.id AS tenants_id, tenants.created_at AS tenants_created_at, tenants.updated_at AS tenants_updated_at, tenants.created_by AS tenants_created_by 
FROM tenants 
WHERE tenants.id = %(id_1)s::UUID AND tenants.is_active = true 
 LIMIT %(param_1)s]
[parameters: {'id_1': ':tenant_id', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-11-10 21:17:16,716 - app.utils.decorators - DEBUG - Authenticated user: 609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:17:16,727 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_b3588f36
2025-11-10 21:17:16,728 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_b3588f36
2025-11-10 21:17:16,748 - app.routes.files - INFO - Retrieved 0 files for tenant bceedea1-22c3-4295-b02b-5cc4aeec1fa8 (page 1/0, total: 0)
2025-11-10 21:17:16,749 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_b3588f36
2025-11-10 21:17:31,107 - app.utils.decorators - DEBUG - Authenticated user: 609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:17:31,108 - app.routes.tenants - INFO - Listing tenants for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:17:31,116 - app.routes.tenants - INFO - Retrieved 1 tenants for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:18:02,333 - app.utils.decorators - DEBUG - Authenticated user: 609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:18:02,334 - app.routes.users - INFO - Fetching profile for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:18:02,377 - app.routes.users - INFO - User profile retrieved successfully: user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:18:54,639 - app.utils.decorators - DEBUG - Authenticated user: 609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:18:54,641 - app.routes.users - INFO - Fetching SSO identities for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:18:54,654 - app.routes.users - INFO - Retrieved 0 SSO identities for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:19:07,097 - app.utils.decorators - DEBUG - Authenticated user: 609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:19:07,098 - app.routes.users - INFO - Fetching tenants for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:19:07,106 - app.routes.users - INFO - Retrieved 1 tenants for user_id=609fcfa4-354c-435e-8d70-ec699093eb6f
2025-11-10 21:27:58,932 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:27:58,933 - app - INFO - Flask app created with config: development
2025-11-10 21:27:58,934 - app - INFO - Debug mode: True
2025-11-10 21:27:58,934 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:28:19,290 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:28:19,290 - app - INFO - Flask app created with config: development
2025-11-10 21:28:19,290 - app - INFO - Debug mode: True
2025-11-10 21:28:19,290 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:28:42,847 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:28:42,849 - app - INFO - Flask app created with config: development
2025-11-10 21:28:42,850 - app - INFO - Debug mode: True
2025-11-10 21:28:42,851 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:28:42,872 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:28:42,873 - app - INFO - Flask app created with config: development
2025-11-10 21:28:42,874 - app - INFO - Debug mode: True
2025-11-10 21:28:42,875 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:28:42,897 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:28:42,897 - app - INFO - Flask app created with config: development
2025-11-10 21:28:42,897 - app - INFO - Debug mode: True
2025-11-10 21:28:42,898 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:28:42,911 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:28:42,911 - app - INFO - Flask app created with config: development
2025-11-10 21:28:42,911 - app - INFO - Debug mode: True
2025-11-10 21:28:42,912 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-10 21:29:13,562 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-10 21:29:13,563 - app - INFO - Flask app created with config: development
2025-11-10 21:29:13,564 - app - INFO - Debug mode: True
2025-11-10 21:29:13,564 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:17:45,956 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:17:45,957 - app - INFO - Flask app created with config: development
2025-11-12 09:17:45,957 - app - INFO - Debug mode: True
2025-11-12 09:17:45,957 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:17:45,960 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:17:45,960 - app - INFO - Flask app created with config: development
2025-11-12 09:17:45,960 - app - INFO - Debug mode: True
2025-11-12 09:17:45,960 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:17:46,016 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:17:46,016 - app - INFO - Flask app created with config: development
2025-11-12 09:17:46,017 - app - INFO - Debug mode: True
2025-11-12 09:17:46,017 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:17:46,034 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:17:46,034 - app - INFO - Flask app created with config: development
2025-11-12 09:17:46,034 - app - INFO - Debug mode: True
2025-11-12 09:17:46,034 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:18:28,871 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:18:28,873 - app - INFO - Flask app created with config: development
2025-11-12 09:18:28,873 - app - INFO - Debug mode: True
2025-11-12 09:18:28,873 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:18:36,791 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:18:36,792 - app - INFO - Flask app created with config: development
2025-11-12 09:18:36,792 - app - INFO - Debug mode: True
2025-11-12 09:18:36,792 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:18:43,099 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:18:43,099 - app - INFO - Flask app created with config: development
2025-11-12 09:18:43,100 - app - INFO - Debug mode: True
2025-11-12 09:18:43,100 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:19:00,959 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 09:19:00,959 - app - INFO - Flask app created with config: development
2025-11-12 09:19:00,960 - app - INFO - Debug mode: True
2025-11-12 09:19:00,960 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 09:19:00,996 - app.tenant_db.tenant_migrations - DEBUG - Schema version table doesn't exist yet: (psycopg2.errors.UndefinedTable) relation "tenant_schema_version" does not exist
LINE 1: SELECT version FROM tenant_schema_version ORDER BY version D...
                            ^

[SQL: SELECT version FROM tenant_schema_version ORDER BY version DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-12 09:19:01,015 - app.tenant_db.tenant_migrations - INFO - Created tenant_schema_version table
2025-11-12 09:19:01,018 - app.tenant_db.tenant_migrations - INFO - Applying migration v1: initial_schema
2025-11-12 09:19:01,020 - app.tenant_db.tenant_migrations - INFO -  Migration v1 applied successfully
2025-11-12 09:19:01,020 - app.tenant_db.tenant_migrations - INFO - Applying migration v2: add_file_metadata_column
2025-11-12 09:19:01,025 - app.tenant_db.tenant_migrations - INFO -  Migration v2 applied successfully
2025-11-12 09:26:06,380 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 09:26:21,747 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 09:26:21,834 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 09:26:21,834 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 09:26:21,865 - app.routes.files - INFO - Retrieved 0 files for tenant 964fd8df-6c81-4698-a7b6-4f1825c71c45 (page 1/0, total: 0)
2025-11-12 09:26:21,866 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 09:28:45,986 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 09:28:45,989 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 09:28:46,030 - app.schemas.document_schema - DEBUG - Validated filename for upload: test.png
2025-11-12 09:28:46,031 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/png
2025-11-12 09:28:46,031 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test.png
2025-11-12 09:28:46,031 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/png
2025-11-12 09:28:46,032 - app.routes.documents - INFO - File MD5: 277bb346154b424f12124775cc9a0f89, size: 321589 bytes
2025-11-12 09:28:46,037 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 09:28:46,037 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 09:28:46,060 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/27/7b/277bb346154b424f12124775cc9a0f89_temp
2025-11-12 09:28:46,061 - app.models.file - INFO - File object initialized: md5=277bb346154b424f12124775cc9a0f89, size=321589, s3_path=tenants/tenant_fidwork_916d299c/files/27/7b/277bb346154b424f12124775cc9a0f89_temp
2025-11-12 09:28:46,070 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/27/7b/277bb346154b424f12124775cc9a0f89_3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac
2025-11-12 09:28:46,074 - app.routes.documents - INFO - Created new file: file_id=3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac, md5=277bb346154b424f12124775cc9a0f89, s3_path=tenants/tenant_fidwork_916d299c/files/27/7b/277bb346154b424f12124775cc9a0f89_3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac
2025-11-12 09:28:46,494 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 09:28:46,495 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 09:28:46,528 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/27/7b/277bb346154b424f12124775cc9a0f89_3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac, content_type=image/png
2025-11-12 09:28:46,530 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/27/7b/277bb346154b424f12124775cc9a0f89_3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac
2025-11-12 09:28:46,533 - app.models.document - INFO - Document object initialized: filename=test.png, mime_type=image/png, file_id=3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 09:28:46,549 - app.routes.documents - INFO - Document uploaded successfully: document_id=99ce8bb9-e41f-4849-8a05-a346299ba3dd, file_id=3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac
2025-11-12 09:28:46,552 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 10:14:43,745 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 10:14:43,745 - app - INFO - Flask app created with config: development
2025-11-12 10:14:43,745 - app - INFO - Debug mode: True
2025-11-12 10:14:43,746 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 10:15:06,326 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 10:15:06,327 - app - INFO - Flask app created with config: development
2025-11-12 10:15:06,327 - app - INFO - Debug mode: True
2025-11-12 10:15:06,327 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 10:30:59,522 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 10:30:59,522 - app - INFO - Flask app created with config: development
2025-11-12 10:30:59,523 - app - INFO - Debug mode: True
2025-11-12 10:30:59,523 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 10:30:59,523 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 10:30:59,523 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 10:30:59,523 - app - INFO - Flask app created with config: development
2025-11-12 10:30:59,524 - app - INFO - Flask app created with config: development
2025-11-12 10:30:59,524 - app - INFO - Debug mode: True
2025-11-12 10:30:59,524 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 10:30:59,524 - app - INFO - Debug mode: True
2025-11-12 10:30:59,524 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 10:30:59,527 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 10:30:59,527 - app - INFO - Flask app created with config: development
2025-11-12 10:30:59,527 - app - INFO - Debug mode: True
2025-11-12 10:30:59,527 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:07:09,880 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:07:09,997 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:07:09,998 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:07:10,036 - app.routes.files - INFO - Retrieved 1 files for tenant 964fd8df-6c81-4698-a7b6-4f1825c71c45 (page 1/1, total: 1)
2025-11-12 11:07:10,038 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:07:57,666 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:07:57,672 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:07:57,841 - app.schemas.document_schema - DEBUG - Validated filename for upload: test2.png
2025-11-12 11:07:57,842 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/png
2025-11-12 11:07:57,842 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test2.png
2025-11-12 11:07:57,842 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/png
2025-11-12 11:07:57,843 - app.routes.documents - INFO - File MD5: 277bb346154b424f12124775cc9a0f89, size: 321589 bytes
2025-11-12 11:07:57,851 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:07:57,852 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:07:57,871 - app.routes.documents - INFO - Reusing existing file: file_id=3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac, md5=277bb346154b424f12124775cc9a0f89
2025-11-12 11:07:57,872 - app.models.document - INFO - Document object initialized: filename=test2.png, mime_type=image/png, file_id=3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:07:57,886 - app.routes.documents - INFO - Document uploaded successfully: document_id=2e4cd6aa-1034-4b68-b1e3-d50bf54ceffd, file_id=3c0c3bab-0434-4e6d-91fe-5c6b9b73eeac
2025-11-12 11:07:57,892 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:12:55,798 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:12:55,798 - app - INFO - Flask app created with config: development
2025-11-12 11:12:55,799 - app - INFO - Debug mode: True
2025-11-12 11:12:55,799 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:13:08,830 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:13:08,830 - app - INFO - Flask app created with config: development
2025-11-12 11:13:08,830 - app - INFO - Debug mode: True
2025-11-12 11:13:08,830 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:13:40,055 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:13:40,055 - app - INFO - Flask app created with config: development
2025-11-12 11:13:40,055 - app - INFO - Debug mode: True
2025-11-12 11:13:40,055 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:13:40,089 - app.tenant_db.tenant_migrations - INFO - Applying migration v3: add_sha256_hash_column
2025-11-12 11:13:40,101 - app.tenant_db.tenant_migrations - INFO -  Migration v3 applied successfully
2025-11-12 11:14:59,533 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:14:59,536 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:15:01,671 - app.schemas.document_schema - DEBUG - Validated filename for upload: test2.png
2025-11-12 11:15:01,672 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/png
2025-11-12 11:15:01,672 - app.schemas.document_schema - DEBUG - Normalized filename for upload: test2.png
2025-11-12 11:15:01,672 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/png
2025-11-12 11:15:01,673 - app.routes.documents - INFO - File MD5: 3c0b59b06747c740980aef0c004edc70, size: 109784 bytes
2025-11-12 11:15:01,683 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:15:01,684 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:15:01,707 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/3c/0b/3c0b59b06747c740980aef0c004edc70_temp
2025-11-12 11:15:01,708 - app.models.file - INFO - File object initialized: md5=3c0b59b06747c740980aef0c004edc70, size=109784, s3_path=tenants/tenant_fidwork_916d299c/files/3c/0b/3c0b59b06747c740980aef0c004edc70_temp
2025-11-12 11:15:01,717 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/3c/0b/3c0b59b06747c740980aef0c004edc70_3ad77f6a-3b8c-4be6-9db3-e61620f90c0a
2025-11-12 11:15:01,720 - app.routes.documents - INFO - Created new file: file_id=3ad77f6a-3b8c-4be6-9db3-e61620f90c0a, md5=3c0b59b06747c740980aef0c004edc70, s3_path=tenants/tenant_fidwork_916d299c/files/3c/0b/3c0b59b06747c740980aef0c004edc70_3ad77f6a-3b8c-4be6-9db3-e61620f90c0a
2025-11-12 11:15:02,322 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:15:02,322 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:15:02,365 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/3c/0b/3c0b59b06747c740980aef0c004edc70_3ad77f6a-3b8c-4be6-9db3-e61620f90c0a, content_type=image/png
2025-11-12 11:15:02,365 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/3c/0b/3c0b59b06747c740980aef0c004edc70_3ad77f6a-3b8c-4be6-9db3-e61620f90c0a
2025-11-12 11:15:02,366 - app.models.document - INFO - Document object initialized: filename=test2.png, mime_type=image/png, file_id=3ad77f6a-3b8c-4be6-9db3-e61620f90c0a, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:15:02,370 - app.routes.documents - INFO - Document uploaded successfully: document_id=ba24b370-678f-43b9-bbfe-fa59131b7b61, file_id=3ad77f6a-3b8c-4be6-9db3-e61620f90c0a
2025-11-12 11:15:02,371 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:17:36,379 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:17:36,380 - app - INFO - Flask app created with config: development
2025-11-12 11:17:36,380 - app - INFO - Debug mode: True
2025-11-12 11:17:36,380 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:17:36,381 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:17:36,381 - app - INFO - Flask app created with config: development
2025-11-12 11:17:36,381 - app - INFO - Debug mode: True
2025-11-12 11:17:36,381 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:17:36,384 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:17:36,384 - app - INFO - Flask app created with config: development
2025-11-12 11:17:36,384 - app - INFO - Debug mode: True
2025-11-12 11:17:36,384 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:17:36,388 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:17:36,388 - app - INFO - Flask app created with config: development
2025-11-12 11:17:36,388 - app - INFO - Debug mode: True
2025-11-12 11:17:36,388 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:18:31,231 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:18:31,233 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:18:32,896 - app.schemas.document_schema - DEBUG - Validated filename for upload: go1.jpg
2025-11-12 11:18:32,897 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/jpeg
2025-11-12 11:18:32,898 - app.schemas.document_schema - DEBUG - Normalized filename for upload: go1.jpg
2025-11-12 11:18:32,898 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/jpeg
2025-11-12 11:18:32,899 - app.routes.documents - INFO - File MD5: b4a06d0ae7e2c2954389bb1c88ccf5d2, size: 139114 bytes
2025-11-12 11:18:32,908 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:18:32,908 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:18:32,939 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/b4/a0/b4a06d0ae7e2c2954389bb1c88ccf5d2_temp
2025-11-12 11:18:32,940 - app.models.file - INFO - File object initialized: md5=b4a06d0ae7e2c2954389bb1c88ccf5d2, size=139114, s3_path=tenants/tenant_fidwork_916d299c/files/b4/a0/b4a06d0ae7e2c2954389bb1c88ccf5d2_temp
2025-11-12 11:18:32,943 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/b4/a0/b4a06d0ae7e2c2954389bb1c88ccf5d2_0ba4c35e-9720-4688-887e-5e7b6b94f78c
2025-11-12 11:18:32,946 - app.routes.documents - INFO - Created new file: file_id=0ba4c35e-9720-4688-887e-5e7b6b94f78c, md5=b4a06d0ae7e2c2954389bb1c88ccf5d2, s3_path=tenants/tenant_fidwork_916d299c/files/b4/a0/b4a06d0ae7e2c2954389bb1c88ccf5d2_0ba4c35e-9720-4688-887e-5e7b6b94f78c
2025-11-12 11:18:33,384 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:18:33,384 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:18:33,399 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/b4/a0/b4a06d0ae7e2c2954389bb1c88ccf5d2_0ba4c35e-9720-4688-887e-5e7b6b94f78c, content_type=image/jpeg
2025-11-12 11:18:33,399 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/b4/a0/b4a06d0ae7e2c2954389bb1c88ccf5d2_0ba4c35e-9720-4688-887e-5e7b6b94f78c
2025-11-12 11:18:33,400 - app.models.document - INFO - Document object initialized: filename=go1.jpg, mime_type=image/jpeg, file_id=0ba4c35e-9720-4688-887e-5e7b6b94f78c, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:18:33,403 - app.routes.documents - INFO - Document uploaded successfully: document_id=89160c88-2125-4d11-85e9-4bc9faf1da7a, file_id=0ba4c35e-9720-4688-887e-5e7b6b94f78c
2025-11-12 11:18:33,404 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:25:50,296 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:25:50,298 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:25:50,298 - app - INFO - Flask app created with config: development
2025-11-12 11:25:50,298 - app - INFO - Flask app created with config: development
2025-11-12 11:25:50,299 - app - INFO - Debug mode: True
2025-11-12 11:25:50,300 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:25:50,299 - app - INFO - Debug mode: True
2025-11-12 11:25:50,300 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:25:50,303 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:25:50,304 - app - INFO - Flask app created with config: development
2025-11-12 11:25:50,304 - app - INFO - Debug mode: True
2025-11-12 11:25:50,304 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:25:50,409 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:25:50,409 - app - INFO - Flask app created with config: development
2025-11-12 11:25:50,409 - app - INFO - Debug mode: True
2025-11-12 11:25:50,410 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:27:02,979 - app.utils.decorators - ERROR - JWT validation failed: Signature has expired
2025-11-12 11:27:10,627 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:27:10,628 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:27:10,635 - app.schemas.document_schema - DEBUG - Validated filename for upload: go3.jpg
2025-11-12 11:27:10,635 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/jpeg
2025-11-12 11:27:10,635 - app.schemas.document_schema - DEBUG - Normalized filename for upload: go3.jpg
2025-11-12 11:27:10,636 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/jpeg
2025-11-12 11:27:10,636 - app.routes.documents - INFO - File hashes calculated: MD5=ffd6c74fc9133da34bb0234280c49fe9, SHA-256=dad69955b704ac20..., size=122768 bytes
2025-11-12 11:27:10,638 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:27:10,638 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:27:10,664 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/ff/d6/ffd6c74fc9133da34bb0234280c49fe9_temp
2025-11-12 11:27:10,665 - app.models.file - INFO - File object initialized: md5=ffd6c74fc9133da34bb0234280c49fe9, size=122768, s3_path=tenants/tenant_fidwork_916d299c/files/ff/d6/ffd6c74fc9133da34bb0234280c49fe9_temp
2025-11-12 11:27:10,668 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/ff/d6/ffd6c74fc9133da34bb0234280c49fe9_78049187-f3c5-4b41-9115-8df34cc106e2
2025-11-12 11:27:10,670 - app.routes.documents - INFO - Created new file: file_id=78049187-f3c5-4b41-9115-8df34cc106e2, md5=ffd6c74fc9133da34bb0234280c49fe9, sha256=dad69955b704ac20..., s3_path=tenants/tenant_fidwork_916d299c/files/ff/d6/ffd6c74fc9133da34bb0234280c49fe9_78049187-f3c5-4b41-9115-8df34cc106e2
2025-11-12 11:27:11,134 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:27:11,134 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:27:11,151 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/ff/d6/ffd6c74fc9133da34bb0234280c49fe9_78049187-f3c5-4b41-9115-8df34cc106e2, content_type=image/jpeg
2025-11-12 11:27:11,152 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/ff/d6/ffd6c74fc9133da34bb0234280c49fe9_78049187-f3c5-4b41-9115-8df34cc106e2
2025-11-12 11:27:11,152 - app.models.document - INFO - Document object initialized: filename=go3.jpg, mime_type=image/jpeg, file_id=78049187-f3c5-4b41-9115-8df34cc106e2, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:27:11,158 - app.routes.documents - INFO - Document uploaded successfully: document_id=3807e26e-9da7-4642-b740-9c44400522f8, file_id=78049187-f3c5-4b41-9115-8df34cc106e2
2025-11-12 11:27:11,160 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:27:11,207 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:27:11,234 - app.routes.documents - INFO - TSA timestamp task scheduled for file 78049187-f3c5-4b41-9115-8df34cc106e2 (task_id: f2a88b55-8e83-4f83-898f-30d99d2fc1c8, tenant: fidwork)
2025-11-12 11:30:40,425 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:30:40,426 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:30:40,514 - app.schemas.document_schema - DEBUG - Validated filename for upload: go3.jpg
2025-11-12 11:30:40,515 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/jpeg
2025-11-12 11:30:40,515 - app.schemas.document_schema - DEBUG - Normalized filename for upload: go3.jpg
2025-11-12 11:30:40,515 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/jpeg
2025-11-12 11:30:40,516 - app.routes.documents - INFO - File hashes calculated: MD5=ffd6c74fc9133da34bb0234280c49fe9, SHA-256=dad69955b704ac20..., size=122768 bytes
2025-11-12 11:30:40,519 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:30:40,519 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:30:40,539 - app.routes.documents - INFO - Reusing existing file: file_id=78049187-f3c5-4b41-9115-8df34cc106e2, md5=ffd6c74fc9133da34bb0234280c49fe9
2025-11-12 11:30:40,540 - app.models.document - INFO - Document object initialized: filename=go3.jpg, mime_type=image/jpeg, file_id=78049187-f3c5-4b41-9115-8df34cc106e2, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:30:40,544 - app.routes.documents - INFO - Document uploaded successfully: document_id=30d89e3d-a98a-4aa5-8d9d-abb018da8c68, file_id=78049187-f3c5-4b41-9115-8df34cc106e2
2025-11-12 11:30:40,545 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:31:35,206 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:31:35,248 - app.routes.files - INFO - Retrieved 4 files for tenant 964fd8df-6c81-4698-a7b6-4f1825c71c45 (page 1/1, total: 4)
2025-11-12 11:31:35,249 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:35:13,773 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:35:13,775 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:35:13,866 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:35:13,867 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:35:13,867 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:35:13,867 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:35:13,868 - app.routes.documents - INFO - File hashes calculated: MD5=f85194e0709949230ff4d3a45422f429, SHA-256=84ea73a24a5787e8..., size=73 bytes
2025-11-12 11:35:13,872 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:35:13,873 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:35:13,892 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/f8/51/f85194e0709949230ff4d3a45422f429_temp
2025-11-12 11:35:13,893 - app.models.file - INFO - File object initialized: md5=f85194e0709949230ff4d3a45422f429, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/f8/51/f85194e0709949230ff4d3a45422f429_temp
2025-11-12 11:35:13,899 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/f8/51/f85194e0709949230ff4d3a45422f429_0526032f-e915-47bd-8def-fb7febfe03d1
2025-11-12 11:35:13,900 - app.routes.documents - INFO - Created new file: file_id=0526032f-e915-47bd-8def-fb7febfe03d1, md5=f85194e0709949230ff4d3a45422f429, sha256=84ea73a24a5787e8..., s3_path=tenants/tenant_fidwork_916d299c/files/f8/51/f85194e0709949230ff4d3a45422f429_0526032f-e915-47bd-8def-fb7febfe03d1
2025-11-12 11:35:14,274 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:35:14,275 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:35:14,295 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/f8/51/f85194e0709949230ff4d3a45422f429_0526032f-e915-47bd-8def-fb7febfe03d1, content_type=text/plain
2025-11-12 11:35:14,295 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/f8/51/f85194e0709949230ff4d3a45422f429_0526032f-e915-47bd-8def-fb7febfe03d1
2025-11-12 11:35:14,295 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=0526032f-e915-47bd-8def-fb7febfe03d1, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:35:14,298 - app.routes.documents - INFO - Document uploaded successfully: document_id=c220881a-a143-457a-a826-3e13e7fb55d7, file_id=0526032f-e915-47bd-8def-fb7febfe03d1
2025-11-12 11:35:14,299 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:35:14,337 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:35:14,357 - app.routes.documents - INFO - TSA timestamp task scheduled for file 0526032f-e915-47bd-8def-fb7febfe03d1 (task_id: 1a54a58c-e6b7-4104-b233-6baa2d8ca45d, tenant: fidwork)
2025-11-12 11:37:24,777 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:37:24,778 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:37:24,783 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:37:24,784 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:37:24,784 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:37:24,784 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:37:24,785 - app.routes.documents - INFO - File hashes calculated: MD5=22f61447381697e8c2b69ba4f1a56c03, SHA-256=804e386f46ef6cc5..., size=73 bytes
2025-11-12 11:37:24,787 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:37:24,788 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:37:24,814 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/22/f6/22f61447381697e8c2b69ba4f1a56c03_temp
2025-11-12 11:37:24,815 - app.models.file - INFO - File object initialized: md5=22f61447381697e8c2b69ba4f1a56c03, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/22/f6/22f61447381697e8c2b69ba4f1a56c03_temp
2025-11-12 11:37:24,820 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/22/f6/22f61447381697e8c2b69ba4f1a56c03_8c7f1af7-d604-4fb0-8de4-64bd96a32fe5
2025-11-12 11:37:24,822 - app.routes.documents - INFO - Created new file: file_id=8c7f1af7-d604-4fb0-8de4-64bd96a32fe5, md5=22f61447381697e8c2b69ba4f1a56c03, sha256=804e386f46ef6cc5..., s3_path=tenants/tenant_fidwork_916d299c/files/22/f6/22f61447381697e8c2b69ba4f1a56c03_8c7f1af7-d604-4fb0-8de4-64bd96a32fe5
2025-11-12 11:37:25,228 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:37:25,229 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:37:25,261 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/22/f6/22f61447381697e8c2b69ba4f1a56c03_8c7f1af7-d604-4fb0-8de4-64bd96a32fe5, content_type=text/plain
2025-11-12 11:37:25,261 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/22/f6/22f61447381697e8c2b69ba4f1a56c03_8c7f1af7-d604-4fb0-8de4-64bd96a32fe5
2025-11-12 11:37:25,262 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=8c7f1af7-d604-4fb0-8de4-64bd96a32fe5, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:37:25,266 - app.routes.documents - INFO - Document uploaded successfully: document_id=b7cba74a-5204-415c-940f-e0a83fc79b2e, file_id=8c7f1af7-d604-4fb0-8de4-64bd96a32fe5
2025-11-12 11:37:25,267 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:37:25,315 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:37:25,350 - app.routes.documents - INFO - TSA timestamp task scheduled for file 8c7f1af7-d604-4fb0-8de4-64bd96a32fe5 (task_id: 53a36124-9d70-43f6-9525-67c2ad3edde4, tenant: fidwork)
2025-11-12 11:38:03,206 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:38:03,250 - app.routes.files - INFO - Retrieved 6 files for tenant 964fd8df-6c81-4698-a7b6-4f1825c71c45 (page 1/1, total: 6)
2025-11-12 11:38:03,252 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:40:44,156 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:40:44,157 - app - INFO - Flask app created with config: development
2025-11-12 11:40:44,158 - app - INFO - Debug mode: True
2025-11-12 11:40:44,159 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:40:44,160 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:40:44,161 - app - INFO - Flask app created with config: development
2025-11-12 11:40:44,161 - app - INFO - Debug mode: True
2025-11-12 11:40:44,161 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:40:44,161 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:40:44,161 - app - INFO - Flask app created with config: development
2025-11-12 11:40:44,161 - app - INFO - Debug mode: True
2025-11-12 11:40:44,162 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:40:44,163 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 11:40:44,163 - app - INFO - Flask app created with config: development
2025-11-12 11:40:44,164 - app - INFO - Debug mode: True
2025-11-12 11:40:44,164 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 11:41:42,015 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:41:42,016 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:41:42,021 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:41:42,021 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:41:42,021 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:41:42,022 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:41:42,022 - app.routes.documents - INFO - File hashes calculated: MD5=9759fde908593911623d42c0ea1a1ad0, SHA-256=ddfcd708d339849c..., size=73 bytes
2025-11-12 11:41:42,025 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:41:42,026 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:41:42,045 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/97/59/9759fde908593911623d42c0ea1a1ad0_temp
2025-11-12 11:41:42,045 - app.models.file - INFO - File object initialized: md5=9759fde908593911623d42c0ea1a1ad0, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/97/59/9759fde908593911623d42c0ea1a1ad0_temp
2025-11-12 11:41:42,054 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/97/59/9759fde908593911623d42c0ea1a1ad0_f9469dd0-7d84-4590-83e5-d49ea9270d04
2025-11-12 11:41:42,056 - app.routes.documents - INFO - Created new file: file_id=f9469dd0-7d84-4590-83e5-d49ea9270d04, md5=9759fde908593911623d42c0ea1a1ad0, sha256=ddfcd708d339849c..., s3_path=tenants/tenant_fidwork_916d299c/files/97/59/9759fde908593911623d42c0ea1a1ad0_f9469dd0-7d84-4590-83e5-d49ea9270d04
2025-11-12 11:41:42,554 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:41:42,554 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:41:42,567 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/97/59/9759fde908593911623d42c0ea1a1ad0_f9469dd0-7d84-4590-83e5-d49ea9270d04, content_type=text/plain
2025-11-12 11:41:42,568 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/97/59/9759fde908593911623d42c0ea1a1ad0_f9469dd0-7d84-4590-83e5-d49ea9270d04
2025-11-12 11:41:42,568 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=f9469dd0-7d84-4590-83e5-d49ea9270d04, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:41:42,571 - app.routes.documents - INFO - Document uploaded successfully: document_id=4e77f9e4-d60f-4371-9316-67ff077c10ea, file_id=f9469dd0-7d84-4590-83e5-d49ea9270d04
2025-11-12 11:41:42,574 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:41:42,626 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:41:42,651 - app.routes.documents - INFO - TSA timestamp task scheduled for file f9469dd0-7d84-4590-83e5-d49ea9270d04 (task_id: 5e961fe4-716a-4cc5-8aff-674d4c853e0b, tenant: fidwork)
2025-11-12 11:47:23,179 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:47:23,180 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:47:23,185 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:47:23,185 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:47:23,186 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:47:23,186 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:47:23,187 - app.routes.documents - INFO - File hashes calculated: MD5=2c7006aaef96843f085ea14d6766bf2d, SHA-256=86cb41f9536ba3d4..., size=73 bytes
2025-11-12 11:47:23,189 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:47:23,190 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:47:23,209 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/2c/70/2c7006aaef96843f085ea14d6766bf2d_temp
2025-11-12 11:47:23,209 - app.models.file - INFO - File object initialized: md5=2c7006aaef96843f085ea14d6766bf2d, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/2c/70/2c7006aaef96843f085ea14d6766bf2d_temp
2025-11-12 11:47:23,219 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/2c/70/2c7006aaef96843f085ea14d6766bf2d_84cac556-ebd9-4a92-8ba3-df199e4bc531
2025-11-12 11:47:23,221 - app.routes.documents - INFO - Created new file: file_id=84cac556-ebd9-4a92-8ba3-df199e4bc531, md5=2c7006aaef96843f085ea14d6766bf2d, sha256=86cb41f9536ba3d4..., s3_path=tenants/tenant_fidwork_916d299c/files/2c/70/2c7006aaef96843f085ea14d6766bf2d_84cac556-ebd9-4a92-8ba3-df199e4bc531
2025-11-12 11:47:23,532 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:47:23,532 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:47:23,551 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/2c/70/2c7006aaef96843f085ea14d6766bf2d_84cac556-ebd9-4a92-8ba3-df199e4bc531, content_type=text/plain
2025-11-12 11:47:23,551 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/2c/70/2c7006aaef96843f085ea14d6766bf2d_84cac556-ebd9-4a92-8ba3-df199e4bc531
2025-11-12 11:47:23,552 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=84cac556-ebd9-4a92-8ba3-df199e4bc531, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:47:23,555 - app.routes.documents - INFO - Document uploaded successfully: document_id=7e84291a-c51f-422b-95ae-9c3b327ac942, file_id=84cac556-ebd9-4a92-8ba3-df199e4bc531
2025-11-12 11:47:23,557 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:47:23,591 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:47:23,615 - app.routes.documents - INFO - TSA timestamp task scheduled for file 84cac556-ebd9-4a92-8ba3-df199e4bc531 (task_id: d02b5324-7274-4f57-8291-e7ad8e8219b5, tenant: fidwork)
2025-11-12 11:47:45,904 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:47:45,906 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:47:45,986 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:47:45,987 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:47:45,987 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:47:45,987 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:47:45,988 - app.routes.documents - INFO - File hashes calculated: MD5=5fc38eb2d5139acb96073b6691d8a3f3, SHA-256=2ae1d49f0f2dd9da..., size=73 bytes
2025-11-12 11:47:45,992 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:47:45,993 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:47:46,013 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/5f/c3/5fc38eb2d5139acb96073b6691d8a3f3_temp
2025-11-12 11:47:46,013 - app.models.file - INFO - File object initialized: md5=5fc38eb2d5139acb96073b6691d8a3f3, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/5f/c3/5fc38eb2d5139acb96073b6691d8a3f3_temp
2025-11-12 11:47:46,019 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/5f/c3/5fc38eb2d5139acb96073b6691d8a3f3_c7ee9b4a-7b55-4e75-ace3-0f887b208d87
2025-11-12 11:47:46,021 - app.routes.documents - INFO - Created new file: file_id=c7ee9b4a-7b55-4e75-ace3-0f887b208d87, md5=5fc38eb2d5139acb96073b6691d8a3f3, sha256=2ae1d49f0f2dd9da..., s3_path=tenants/tenant_fidwork_916d299c/files/5f/c3/5fc38eb2d5139acb96073b6691d8a3f3_c7ee9b4a-7b55-4e75-ace3-0f887b208d87
2025-11-12 11:47:46,294 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:47:46,295 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:47:46,306 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/5f/c3/5fc38eb2d5139acb96073b6691d8a3f3_c7ee9b4a-7b55-4e75-ace3-0f887b208d87, content_type=text/plain
2025-11-12 11:47:46,306 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/5f/c3/5fc38eb2d5139acb96073b6691d8a3f3_c7ee9b4a-7b55-4e75-ace3-0f887b208d87
2025-11-12 11:47:46,307 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=c7ee9b4a-7b55-4e75-ace3-0f887b208d87, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:47:46,310 - app.routes.documents - INFO - Document uploaded successfully: document_id=fdd47b7f-70ab-434b-a437-a7b30513ceb9, file_id=c7ee9b4a-7b55-4e75-ace3-0f887b208d87
2025-11-12 11:47:46,311 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:47:46,346 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:47:46,369 - app.routes.documents - INFO - TSA timestamp task scheduled for file c7ee9b4a-7b55-4e75-ace3-0f887b208d87 (task_id: 55c76e8a-2239-4a56-b69f-e854fd74a8cd, tenant: fidwork)
2025-11-12 11:50:35,094 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:50:35,096 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:50:35,174 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:50:35,175 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:50:35,175 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:50:35,176 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:50:35,176 - app.routes.documents - INFO - File hashes calculated: MD5=e0f56785afba4c172178e9550845b8ef, SHA-256=59780861c64bade5..., size=73 bytes
2025-11-12 11:50:35,179 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 11:50:35,179 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 11:50:35,201 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/e0/f5/e0f56785afba4c172178e9550845b8ef_temp
2025-11-12 11:50:35,201 - app.models.file - INFO - File object initialized: md5=e0f56785afba4c172178e9550845b8ef, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/e0/f5/e0f56785afba4c172178e9550845b8ef_temp
2025-11-12 11:50:35,204 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/e0/f5/e0f56785afba4c172178e9550845b8ef_e8583ee1-1f8b-4718-a3ab-8f4de9061998
2025-11-12 11:50:35,206 - app.routes.documents - INFO - Created new file: file_id=e8583ee1-1f8b-4718-a3ab-8f4de9061998, md5=e0f56785afba4c172178e9550845b8ef, sha256=59780861c64bade5..., s3_path=tenants/tenant_fidwork_916d299c/files/e0/f5/e0f56785afba4c172178e9550845b8ef_e8583ee1-1f8b-4718-a3ab-8f4de9061998
2025-11-12 11:50:35,478 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 11:50:35,479 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 11:50:35,503 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/e0/f5/e0f56785afba4c172178e9550845b8ef_e8583ee1-1f8b-4718-a3ab-8f4de9061998, content_type=text/plain
2025-11-12 11:50:35,503 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/e0/f5/e0f56785afba4c172178e9550845b8ef_e8583ee1-1f8b-4718-a3ab-8f4de9061998
2025-11-12 11:50:35,504 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=e8583ee1-1f8b-4718-a3ab-8f4de9061998, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:50:35,507 - app.routes.documents - INFO - Document uploaded successfully: document_id=6e8aa7ee-9107-45da-9f64-07944080664b, file_id=e8583ee1-1f8b-4718-a3ab-8f4de9061998
2025-11-12 11:50:35,508 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:50:35,565 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 11:50:35,611 - app.routes.documents - INFO - TSA timestamp task scheduled for file e8583ee1-1f8b-4718-a3ab-8f4de9061998 (task_id: 764efab1-6790-4ed6-a4c4-2b66e4e3352d, tenant: fidwork)
2025-11-12 11:53:48,247 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:53:48,249 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:53:48,253 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:53:48,254 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:53:48,254 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:53:48,254 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:53:48,254 - app.routes.documents - INFO - File hashes calculated: MD5=008010b1b19cf885aa0b199d8adc9523, SHA-256=548de7656032962b..., size=73 bytes
2025-11-12 11:53:48,257 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/00/80/008010b1b19cf885aa0b199d8adc9523_temp
2025-11-12 11:53:48,257 - app.models.file - INFO - File object initialized: md5=008010b1b19cf885aa0b199d8adc9523, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/00/80/008010b1b19cf885aa0b199d8adc9523_temp
2025-11-12 11:53:48,260 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/00/80/008010b1b19cf885aa0b199d8adc9523_76a73aa5-656e-4515-a1df-4c858ed2fb00
2025-11-12 11:53:48,261 - app.routes.documents - INFO - Created new file: file_id=76a73aa5-656e-4515-a1df-4c858ed2fb00, md5=008010b1b19cf885aa0b199d8adc9523, sha256=548de7656032962b..., s3_path=tenants/tenant_fidwork_916d299c/files/00/80/008010b1b19cf885aa0b199d8adc9523_76a73aa5-656e-4515-a1df-4c858ed2fb00
2025-11-12 11:53:48,285 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/00/80/008010b1b19cf885aa0b199d8adc9523_76a73aa5-656e-4515-a1df-4c858ed2fb00, content_type=text/plain
2025-11-12 11:53:48,285 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/00/80/008010b1b19cf885aa0b199d8adc9523_76a73aa5-656e-4515-a1df-4c858ed2fb00
2025-11-12 11:53:48,285 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=76a73aa5-656e-4515-a1df-4c858ed2fb00, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:53:48,287 - app.routes.documents - INFO - Document uploaded successfully: document_id=320cded2-f99e-40c0-acd0-fd481ef8efd6, file_id=76a73aa5-656e-4515-a1df-4c858ed2fb00
2025-11-12 11:53:48,288 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:53:48,297 - app.routes.documents - INFO - TSA timestamp task scheduled for file 76a73aa5-656e-4515-a1df-4c858ed2fb00 (task_id: 528cb4bc-c13d-40a4-9f9a-8e02f6ce6d2c, tenant: fidwork)
2025-11-12 11:57:12,653 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:57:12,655 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:57:12,686 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:57:12,686 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:57:12,686 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:57:12,687 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:57:12,687 - app.routes.documents - INFO - File hashes calculated: MD5=e2984c80b9fd6f4dc7ecdaab5b9c740f, SHA-256=5466b43303f8aa32..., size=73 bytes
2025-11-12 11:57:12,693 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/e2/98/e2984c80b9fd6f4dc7ecdaab5b9c740f_temp
2025-11-12 11:57:12,693 - app.models.file - INFO - File object initialized: md5=e2984c80b9fd6f4dc7ecdaab5b9c740f, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/e2/98/e2984c80b9fd6f4dc7ecdaab5b9c740f_temp
2025-11-12 11:57:12,699 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/e2/98/e2984c80b9fd6f4dc7ecdaab5b9c740f_d104d072-bf65-4867-899b-b11a23a39dac
2025-11-12 11:57:12,700 - app.routes.documents - INFO - Created new file: file_id=d104d072-bf65-4867-899b-b11a23a39dac, md5=e2984c80b9fd6f4dc7ecdaab5b9c740f, sha256=5466b43303f8aa32..., s3_path=tenants/tenant_fidwork_916d299c/files/e2/98/e2984c80b9fd6f4dc7ecdaab5b9c740f_d104d072-bf65-4867-899b-b11a23a39dac
2025-11-12 11:57:12,726 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/e2/98/e2984c80b9fd6f4dc7ecdaab5b9c740f_d104d072-bf65-4867-899b-b11a23a39dac, content_type=text/plain
2025-11-12 11:57:12,726 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/e2/98/e2984c80b9fd6f4dc7ecdaab5b9c740f_d104d072-bf65-4867-899b-b11a23a39dac
2025-11-12 11:57:12,726 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=d104d072-bf65-4867-899b-b11a23a39dac, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:57:12,728 - app.routes.documents - INFO - Document uploaded successfully: document_id=7a1efa27-b243-460d-8608-636daec17caf, file_id=d104d072-bf65-4867-899b-b11a23a39dac
2025-11-12 11:57:12,730 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:57:12,733 - app.routes.documents - INFO - TSA timestamp task scheduled for file d104d072-bf65-4867-899b-b11a23a39dac (task_id: 117cdab4-8b11-4fef-bae2-e45d7f77cb2f, tenant: fidwork)
2025-11-12 11:59:59,131 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:59:59,134 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:59:59,180 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 11:59:59,181 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 11:59:59,181 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 11:59:59,181 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 11:59:59,182 - app.routes.documents - INFO - File hashes calculated: MD5=dc7929a167e16741515928df46ca953d, SHA-256=286d625a80e97321..., size=73 bytes
2025-11-12 11:59:59,187 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/dc/79/dc7929a167e16741515928df46ca953d_temp
2025-11-12 11:59:59,187 - app.models.file - INFO - File object initialized: md5=dc7929a167e16741515928df46ca953d, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/dc/79/dc7929a167e16741515928df46ca953d_temp
2025-11-12 11:59:59,193 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/dc/79/dc7929a167e16741515928df46ca953d_9c62b668-5d90-45ad-b15c-1b4924021a44
2025-11-12 11:59:59,195 - app.routes.documents - INFO - Created new file: file_id=9c62b668-5d90-45ad-b15c-1b4924021a44, md5=dc7929a167e16741515928df46ca953d, sha256=286d625a80e97321..., s3_path=tenants/tenant_fidwork_916d299c/files/dc/79/dc7929a167e16741515928df46ca953d_9c62b668-5d90-45ad-b15c-1b4924021a44
2025-11-12 11:59:59,221 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/dc/79/dc7929a167e16741515928df46ca953d_9c62b668-5d90-45ad-b15c-1b4924021a44, content_type=text/plain
2025-11-12 11:59:59,222 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/dc/79/dc7929a167e16741515928df46ca953d_9c62b668-5d90-45ad-b15c-1b4924021a44
2025-11-12 11:59:59,222 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=9c62b668-5d90-45ad-b15c-1b4924021a44, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 11:59:59,224 - app.routes.documents - INFO - Document uploaded successfully: document_id=47593cd1-3de9-4e78-875a-e7f67db02e45, file_id=9c62b668-5d90-45ad-b15c-1b4924021a44
2025-11-12 11:59:59,226 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 11:59:59,230 - app.routes.documents - INFO - TSA timestamp task scheduled for file 9c62b668-5d90-45ad-b15c-1b4924021a44 (task_id: 4c5dc93b-e7f3-46c8-bbab-06bc33a221ec, tenant: fidwork)
2025-11-12 12:03:18,896 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:03:18,897 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:03:18,904 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 12:03:18,904 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 12:03:18,905 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 12:03:18,905 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 12:03:18,905 - app.routes.documents - INFO - File hashes calculated: MD5=7720518d2ba2431af9477044315e0f72, SHA-256=e05dcb05206b821b..., size=73 bytes
2025-11-12 12:03:18,912 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/77/20/7720518d2ba2431af9477044315e0f72_temp
2025-11-12 12:03:18,912 - app.models.file - INFO - File object initialized: md5=7720518d2ba2431af9477044315e0f72, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/77/20/7720518d2ba2431af9477044315e0f72_temp
2025-11-12 12:03:18,915 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/77/20/7720518d2ba2431af9477044315e0f72_401c8bf4-a2e7-4445-8f2c-017898008f9f
2025-11-12 12:03:18,916 - app.routes.documents - INFO - Created new file: file_id=401c8bf4-a2e7-4445-8f2c-017898008f9f, md5=7720518d2ba2431af9477044315e0f72, sha256=e05dcb05206b821b..., s3_path=tenants/tenant_fidwork_916d299c/files/77/20/7720518d2ba2431af9477044315e0f72_401c8bf4-a2e7-4445-8f2c-017898008f9f
2025-11-12 12:03:18,942 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/77/20/7720518d2ba2431af9477044315e0f72_401c8bf4-a2e7-4445-8f2c-017898008f9f, content_type=text/plain
2025-11-12 12:03:18,943 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/77/20/7720518d2ba2431af9477044315e0f72_401c8bf4-a2e7-4445-8f2c-017898008f9f
2025-11-12 12:03:18,943 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=401c8bf4-a2e7-4445-8f2c-017898008f9f, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:03:18,945 - app.routes.documents - INFO - Document uploaded successfully: document_id=2a8eef0d-0fa3-4eab-86e3-85cef7979c0c, file_id=401c8bf4-a2e7-4445-8f2c-017898008f9f
2025-11-12 12:03:18,946 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 12:03:18,950 - app.routes.documents - INFO - TSA timestamp task scheduled for file 401c8bf4-a2e7-4445-8f2c-017898008f9f (task_id: ede23b34-06dc-49ff-8c14-f43921f0d75b, tenant: fidwork)
2025-11-12 12:16:34,821 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:16:34,822 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:16:34,826 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 12:16:34,826 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 12:16:34,827 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 12:16:34,827 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 12:16:34,827 - app.routes.documents - INFO - File hashes calculated: MD5=4552b25a0d557494efb582a5e33f8189, SHA-256=1fbb973ba9970352..., size=73 bytes
2025-11-12 12:16:34,835 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/45/52/4552b25a0d557494efb582a5e33f8189_temp
2025-11-12 12:16:34,835 - app.models.file - INFO - File object initialized: md5=4552b25a0d557494efb582a5e33f8189, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/45/52/4552b25a0d557494efb582a5e33f8189_temp
2025-11-12 12:16:34,839 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/45/52/4552b25a0d557494efb582a5e33f8189_a9a8584c-aa88-4c45-add8-a2dfecd722ec
2025-11-12 12:16:34,841 - app.routes.documents - INFO - Created new file: file_id=a9a8584c-aa88-4c45-add8-a2dfecd722ec, md5=4552b25a0d557494efb582a5e33f8189, sha256=1fbb973ba9970352..., s3_path=tenants/tenant_fidwork_916d299c/files/45/52/4552b25a0d557494efb582a5e33f8189_a9a8584c-aa88-4c45-add8-a2dfecd722ec
2025-11-12 12:16:34,882 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/45/52/4552b25a0d557494efb582a5e33f8189_a9a8584c-aa88-4c45-add8-a2dfecd722ec, content_type=text/plain
2025-11-12 12:16:34,883 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/45/52/4552b25a0d557494efb582a5e33f8189_a9a8584c-aa88-4c45-add8-a2dfecd722ec
2025-11-12 12:16:34,883 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=a9a8584c-aa88-4c45-add8-a2dfecd722ec, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:16:34,885 - app.routes.documents - INFO - Document uploaded successfully: document_id=7da1bcb9-af0a-4abb-9873-0c9debca2774, file_id=a9a8584c-aa88-4c45-add8-a2dfecd722ec
2025-11-12 12:16:34,886 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 12:16:34,899 - app.routes.documents - INFO - TSA timestamp task scheduled for file a9a8584c-aa88-4c45-add8-a2dfecd722ec (task_id: f4223c53-2746-4a69-8b2f-ff3b3ce12463, tenant: fidwork)
2025-11-12 12:19:41,410 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:19:41,416 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:19:41,443 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 12:19:41,444 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 12:19:41,445 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 12:19:41,445 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 12:19:41,446 - app.routes.documents - INFO - File hashes calculated: MD5=68fccda8171ec30973cc3580be313d40, SHA-256=53e46799ebf16d0e..., size=73 bytes
2025-11-12 12:19:41,458 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/68/fc/68fccda8171ec30973cc3580be313d40_temp
2025-11-12 12:19:41,461 - app.models.file - INFO - File object initialized: md5=68fccda8171ec30973cc3580be313d40, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/68/fc/68fccda8171ec30973cc3580be313d40_temp
2025-11-12 12:19:41,483 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/68/fc/68fccda8171ec30973cc3580be313d40_16d79bad-3af9-4d35-9fa9-487c856fc295
2025-11-12 12:19:41,488 - app.routes.documents - INFO - Created new file: file_id=16d79bad-3af9-4d35-9fa9-487c856fc295, md5=68fccda8171ec30973cc3580be313d40, sha256=53e46799ebf16d0e..., s3_path=tenants/tenant_fidwork_916d299c/files/68/fc/68fccda8171ec30973cc3580be313d40_16d79bad-3af9-4d35-9fa9-487c856fc295
2025-11-12 12:19:41,590 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/68/fc/68fccda8171ec30973cc3580be313d40_16d79bad-3af9-4d35-9fa9-487c856fc295, content_type=text/plain
2025-11-12 12:19:41,590 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/68/fc/68fccda8171ec30973cc3580be313d40_16d79bad-3af9-4d35-9fa9-487c856fc295
2025-11-12 12:19:41,591 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=16d79bad-3af9-4d35-9fa9-487c856fc295, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:19:41,598 - app.routes.documents - INFO - Document uploaded successfully: document_id=12db31c8-b15e-42d5-8a6d-cd70cbe0c460, file_id=16d79bad-3af9-4d35-9fa9-487c856fc295
2025-11-12 12:19:41,600 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 12:19:41,614 - app.routes.documents - INFO - TSA timestamp task scheduled for file 16d79bad-3af9-4d35-9fa9-487c856fc295 (task_id: 637cc0b6-3a7d-4c86-80de-9b1d26a0d1a5, tenant: fidwork)
2025-11-12 12:50:08,424 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:50:08,426 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:50:08,485 - app.schemas.document_schema - DEBUG - Validated filename for upload: yo.png
2025-11-12 12:50:08,486 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: image/png
2025-11-12 12:50:08,486 - app.schemas.document_schema - DEBUG - Normalized filename for upload: yo.png
2025-11-12 12:50:08,486 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: image/png
2025-11-12 12:50:08,488 - app.routes.documents - INFO - File hashes calculated: MD5=0051b2f062e96a3befd62c529ddce834, SHA-256=59924b0de886d14d..., size=194022 bytes
2025-11-12 12:50:08,518 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/00/51/0051b2f062e96a3befd62c529ddce834_temp
2025-11-12 12:50:08,520 - app.models.file - INFO - File object initialized: md5=0051b2f062e96a3befd62c529ddce834, size=194022, s3_path=tenants/tenant_fidwork_916d299c/files/00/51/0051b2f062e96a3befd62c529ddce834_temp
2025-11-12 12:50:08,524 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/00/51/0051b2f062e96a3befd62c529ddce834_a609fb4c-a60e-40af-ab2e-e24451fb009b
2025-11-12 12:50:08,525 - app.routes.documents - INFO - Created new file: file_id=a609fb4c-a60e-40af-ab2e-e24451fb009b, md5=0051b2f062e96a3befd62c529ddce834, sha256=59924b0de886d14d..., s3_path=tenants/tenant_fidwork_916d299c/files/00/51/0051b2f062e96a3befd62c529ddce834_a609fb4c-a60e-40af-ab2e-e24451fb009b
2025-11-12 12:50:08,558 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/00/51/0051b2f062e96a3befd62c529ddce834_a609fb4c-a60e-40af-ab2e-e24451fb009b, content_type=image/png
2025-11-12 12:50:08,559 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/00/51/0051b2f062e96a3befd62c529ddce834_a609fb4c-a60e-40af-ab2e-e24451fb009b
2025-11-12 12:50:08,559 - app.models.document - INFO - Document object initialized: filename=yo.png, mime_type=image/png, file_id=a609fb4c-a60e-40af-ab2e-e24451fb009b, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:50:08,563 - app.routes.documents - INFO - Document uploaded successfully: document_id=049b1a17-f491-42bc-8b41-01e9ee2f262d, file_id=a609fb4c-a60e-40af-ab2e-e24451fb009b
2025-11-12 12:50:08,565 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 12:50:08,571 - app.routes.documents - INFO - TSA timestamp task scheduled for file a609fb4c-a60e-40af-ab2e-e24451fb009b (task_id: 105e176c-09be-488c-9891-0caa59e78d6b, tenant: fidwork)
2025-11-12 12:59:31,292 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 12:59:31,292 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 12:59:31,293 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 12:59:31,293 - app - INFO - Flask app created with config: development
2025-11-12 12:59:31,293 - app - INFO - Flask app created with config: development
2025-11-12 12:59:31,293 - app - INFO - Flask app created with config: development
2025-11-12 12:59:31,293 - app - INFO - Debug mode: True
2025-11-12 12:59:31,293 - app - INFO - Debug mode: True
2025-11-12 12:59:31,293 - app - INFO - Debug mode: True
2025-11-12 12:59:31,293 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 12:59:31,293 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 12:59:31,294 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 12:59:31,298 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 12:59:31,298 - app - INFO - Flask app created with config: development
2025-11-12 12:59:31,299 - app - INFO - Debug mode: True
2025-11-12 12:59:31,299 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 12:59:39,542 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:59:39,544 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:59:39,601 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 12:59:39,601 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 12:59:39,601 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 12:59:39,601 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 12:59:39,602 - app.routes.documents - INFO - File hashes calculated: MD5=9fdca40ff5dd3816916b6b12f458111a, SHA-256=ca0d1ec148aef059..., size=73 bytes
2025-11-12 12:59:39,612 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 12:59:39,613 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 12:59:39,636 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/9f/dc/9fdca40ff5dd3816916b6b12f458111a_temp
2025-11-12 12:59:39,636 - app.models.file - INFO - File object initialized: md5=9fdca40ff5dd3816916b6b12f458111a, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/9f/dc/9fdca40ff5dd3816916b6b12f458111a_temp
2025-11-12 12:59:39,643 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/9f/dc/9fdca40ff5dd3816916b6b12f458111a_ba45d1f1-0dbe-4de4-aab5-c59c80d75e00
2025-11-12 12:59:39,645 - app.routes.documents - INFO - Created new file: file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, md5=9fdca40ff5dd3816916b6b12f458111a, sha256=ca0d1ec148aef059..., s3_path=tenants/tenant_fidwork_916d299c/files/9f/dc/9fdca40ff5dd3816916b6b12f458111a_ba45d1f1-0dbe-4de4-aab5-c59c80d75e00
2025-11-12 12:59:40,221 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 12:59:40,222 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 12:59:40,245 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/9f/dc/9fdca40ff5dd3816916b6b12f458111a_ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, content_type=text/plain
2025-11-12 12:59:40,245 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/9f/dc/9fdca40ff5dd3816916b6b12f458111a_ba45d1f1-0dbe-4de4-aab5-c59c80d75e00
2025-11-12 12:59:40,246 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 12:59:40,250 - app.routes.documents - INFO - Document uploaded successfully: document_id=28c96f32-ca8d-4bfd-8bf7-cd778a1685cd, file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00
2025-11-12 12:59:40,251 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 12:59:40,320 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 12:59:40,356 - app.routes.documents - INFO - TSA timestamp task scheduled for file ba45d1f1-0dbe-4de4-aab5-c59c80d75e00 (task_id: 269f2fd7-a9fd-43fb-9d5d-a7956a8c67a1, tenant: fidwork)
2025-11-12 13:00:47,659 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:00:47,661 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:00:47,731 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:00:47,733 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:00:47,734 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:00:47,752 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, token_size=6006 bytes, role=admin
2025-11-12 13:00:47,753 - app.routes.documents - INFO - Timestamp download completed: file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, size=6006 bytes
2025-11-12 13:00:47,754 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:01:17,019 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:01:17,020 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:01:17,029 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 13:01:17,029 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:01:17,030 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 13:01:17,030 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:01:17,030 - app.routes.documents - INFO - File hashes calculated: MD5=15d166f78c09c517452645722995b383, SHA-256=efb3b540e20a3229..., size=73 bytes
2025-11-12 13:01:17,033 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:01:17,034 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:01:17,058 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/15/d1/15d166f78c09c517452645722995b383_temp
2025-11-12 13:01:17,059 - app.models.file - INFO - File object initialized: md5=15d166f78c09c517452645722995b383, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/15/d1/15d166f78c09c517452645722995b383_temp
2025-11-12 13:01:17,064 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/15/d1/15d166f78c09c517452645722995b383_853a4c14-bc04-4ccc-914e-491738a1aa4e
2025-11-12 13:01:17,066 - app.routes.documents - INFO - Created new file: file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, md5=15d166f78c09c517452645722995b383, sha256=efb3b540e20a3229..., s3_path=tenants/tenant_fidwork_916d299c/files/15/d1/15d166f78c09c517452645722995b383_853a4c14-bc04-4ccc-914e-491738a1aa4e
2025-11-12 13:01:17,348 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 13:01:17,348 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 13:01:17,363 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/15/d1/15d166f78c09c517452645722995b383_853a4c14-bc04-4ccc-914e-491738a1aa4e, content_type=text/plain
2025-11-12 13:01:17,363 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/15/d1/15d166f78c09c517452645722995b383_853a4c14-bc04-4ccc-914e-491738a1aa4e
2025-11-12 13:01:17,363 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:01:17,366 - app.routes.documents - INFO - Document uploaded successfully: document_id=2c1011a9-43bd-4c88-90ad-69d3e4f88aa6, file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e
2025-11-12 13:01:17,367 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:01:17,401 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:01:17,424 - app.routes.documents - INFO - TSA timestamp task scheduled for file 853a4c14-bc04-4ccc-914e-491738a1aa4e (task_id: 6548f454-f054-4b64-8478-390e6ff498ca, tenant: fidwork)
2025-11-12 13:01:27,751 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:01:27,753 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:01:27,774 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:01:27,780 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, token_size=6007 bytes, role=admin
2025-11-12 13:01:27,780 - app.routes.documents - INFO - Timestamp download completed: file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, size=6007 bytes
2025-11-12 13:01:27,781 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:02:19,089 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:02:19,091 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=a9a8584c-a60e-40af-ab2e-e24451fb009b, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:02:19,126 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:02:19,133 - app.routes.documents - WARNING - File not found: file_id=a9a8584c-a60e-40af-ab2e-e24451fb009b
2025-11-12 13:02:19,134 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:04:41,275 - app.utils.decorators - ERROR - JWT validation failed: Signature has expired
2025-11-12 13:04:51,849 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:04:51,851 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:04:51,871 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:04:51,876 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, token_size=6006 bytes, role=admin
2025-11-12 13:04:51,877 - app.routes.documents - INFO - Timestamp download completed: file_id=ba45d1f1-0dbe-4de4-aab5-c59c80d75e00, size=6006 bytes
2025-11-12 13:04:51,878 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:05:56,503 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:05:56,545 - app.routes.files - INFO - Retrieved 19 files for tenant 964fd8df-6c81-4698-a7b6-4f1825c71c45 (page 1/1, total: 19)
2025-11-12 13:05:56,547 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:06:13,720 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:06:13,722 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:06:13,738 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:06:13,740 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, token_size=6007 bytes, role=admin
2025-11-12 13:06:13,740 - app.routes.documents - INFO - Timestamp download completed: file_id=853a4c14-bc04-4ccc-914e-491738a1aa4e, size=6007 bytes
2025-11-12 13:06:13,741 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:11:45,256 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:45,258 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:45,287 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 13:11:45,288 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:11:45,289 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 13:11:45,289 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:11:45,289 - app.routes.documents - INFO - File hashes calculated: MD5=574b4b822dbbcdee029be7d484328a4f, SHA-256=a14400893e527dbc..., size=73 bytes
2025-11-12 13:11:45,295 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:11:45,296 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:11:45,328 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_temp
2025-11-12 13:11:45,329 - app.models.file - INFO - File object initialized: md5=574b4b822dbbcdee029be7d484328a4f, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_temp
2025-11-12 13:11:45,340 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_38e64fc7-7019-4094-b8cb-9056370f0f0d
2025-11-12 13:11:45,342 - app.routes.documents - INFO - Created new file: file_id=38e64fc7-7019-4094-b8cb-9056370f0f0d, md5=574b4b822dbbcdee029be7d484328a4f, sha256=a14400893e527dbc..., s3_path=tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_38e64fc7-7019-4094-b8cb-9056370f0f0d
2025-11-12 13:11:45,606 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 13:11:45,606 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 13:11:45,619 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_38e64fc7-7019-4094-b8cb-9056370f0f0d, content_type=text/plain
2025-11-12 13:11:45,619 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_38e64fc7-7019-4094-b8cb-9056370f0f0d
2025-11-12 13:11:45,619 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=38e64fc7-7019-4094-b8cb-9056370f0f0d, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:45,622 - app.routes.documents - INFO - Document uploaded successfully: document_id=f8379104-927a-4b44-b27a-3f96bda0962b, file_id=38e64fc7-7019-4094-b8cb-9056370f0f0d
2025-11-12 13:11:45,623 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:11:45,647 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:11:45,667 - app.routes.documents - INFO - TSA timestamp task scheduled for file 38e64fc7-7019-4094-b8cb-9056370f0f0d (task_id: 66d09cd2-e1c6-4e58-bb5b-8db7d7602672, tenant: fidwork)
2025-11-12 13:11:56,012 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:56,013 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=38e64fc7-7019-4094-b8cb-9056370f0f0d, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:56,026 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:11:56,028 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=38e64fc7-7019-4094-b8cb-9056370f0f0d, token_size=6007 bytes, role=admin
2025-11-12 13:11:56,029 - app.routes.documents - INFO - Timestamp download completed: file_id=38e64fc7-7019-4094-b8cb-9056370f0f0d, size=6007 bytes
2025-11-12 13:11:56,029 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:11:56,344 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:56,345 - app.routes.documents - INFO - Download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=f8379104-927a-4b44-b27a-3f96bda0962b, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:11:56,350 - app.routes.documents - INFO - Access granted: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:11:56,361 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=f8379104-927a-4b44-b27a-3f96bda0962b, filename=tsa_test.txt, size=73, md5=574b4b822dbbcdee029be7d484328a4f, role=admin
2025-11-12 13:11:56,576 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 13:11:56,576 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 13:11:56,585 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_fidwork_916d299c/files/57/4b/574b4b822dbbcdee029be7d484328a4f_38e64fc7-7019-4094-b8cb-9056370f0f0d
2025-11-12 13:11:56,585 - app.routes.documents - INFO - Download stream started: document_id=f8379104-927a-4b44-b27a-3f96bda0962b, size=73 bytes
2025-11-12 13:11:56,586 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:11:56,586 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, document_id=f8379104-927a-4b44-b27a-3f96bda0962b, filename=tsa_test.txt, size=73
2025-11-12 13:13:46,883 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:46,885 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:46,908 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 13:13:46,909 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:13:46,909 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 13:13:46,909 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:13:46,910 - app.routes.documents - INFO - File hashes calculated: MD5=bdb9788b74acbf9f0772c8e0e32fe726, SHA-256=267d2a116d3d7379..., size=73 bytes
2025-11-12 13:13:46,923 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_temp
2025-11-12 13:13:46,924 - app.models.file - INFO - File object initialized: md5=bdb9788b74acbf9f0772c8e0e32fe726, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_temp
2025-11-12 13:13:46,944 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_1a99f69a-f52a-4e97-ad01-0ad7aacd319b
2025-11-12 13:13:46,946 - app.routes.documents - INFO - Created new file: file_id=1a99f69a-f52a-4e97-ad01-0ad7aacd319b, md5=bdb9788b74acbf9f0772c8e0e32fe726, sha256=267d2a116d3d7379..., s3_path=tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_1a99f69a-f52a-4e97-ad01-0ad7aacd319b
2025-11-12 13:13:46,979 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_1a99f69a-f52a-4e97-ad01-0ad7aacd319b, content_type=text/plain
2025-11-12 13:13:46,980 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_1a99f69a-f52a-4e97-ad01-0ad7aacd319b
2025-11-12 13:13:46,980 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=1a99f69a-f52a-4e97-ad01-0ad7aacd319b, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:46,983 - app.routes.documents - INFO - Document uploaded successfully: document_id=e08ebfa9-b82b-4faf-a44f-a2ffe4331ad3, file_id=1a99f69a-f52a-4e97-ad01-0ad7aacd319b
2025-11-12 13:13:46,984 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:13:47,028 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:13:47,052 - app.routes.documents - INFO - TSA timestamp task scheduled for file 1a99f69a-f52a-4e97-ad01-0ad7aacd319b (task_id: f4d60055-947c-4127-bba0-751191afe089, tenant: fidwork)
2025-11-12 13:13:57,315 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:57,315 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=1a99f69a-f52a-4e97-ad01-0ad7aacd319b, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:57,320 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:13:57,321 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=1a99f69a-f52a-4e97-ad01-0ad7aacd319b, token_size=6008 bytes, role=admin
2025-11-12 13:13:57,322 - app.routes.documents - INFO - Timestamp download completed: file_id=1a99f69a-f52a-4e97-ad01-0ad7aacd319b, size=6008 bytes
2025-11-12 13:13:57,322 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:13:57,541 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:57,542 - app.routes.documents - INFO - Download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=e08ebfa9-b82b-4faf-a44f-a2ffe4331ad3, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:13:57,557 - app.routes.documents - INFO - Access granted: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:13:57,567 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=e08ebfa9-b82b-4faf-a44f-a2ffe4331ad3, filename=tsa_test.txt, size=73, md5=bdb9788b74acbf9f0772c8e0e32fe726, role=admin
2025-11-12 13:13:57,593 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_fidwork_916d299c/files/bd/b9/bdb9788b74acbf9f0772c8e0e32fe726_1a99f69a-f52a-4e97-ad01-0ad7aacd319b
2025-11-12 13:13:57,594 - app.routes.documents - INFO - Download stream started: document_id=e08ebfa9-b82b-4faf-a44f-a2ffe4331ad3, size=73 bytes
2025-11-12 13:13:57,595 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:13:57,597 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, document_id=e08ebfa9-b82b-4faf-a44f-a2ffe4331ad3, filename=tsa_test.txt, size=73
2025-11-12 13:15:21,540 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:21,541 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:21,561 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 13:15:21,562 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:15:21,562 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 13:15:21,562 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:15:21,562 - app.routes.documents - INFO - File hashes calculated: MD5=b0ad832f230fa69c7495d7d2fb9a0c74, SHA-256=c925ac81fc37955f..., size=73 bytes
2025-11-12 13:15:21,567 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_temp
2025-11-12 13:15:21,570 - app.models.file - INFO - File object initialized: md5=b0ad832f230fa69c7495d7d2fb9a0c74, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_temp
2025-11-12 13:15:21,579 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_cab7c10e-99fe-479c-b2e9-35d73a9b6337
2025-11-12 13:15:21,581 - app.routes.documents - INFO - Created new file: file_id=cab7c10e-99fe-479c-b2e9-35d73a9b6337, md5=b0ad832f230fa69c7495d7d2fb9a0c74, sha256=c925ac81fc37955f..., s3_path=tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_cab7c10e-99fe-479c-b2e9-35d73a9b6337
2025-11-12 13:15:21,600 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_cab7c10e-99fe-479c-b2e9-35d73a9b6337, content_type=text/plain
2025-11-12 13:15:21,600 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_cab7c10e-99fe-479c-b2e9-35d73a9b6337
2025-11-12 13:15:21,601 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=cab7c10e-99fe-479c-b2e9-35d73a9b6337, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:21,602 - app.routes.documents - INFO - Document uploaded successfully: document_id=77b95bcf-e241-49cc-bcba-3d4231d44286, file_id=cab7c10e-99fe-479c-b2e9-35d73a9b6337
2025-11-12 13:15:21,604 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:15:21,608 - app.routes.documents - INFO - TSA timestamp task scheduled for file cab7c10e-99fe-479c-b2e9-35d73a9b6337 (task_id: 34137212-560c-49d0-8854-9432116cef00, tenant: fidwork)
2025-11-12 13:15:31,927 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:31,928 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=cab7c10e-99fe-479c-b2e9-35d73a9b6337, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:31,945 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:15:31,947 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=cab7c10e-99fe-479c-b2e9-35d73a9b6337, token_size=6008 bytes, role=admin
2025-11-12 13:15:31,948 - app.routes.documents - INFO - Timestamp download completed: file_id=cab7c10e-99fe-479c-b2e9-35d73a9b6337, size=6008 bytes
2025-11-12 13:15:31,949 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:15:33,124 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:33,125 - app.routes.documents - INFO - Download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=77b95bcf-e241-49cc-bcba-3d4231d44286, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:15:33,128 - app.routes.documents - INFO - Access granted: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:15:33,132 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=77b95bcf-e241-49cc-bcba-3d4231d44286, filename=tsa_test.txt, size=73, md5=b0ad832f230fa69c7495d7d2fb9a0c74, role=admin
2025-11-12 13:15:33,149 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_fidwork_916d299c/files/b0/ad/b0ad832f230fa69c7495d7d2fb9a0c74_cab7c10e-99fe-479c-b2e9-35d73a9b6337
2025-11-12 13:15:33,150 - app.routes.documents - INFO - Download stream started: document_id=77b95bcf-e241-49cc-bcba-3d4231d44286, size=73 bytes
2025-11-12 13:15:33,150 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:15:33,151 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, document_id=77b95bcf-e241-49cc-bcba-3d4231d44286, filename=tsa_test.txt, size=73
2025-11-12 13:18:14,694 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:14,695 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:14,714 - app.schemas.document_schema - DEBUG - Validated filename for upload: tsa_test.txt
2025-11-12 13:18:14,715 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:18:14,715 - app.schemas.document_schema - DEBUG - Normalized filename for upload: tsa_test.txt
2025-11-12 13:18:14,715 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:18:14,715 - app.routes.documents - INFO - File hashes calculated: MD5=e529f37a9ace6877ba6e5f408f9c1356, SHA-256=bb79ec33710c5563..., size=73 bytes
2025-11-12 13:18:14,723 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_temp
2025-11-12 13:18:14,724 - app.models.file - INFO - File object initialized: md5=e529f37a9ace6877ba6e5f408f9c1356, size=73, s3_path=tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_temp
2025-11-12 13:18:14,731 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_7b35c5e3-2c23-4073-816f-202fcabb8efa
2025-11-12 13:18:14,733 - app.routes.documents - INFO - Created new file: file_id=7b35c5e3-2c23-4073-816f-202fcabb8efa, md5=e529f37a9ace6877ba6e5f408f9c1356, sha256=bb79ec33710c5563..., s3_path=tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_7b35c5e3-2c23-4073-816f-202fcabb8efa
2025-11-12 13:18:14,764 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_7b35c5e3-2c23-4073-816f-202fcabb8efa, content_type=text/plain
2025-11-12 13:18:14,764 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_7b35c5e3-2c23-4073-816f-202fcabb8efa
2025-11-12 13:18:14,764 - app.models.document - INFO - Document object initialized: filename=tsa_test.txt, mime_type=text/plain, file_id=7b35c5e3-2c23-4073-816f-202fcabb8efa, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:14,766 - app.routes.documents - INFO - Document uploaded successfully: document_id=8ac076e6-289c-4919-992c-c02e00a6c68c, file_id=7b35c5e3-2c23-4073-816f-202fcabb8efa
2025-11-12 13:18:14,767 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:18:14,776 - app.routes.documents - INFO - TSA timestamp task scheduled for file 7b35c5e3-2c23-4073-816f-202fcabb8efa (task_id: e972ac6a-955a-458c-b4fd-3b6fdb467494, tenant: fidwork)
2025-11-12 13:18:25,139 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:25,140 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=7b35c5e3-2c23-4073-816f-202fcabb8efa, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:25,144 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:18:25,146 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=7b35c5e3-2c23-4073-816f-202fcabb8efa, token_size=6007 bytes, role=admin
2025-11-12 13:18:25,146 - app.routes.documents - INFO - Timestamp download completed: file_id=7b35c5e3-2c23-4073-816f-202fcabb8efa, size=6007 bytes
2025-11-12 13:18:25,147 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:18:25,375 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:25,376 - app.routes.documents - INFO - Download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=8ac076e6-289c-4919-992c-c02e00a6c68c, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:18:25,380 - app.routes.documents - INFO - Access granted: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:18:25,392 - app.routes.documents - INFO - AUDIT: Download initiated - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, document_id=8ac076e6-289c-4919-992c-c02e00a6c68c, filename=tsa_test.txt, size=73, md5=e529f37a9ace6877ba6e5f408f9c1356, role=admin
2025-11-12 13:18:25,414 - app.utils.s3_client - INFO - Retrieved S3 object for streaming: tenants/tenant_fidwork_916d299c/files/e5/29/e529f37a9ace6877ba6e5f408f9c1356_7b35c5e3-2c23-4073-816f-202fcabb8efa
2025-11-12 13:18:25,415 - app.routes.documents - INFO - Download stream started: document_id=8ac076e6-289c-4919-992c-c02e00a6c68c, size=73 bytes
2025-11-12 13:18:25,415 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:18:25,416 - app.routes.documents - INFO - AUDIT: Download completed successfully - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, document_id=8ac076e6-289c-4919-992c-c02e00a6c68c, filename=tsa_test.txt, size=73
2025-11-12 13:30:23,291 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 13:30:23,291 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 13:30:23,291 - app - INFO - Flask app created with config: development
2025-11-12 13:30:23,291 - app - INFO - Flask app created with config: development
2025-11-12 13:30:23,291 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 13:30:23,291 - app - INFO - Debug mode: True
2025-11-12 13:30:23,292 - app - INFO - Debug mode: True
2025-11-12 13:30:23,292 - app - INFO - Flask app created with config: development
2025-11-12 13:30:23,292 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 13:30:23,292 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 13:30:23,292 - app - INFO - Debug mode: True
2025-11-12 13:30:23,293 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 13:30:23,298 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-12 13:30:23,298 - app - INFO - Flask app created with config: development
2025-11-12 13:30:23,299 - app - INFO - Debug mode: True
2025-11-12 13:30:23,299 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-12 13:31:04,334 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:04,335 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:04,339 - app.schemas.document_schema - DEBUG - Validated filename for upload: manual_test.txt
2025-11-12 13:31:04,340 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:31:04,340 - app.schemas.document_schema - DEBUG - Normalized filename for upload: manual_test.txt
2025-11-12 13:31:04,340 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:31:04,341 - app.routes.documents - INFO - File hashes calculated: MD5=f5833c3a1b8af248366c60e375fdd34c, SHA-256=f3a836f0e4901a40..., size=65 bytes
2025-11-12 13:31:04,344 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:31:04,344 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:31:04,367 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/f5/83/f5833c3a1b8af248366c60e375fdd34c_temp
2025-11-12 13:31:04,368 - app.models.file - INFO - File object initialized: md5=f5833c3a1b8af248366c60e375fdd34c, size=65, s3_path=tenants/tenant_fidwork_916d299c/files/f5/83/f5833c3a1b8af248366c60e375fdd34c_temp
2025-11-12 13:31:04,376 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/f5/83/f5833c3a1b8af248366c60e375fdd34c_aaaee5a9-1297-4c5e-b83d-7bdad275ffd1
2025-11-12 13:31:04,379 - app.routes.documents - INFO - Created new file: file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, md5=f5833c3a1b8af248366c60e375fdd34c, sha256=f3a836f0e4901a40..., s3_path=tenants/tenant_fidwork_916d299c/files/f5/83/f5833c3a1b8af248366c60e375fdd34c_aaaee5a9-1297-4c5e-b83d-7bdad275ffd1
2025-11-12 13:31:05,010 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 13:31:05,010 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 13:31:05,027 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/f5/83/f5833c3a1b8af248366c60e375fdd34c_aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, content_type=text/plain
2025-11-12 13:31:05,028 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/f5/83/f5833c3a1b8af248366c60e375fdd34c_aaaee5a9-1297-4c5e-b83d-7bdad275ffd1
2025-11-12 13:31:05,028 - app.models.document - INFO - Document object initialized: filename=manual_test.txt, mime_type=text/plain, file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:05,032 - app.routes.documents - INFO - Document uploaded successfully: document_id=b9e543a5-f5ad-4eab-8c5f-483cf7eb15dd, file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1
2025-11-12 13:31:05,034 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:31:05,096 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:31:05,125 - app.routes.documents - INFO - TSA timestamp task scheduled for file aaaee5a9-1297-4c5e-b83d-7bdad275ffd1 (task_id: fecc7bd8-0de1-47e9-8d3c-73523f31b8a7, tenant: fidwork)
2025-11-12 13:31:08,702 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:08,708 - app.routes.documents - INFO - Manual timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:08,766 - app.routes.documents - INFO - AUDIT: Manual timestamp task scheduled - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, task_id=4c7dba67-8930-4dae-bce5-f01289b70cae, force=False
2025-11-12 13:31:08,770 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:31:24,103 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:24,104 - app.routes.documents - INFO - Timestamp download request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:31:24,176 - app.routes.documents - INFO - Access granted for timestamp download: user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, role=admin, database=tenant_fidwork_916d299c
2025-11-12 13:31:24,177 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:31:24,177 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:31:24,190 - app.routes.documents - INFO - AUDIT: Timestamp downloaded - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, token_size=6008 bytes, role=admin
2025-11-12 13:31:24,190 - app.routes.documents - INFO - Timestamp download completed: file_id=aaaee5a9-1297-4c5e-b83d-7bdad275ffd1, size=6008 bytes
2025-11-12 13:31:24,191 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:32:18,639 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:18,641 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:18,723 - app.schemas.document_schema - DEBUG - Validated filename for upload: bulk_test_1.txt
2025-11-12 13:32:18,724 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:32:18,724 - app.schemas.document_schema - DEBUG - Normalized filename for upload: bulk_test_1.txt
2025-11-12 13:32:18,724 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:32:18,724 - app.routes.documents - INFO - File hashes calculated: MD5=82026ab6b26baef97a44920507793e1b, SHA-256=85c5a1358b445a7c..., size=48 bytes
2025-11-12 13:32:18,729 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:32:18,729 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:32:18,750 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/82/02/82026ab6b26baef97a44920507793e1b_temp
2025-11-12 13:32:18,750 - app.models.file - INFO - File object initialized: md5=82026ab6b26baef97a44920507793e1b, size=48, s3_path=tenants/tenant_fidwork_916d299c/files/82/02/82026ab6b26baef97a44920507793e1b_temp
2025-11-12 13:32:18,755 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/82/02/82026ab6b26baef97a44920507793e1b_38dd7b9b-c406-4d80-a97e-271e0c7776c3
2025-11-12 13:32:18,757 - app.routes.documents - INFO - Created new file: file_id=38dd7b9b-c406-4d80-a97e-271e0c7776c3, md5=82026ab6b26baef97a44920507793e1b, sha256=85c5a1358b445a7c..., s3_path=tenants/tenant_fidwork_916d299c/files/82/02/82026ab6b26baef97a44920507793e1b_38dd7b9b-c406-4d80-a97e-271e0c7776c3
2025-11-12 13:32:19,180 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 13:32:19,180 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 13:32:19,195 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/82/02/82026ab6b26baef97a44920507793e1b_38dd7b9b-c406-4d80-a97e-271e0c7776c3, content_type=text/plain
2025-11-12 13:32:19,195 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/82/02/82026ab6b26baef97a44920507793e1b_38dd7b9b-c406-4d80-a97e-271e0c7776c3
2025-11-12 13:32:19,196 - app.models.document - INFO - Document object initialized: filename=bulk_test_1.txt, mime_type=text/plain, file_id=38dd7b9b-c406-4d80-a97e-271e0c7776c3, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,199 - app.routes.documents - INFO - Document uploaded successfully: document_id=4147ee9d-8e46-4638-b25c-7a89fd024f67, file_id=38dd7b9b-c406-4d80-a97e-271e0c7776c3
2025-11-12 13:32:19,200 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:32:19,246 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:32:19,278 - app.routes.documents - INFO - TSA timestamp task scheduled for file 38dd7b9b-c406-4d80-a97e-271e0c7776c3 (task_id: c7c21c66-40bd-491a-9c3b-c164b09752c3, tenant: fidwork)
2025-11-12 13:32:19,326 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,329 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,407 - app.schemas.document_schema - DEBUG - Validated filename for upload: bulk_test_2.txt
2025-11-12 13:32:19,408 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:32:19,408 - app.schemas.document_schema - DEBUG - Normalized filename for upload: bulk_test_2.txt
2025-11-12 13:32:19,409 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:32:19,409 - app.routes.documents - INFO - File hashes calculated: MD5=07ec1a202c2cf3984e31c4c0046bd491, SHA-256=3fc735b5e57d8a04..., size=48 bytes
2025-11-12 13:32:19,413 - app.utils.database - INFO - Created engine for tenant database: tenant_fidwork_916d299c
2025-11-12 13:32:19,414 - app.utils.database - INFO - Created session factory for tenant database: tenant_fidwork_916d299c
2025-11-12 13:32:19,432 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/07/ec/07ec1a202c2cf3984e31c4c0046bd491_temp
2025-11-12 13:32:19,433 - app.models.file - INFO - File object initialized: md5=07ec1a202c2cf3984e31c4c0046bd491, size=48, s3_path=tenants/tenant_fidwork_916d299c/files/07/ec/07ec1a202c2cf3984e31c4c0046bd491_temp
2025-11-12 13:32:19,438 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/07/ec/07ec1a202c2cf3984e31c4c0046bd491_ed226286-3319-4487-9ce9-4f622340e679
2025-11-12 13:32:19,440 - app.routes.documents - INFO - Created new file: file_id=ed226286-3319-4487-9ce9-4f622340e679, md5=07ec1a202c2cf3984e31c4c0046bd491, sha256=3fc735b5e57d8a04..., s3_path=tenants/tenant_fidwork_916d299c/files/07/ec/07ec1a202c2cf3984e31c4c0046bd491_ed226286-3319-4487-9ce9-4f622340e679
2025-11-12 13:32:19,699 - app.utils.s3_client - DEBUG - S3 client initialized: bucket=saas-documents, region=us-east-1, endpoint=http://minio:9000, public_url=http://minio:9000, use_ssl=False
2025-11-12 13:32:19,699 - app.utils.s3_client - INFO - S3 client initialized: bucket=saas-documents
2025-11-12 13:32:19,709 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/07/ec/07ec1a202c2cf3984e31c4c0046bd491_ed226286-3319-4487-9ce9-4f622340e679, content_type=text/plain
2025-11-12 13:32:19,709 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/07/ec/07ec1a202c2cf3984e31c4c0046bd491_ed226286-3319-4487-9ce9-4f622340e679
2025-11-12 13:32:19,710 - app.models.document - INFO - Document object initialized: filename=bulk_test_2.txt, mime_type=text/plain, file_id=ed226286-3319-4487-9ce9-4f622340e679, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,712 - app.routes.documents - INFO - Document uploaded successfully: document_id=be8e471a-d919-4db2-a0e6-9d99f2662424, file_id=ed226286-3319-4487-9ce9-4f622340e679
2025-11-12 13:32:19,713 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:32:19,739 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:32:19,765 - app.routes.documents - INFO - TSA timestamp task scheduled for file ed226286-3319-4487-9ce9-4f622340e679 (task_id: 9d22e30d-2896-4f4e-ab03-beedcdb56b45, tenant: fidwork)
2025-11-12 13:32:19,797 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,797 - app.routes.documents - INFO - Uploading document: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,803 - app.schemas.document_schema - DEBUG - Validated filename for upload: bulk_test_3.txt
2025-11-12 13:32:19,803 - app.schemas.document_schema - DEBUG - Validated MIME type for upload: text/plain
2025-11-12 13:32:19,803 - app.schemas.document_schema - DEBUG - Normalized filename for upload: bulk_test_3.txt
2025-11-12 13:32:19,804 - app.schemas.document_schema - DEBUG - Normalized MIME type for upload: text/plain
2025-11-12 13:32:19,804 - app.routes.documents - INFO - File hashes calculated: MD5=d50093cfa89fcf9bad1f49be77068426, SHA-256=76388f08b3fba3a6..., size=48 bytes
2025-11-12 13:32:19,807 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/d5/00/d50093cfa89fcf9bad1f49be77068426_temp
2025-11-12 13:32:19,807 - app.models.file - INFO - File object initialized: md5=d50093cfa89fcf9bad1f49be77068426, size=48, s3_path=tenants/tenant_fidwork_916d299c/files/d5/00/d50093cfa89fcf9bad1f49be77068426_temp
2025-11-12 13:32:19,809 - app.models.file - DEBUG - Generated S3 path: tenants/tenant_fidwork_916d299c/files/d5/00/d50093cfa89fcf9bad1f49be77068426_6f76ccf6-871a-4380-9aec-6f89223e4f2a
2025-11-12 13:32:19,810 - app.routes.documents - INFO - Created new file: file_id=6f76ccf6-871a-4380-9aec-6f89223e4f2a, md5=d50093cfa89fcf9bad1f49be77068426, sha256=76388f08b3fba3a6..., s3_path=tenants/tenant_fidwork_916d299c/files/d5/00/d50093cfa89fcf9bad1f49be77068426_6f76ccf6-871a-4380-9aec-6f89223e4f2a
2025-11-12 13:32:19,818 - app.utils.s3_client - DEBUG - Uploaded file to S3: bucket=saas-documents, path=tenants/tenant_fidwork_916d299c/files/d5/00/d50093cfa89fcf9bad1f49be77068426_6f76ccf6-871a-4380-9aec-6f89223e4f2a, content_type=text/plain
2025-11-12 13:32:19,818 - app.utils.s3_client - INFO - File uploaded to S3: tenants/tenant_fidwork_916d299c/files/d5/00/d50093cfa89fcf9bad1f49be77068426_6f76ccf6-871a-4380-9aec-6f89223e4f2a
2025-11-12 13:32:19,819 - app.models.document - INFO - Document object initialized: filename=bulk_test_3.txt, mime_type=text/plain, file_id=6f76ccf6-871a-4380-9aec-6f89223e4f2a, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:19,820 - app.routes.documents - INFO - Document uploaded successfully: document_id=a184c83a-cb08-4a12-be03-1efbc3e7112f, file_id=6f76ccf6-871a-4380-9aec-6f89223e4f2a
2025-11-12 13:32:19,822 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:32:19,823 - app.routes.documents - INFO - TSA timestamp task scheduled for file 6f76ccf6-871a-4380-9aec-6f89223e4f2a (task_id: e00bbdba-5703-4521-9648-37e789521658, tenant: fidwork)
2025-11-12 13:32:25,191 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:25,193 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:32:25,277 - app.celery_app - INFO - Celery configured with broker: redis://redis:6379/3
2025-11-12 13:32:25,312 - app.routes.documents - INFO - AUDIT: Bulk timestamp tasks scheduled - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, total_files=14, estimated_minutes=2.4
2025-11-12 13:32:25,313 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:36:46,190 - app.utils.decorators - ERROR - JWT validation failed: Signature has expired
2025-11-12 13:36:51,475 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:36:51,476 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=:tenant_id, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:36:51,481 - app.routes.documents - ERROR - Error in bulk timestamp: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID AND tenants.is_active ...
                           ^

[SQL: SELECT tenants.name AS tenants_name, tenants.database_name AS tenants_database_name, tenants.is_active AS tenants_is_active, tenants.auth_method AS tenants_auth_method, tenants.sso_domain_whitelist AS tenants_sso_domain_whitelist, tenants.sso_auto_provisioning AS tenants_sso_auto_provisioning, tenants.sso_default_role AS tenants_sso_default_role, tenants.tsa_enabled AS tenants_tsa_enabled, tenants.tsa_provider AS tenants_tsa_provider, tenants.id AS tenants_id, tenants.created_at AS tenants_created_at, tenants.updated_at AS tenants_updated_at, tenants.created_by AS tenants_created_by 
FROM tenants 
WHERE tenants.id = %(id_1)s::UUID AND tenants.is_active = true 
 LIMIT %(param_1)s]
[parameters: {'id_1': ':tenant_id', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.InvalidTextRepresentation: invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID AND tenants.is_active ...
                           ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/routes/documents.py", line 978, in bulk_timestamp
    has_access, error_response = check_tenant_access(user_id, tenant_id)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/routes/documents.py", line 72, in check_tenant_access
    tenant = Tenant.query.filter_by(id=tenant_id, is_active=True).first()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/opt/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type uuid: ":tenant_id"
LINE 3: WHERE tenants.id = ':tenant_id'::UUID AND tenants.is_active ...
                           ^

[SQL: SELECT tenants.name AS tenants_name, tenants.database_name AS tenants_database_name, tenants.is_active AS tenants_is_active, tenants.auth_method AS tenants_auth_method, tenants.sso_domain_whitelist AS tenants_sso_domain_whitelist, tenants.sso_auto_provisioning AS tenants_sso_auto_provisioning, tenants.sso_default_role AS tenants_sso_default_role, tenants.tsa_enabled AS tenants_tsa_enabled, tenants.tsa_provider AS tenants_tsa_provider, tenants.id AS tenants_id, tenants.created_at AS tenants_created_at, tenants.updated_at AS tenants_updated_at, tenants.created_by AS tenants_created_by 
FROM tenants 
WHERE tenants.id = %(id_1)s::UUID AND tenants.is_active = true 
 LIMIT %(param_1)s]
[parameters: {'id_1': ':tenant_id', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-11-12 13:38:12,296 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:38:12,299 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:38:12,334 - app.routes.documents - ERROR - Error in bulk timestamp: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "/app/app/routes/documents.py", line 1008, in bulk_timestamp
    request_data = request.get_json()
                   ^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-11-12 13:38:56,984 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:38:56,985 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:38:57,013 - app.routes.documents - ERROR - Error in bulk timestamp: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "/app/app/routes/documents.py", line 1008, in bulk_timestamp
    request_data = request.get_json()
                   ^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-11-12 13:39:44,466 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:39:44,468 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:39:44,493 - app.routes.documents - ERROR - Error in bulk timestamp: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "/app/app/routes/documents.py", line 1008, in bulk_timestamp
    request_data = request.get_json()
                   ^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-11-12 13:40:03,543 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:03,545 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:03,585 - app.routes.documents - ERROR - Error in bulk timestamp: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
Traceback (most recent call last):
  File "/app/app/routes/documents.py", line 1008, in bulk_timestamp
    request_data = request.get_json()
                   ^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 604, in get_json
    return self.on_json_loading_failed(None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.11/site-packages/werkzeug/wrappers/request.py", line 647, in on_json_loading_failed
    raise UnsupportedMediaType(
werkzeug.exceptions.UnsupportedMediaType: 415 Unsupported Media Type: Did not attempt to load JSON data because the request Content-Type was not 'application/json'.
2025-11-12 13:40:41,444 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:41,446 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:41,521 - app.routes.documents - INFO - AUDIT: Bulk timestamp tasks scheduled - user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c, tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, total_files=1, estimated_minutes=0.2
2025-11-12 13:40:41,523 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:40:54,008 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:54,010 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:54,060 - app.routes.documents - WARNING - No files found matching criteria: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45
2025-11-12 13:40:54,062 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:40:55,083 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:55,087 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:55,128 - app.routes.documents - WARNING - No files found matching criteria: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45
2025-11-12 13:40:55,130 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-12 13:40:55,753 - app.utils.decorators - DEBUG - Authenticated user: 0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:55,753 - app.routes.documents - INFO - Bulk timestamp request: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45, user_id=0d9694f2-af6c-4724-8980-cb40bf198e9c
2025-11-12 13:40:55,760 - app.routes.documents - WARNING - No files found matching criteria: tenant_id=964fd8df-6c81-4698-a7b6-4f1825c71c45
2025-11-12 13:40:55,760 - app.utils.database - DEBUG - Committed transaction for tenant: tenant_fidwork_916d299c
2025-11-16 14:03:23,083 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:03:23,084 - app - INFO - Flask app created with config: development
2025-11-16 14:03:23,084 - app - INFO - Debug mode: True
2025-11-16 14:03:23,084 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:03:23,086 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:03:23,087 - app - INFO - Flask app created with config: development
2025-11-16 14:03:23,087 - app - INFO - Debug mode: True
2025-11-16 14:03:23,087 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:03:23,101 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:03:23,103 - app - INFO - Flask app created with config: development
2025-11-16 14:03:23,108 - app - INFO - Debug mode: True
2025-11-16 14:03:23,109 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:03:23,114 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:03:23,114 - app - INFO - Flask app created with config: development
2025-11-16 14:03:23,114 - app - INFO - Debug mode: True
2025-11-16 14:03:23,115 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:04:01,384 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:04:01,385 - app - INFO - Flask app created with config: development
2025-11-16 14:04:01,385 - app - INFO - Debug mode: True
2025-11-16 14:04:01,386 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:04:01,391 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:04:01,393 - app - INFO - Flask app created with config: development
2025-11-16 14:04:01,393 - app - INFO - Debug mode: True
2025-11-16 14:04:01,394 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:04:01,398 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:04:01,398 - app - INFO - Flask app created with config: development
2025-11-16 14:04:01,399 - app - INFO - Debug mode: True
2025-11-16 14:04:01,399 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:04:01,416 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:04:01,417 - app - INFO - Flask app created with config: development
2025-11-16 14:04:01,417 - app - INFO - Debug mode: True
2025-11-16 14:04:01,417 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:05:55,081 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:05:55,082 - app - INFO - Flask app created with config: development
2025-11-16 14:05:55,086 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:05:55,085 - app - INFO - Debug mode: True
2025-11-16 14:05:55,088 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:05:55,087 - app - INFO - Flask app created with config: development
2025-11-16 14:05:55,089 - app - INFO - Debug mode: True
2025-11-16 14:05:55,089 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:05:55,145 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:05:55,145 - app - INFO - Flask app created with config: development
2025-11-16 14:05:55,145 - app - INFO - Debug mode: True
2025-11-16 14:05:55,146 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:05:55,195 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:05:55,195 - app - INFO - Flask app created with config: development
2025-11-16 14:05:55,195 - app - INFO - Debug mode: True
2025-11-16 14:05:55,195 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:08:06,500 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:08:06,503 - app - INFO - Flask app created with config: development
2025-11-16 14:08:06,504 - app - INFO - Debug mode: True
2025-11-16 14:08:06,504 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:08:06,504 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:08:06,507 - app - INFO - Flask app created with config: development
2025-11-16 14:08:06,507 - app - INFO - Debug mode: True
2025-11-16 14:08:06,507 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:08:06,567 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:08:06,567 - app - INFO - Flask app created with config: development
2025-11-16 14:08:06,567 - app - INFO - Debug mode: True
2025-11-16 14:08:06,568 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:08:06,605 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:08:06,606 - app - INFO - Flask app created with config: development
2025-11-16 14:08:06,606 - app - INFO - Debug mode: True
2025-11-16 14:08:06,606 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:09:33,425 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:09:33,427 - app - INFO - Flask app created with config: development
2025-11-16 14:09:33,428 - app - INFO - Debug mode: True
2025-11-16 14:09:33,430 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:09:33,439 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:09:33,445 - app - INFO - Flask app created with config: development
2025-11-16 14:09:33,446 - app - INFO - Debug mode: True
2025-11-16 14:09:33,449 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:09:33,451 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:09:33,452 - app - INFO - Flask app created with config: development
2025-11-16 14:09:33,452 - app - INFO - Debug mode: True
2025-11-16 14:09:33,452 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:09:33,504 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:09:33,512 - app - INFO - Flask app created with config: development
2025-11-16 14:09:33,514 - app - INFO - Debug mode: True
2025-11-16 14:09:33,516 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:15:59,922 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:15:59,924 - app - INFO - Flask app created with config: development
2025-11-16 14:15:59,925 - app - INFO - Debug mode: True
2025-11-16 14:15:59,926 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:15:59,939 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:15:59,946 - app - INFO - Flask app created with config: development
2025-11-16 14:15:59,952 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:15:59,953 - app - INFO - Debug mode: True
2025-11-16 14:15:59,954 - app - INFO - Flask app created with config: development
2025-11-16 14:15:59,954 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:15:59,954 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:15:59,955 - app - INFO - Debug mode: True
2025-11-16 14:15:59,956 - app - INFO - Flask app created with config: development
2025-11-16 14:15:59,959 - app - INFO - Debug mode: True
2025-11-16 14:15:59,958 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:15:59,959 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:20:35,818 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:20:35,818 - app - INFO - Flask app created with config: development
2025-11-16 14:20:35,819 - app - INFO - Debug mode: True
2025-11-16 14:20:35,819 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:20:35,952 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:36,489 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:37,019 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:37,531 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:38,035 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:38,543 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:39,055 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:39,561 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:40,069 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:40,578 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:41,083 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:41,593 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:42,097 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:20:42,605 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:50,988 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:25:50,989 - app - INFO - Flask app created with config: development
2025-11-16 14:25:50,989 - app - INFO - Debug mode: True
2025-11-16 14:25:50,989 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:25:51,016 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:51,537 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:52,056 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:52,561 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:53,072 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:53,585 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:54,089 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:54,604 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:55,113 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:55,617 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:56,122 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:56,626 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:57,135 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:25:57,645 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:27:27,096 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:27:27,097 - app - INFO - Flask app created with config: development
2025-11-16 14:27:27,100 - app - INFO - Debug mode: True
2025-11-16 14:27:27,107 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:27:27,108 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:27:27,110 - app - INFO - Flask app created with config: development
2025-11-16 14:27:27,112 - app - INFO - Debug mode: True
2025-11-16 14:27:27,112 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:27:27,118 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:27:27,119 - app - INFO - Flask app created with config: development
2025-11-16 14:27:27,120 - app - INFO - Debug mode: True
2025-11-16 14:27:27,122 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:27:27,150 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:27:27,151 - app - INFO - Flask app created with config: development
2025-11-16 14:27:27,152 - app - INFO - Debug mode: True
2025-11-16 14:27:27,153 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:28:37,239 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:28:37,239 - app - INFO - Flask app created with config: development
2025-11-16 14:28:37,241 - app - INFO - Debug mode: True
2025-11-16 14:28:37,241 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:28:37,265 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:28:37,266 - app - INFO - Flask app created with config: development
2025-11-16 14:28:37,266 - app - INFO - Debug mode: True
2025-11-16 14:28:37,268 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:28:37,272 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:28:37,272 - app - INFO - Flask app created with config: development
2025-11-16 14:28:37,272 - app - INFO - Debug mode: True
2025-11-16 14:28:37,273 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:28:37,280 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:28:37,280 - app - INFO - Flask app created with config: development
2025-11-16 14:28:37,280 - app - INFO - Debug mode: True
2025-11-16 14:28:37,280 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:28:47,247 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:28:47,248 - app - INFO - Flask app created with config: development
2025-11-16 14:28:47,248 - app - INFO - Debug mode: True
2025-11-16 14:28:47,248 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:28:47,269 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:47,796 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:48,314 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:48,822 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:49,331 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:49,838 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:50,347 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:50,854 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:51,360 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:51,868 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:52,372 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:52,881 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:53,386 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:28:53,897 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:07,121 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:31:07,121 - app - INFO - Flask app created with config: development
2025-11-16 14:31:07,122 - app - INFO - Debug mode: True
2025-11-16 14:31:07,123 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:31:07,124 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:31:07,124 - app - INFO - Flask app created with config: development
2025-11-16 14:31:07,125 - app - INFO - Debug mode: True
2025-11-16 14:31:07,126 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:31:07,157 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:31:07,158 - app - INFO - Flask app created with config: development
2025-11-16 14:31:07,159 - app - INFO - Debug mode: True
2025-11-16 14:31:07,160 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:31:07,248 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:31:07,248 - app - INFO - Flask app created with config: development
2025-11-16 14:31:07,248 - app - INFO - Debug mode: True
2025-11-16 14:31:07,249 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:31:24,886 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:31:24,887 - app - INFO - Flask app created with config: development
2025-11-16 14:31:24,887 - app - INFO - Debug mode: True
2025-11-16 14:31:24,887 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:31:24,923 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:25,461 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:25,976 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:26,487 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:26,995 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:27,507 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:28,011 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:28,523 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:29,026 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:29,536 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:30,040 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:30,544 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:31,054 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:31:31,558 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 404 - 
<!doctype html>
<html lang="en">
<head>
  <title>Not Found</title>
</head>
<body>
  <h1>Not Found</h1><p>The requested resource was not found on this server.</p>
</body>
</html>

2025-11-16 14:32:50,208 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:32:50,209 - app - INFO - Flask app created with config: development
2025-11-16 14:32:50,211 - app - INFO - Debug mode: True
2025-11-16 14:32:50,212 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:32:50,222 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:32:50,222 - app - INFO - Flask app created with config: development
2025-11-16 14:32:50,223 - app - INFO - Debug mode: True
2025-11-16 14:32:50,223 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:32:50,264 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:32:50,265 - app - INFO - Flask app created with config: development
2025-11-16 14:32:50,265 - app - INFO - Debug mode: True
2025-11-16 14:32:50,265 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:32:50,272 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:32:50,273 - app - INFO - Flask app created with config: development
2025-11-16 14:32:50,273 - app - INFO - Debug mode: True
2025-11-16 14:32:50,273 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:33:12,830 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:33:12,831 - app - INFO - Flask app created with config: development
2025-11-16 14:33:12,831 - app - INFO - Debug mode: True
2025-11-16 14:33:12,831 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:33:12,874 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 400 - {"error": "json validation error: timeout is too small"}
2025-11-16 14:33:13,392 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 400 - {"error": "json validation error: timeout is too small"}
2025-11-16 14:33:13,918 - app.monitoring.healthchecks_client - INFO - Check 'Flask API' created with ID http://localhost:8000/ping/def4ca4e-ad69-46b6-8e5e-9d6fe6f7eea8
2025-11-16 14:33:14,441 - app.monitoring.healthchecks_client - INFO - Check 'Celery Worker SSO' created with ID http://localhost:8000/ping/35f1eb10-1e5a-4cdd-85ef-c130cb721f10
2025-11-16 14:33:14,979 - app.monitoring.healthchecks_client - INFO - Check 'Celery Beat Scheduler' created with ID http://localhost:8000/ping/dad7bbda-88e7-412e-b1f4-d08f927744c2
2025-11-16 14:33:15,511 - app.monitoring.healthchecks_client - INFO - Check 'Kafka Broker' created with ID http://localhost:8000/ping/343149e1-ad71-4563-bd70-6b2d7aa95924
2025-11-16 14:33:16,032 - app.monitoring.healthchecks_client - INFO - Check 'Kafka Consumer' created with ID http://localhost:8000/ping/7b3d99a1-b15a-4c58-94c0-93925b6f0230
2025-11-16 14:33:16,555 - app.monitoring.healthchecks_client - INFO - Check 'MinIO S3 Storage' created with ID http://localhost:8000/ping/8018d3b4-5415-4704-a0f1-853339cc83b5
2025-11-16 14:33:17,075 - app.monitoring.healthchecks_client - INFO - Check 'Vault Secrets' created with ID http://localhost:8000/ping/178e754a-deae-40fe-b4e0-d252bb78f697
2025-11-16 14:33:17,595 - app.monitoring.healthchecks_client - INFO - Check 'SSO Token Refresh' created with ID http://localhost:8000/ping/fe3545e5-b1fb-4c49-b829-70072b5056b8
2025-11-16 14:33:18,110 - app.monitoring.healthchecks_client - INFO - Check 'Health Check Task' created with ID http://localhost:8000/ping/3f8aae71-5258-417c-8bfc-3a85257427b9
2025-11-16 14:33:18,633 - app.monitoring.healthchecks_client - INFO - Check 'Token Cleanup' created with ID http://localhost:8000/ping/db8286a0-9790-41e3-a906-ac78ff0dc950
2025-11-16 14:33:19,147 - app.monitoring.healthchecks_client - INFO - Check 'Encryption Key Rotation' created with ID http://localhost:8000/ping/29342eb0-b0f8-47e1-8748-870f263cedbb
2025-11-16 14:33:19,669 - app.monitoring.healthchecks_client - INFO - Check 'Comprehensive Health Check' created with ID http://localhost:8000/ping/c6c556c7-bd3a-402b-8398-1cf3fec53681
2025-11-16 14:42:32,092 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 14:42:32,093 - app - INFO - Flask app created with config: development
2025-11-16 14:42:32,093 - app - INFO - Debug mode: True
2025-11-16 14:42:32,093 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 14:42:32,136 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 400 - {"error": "json validation error: timeout is too small"}
2025-11-16 14:42:32,648 - app.monitoring.healthchecks_client - ERROR - Failed to create check: 400 - {"error": "json validation error: timeout is too small"}
2025-11-16 15:08:47,924 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 15:08:47,925 - app - INFO - Flask app created with config: development
2025-11-16 15:08:47,925 - app - INFO - Debug mode: True
2025-11-16 15:08:47,925 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
2025-11-16 15:09:13,326 - app - INFO - Logging configured: level=10, file=logs/app.log
2025-11-16 15:09:13,327 - app - INFO - Flask app created with config: development
2025-11-16 15:09:13,328 - app - INFO - Debug mode: True
2025-11-16 15:09:13,328 - app - INFO - Database URI: postgresql://postgres:postgres@postgres:5432/saas_...
