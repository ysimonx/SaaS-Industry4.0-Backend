# =============================================================================
# SaaS Multi-Tenant Backend Platform - Development Environment
# =============================================================================
# This file contains development-optimized settings
# Safe to use for local development - DO NOT use in production!

# -----------------------------------------------------------------------------
# Flask Application Settings
# -----------------------------------------------------------------------------
FLASK_APP=run.py
FLASK_ENV=development
FLASK_DEBUG=1
FLASK_PORT=4999
SECRET_KEY=dev-secret-key-not-for-production

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Main database (stores users, tenants, associations)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/saas_platform
DATABASE_POOL_SIZE=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=false

# Tenant database connection template
TENANT_DATABASE_URL_TEMPLATE=postgresql://postgres:postgres@localhost:5432/{database_name}

# -----------------------------------------------------------------------------
# JWT Authentication Settings
# -----------------------------------------------------------------------------
# Development JWT secret (NOT secure - for development only!)
JWT_SECRET_KEY=dev-jwt-secret-key-change-for-production-use-only
JWT_ACCESS_TOKEN_EXPIRES=900
JWT_REFRESH_TOKEN_EXPIRES=604800
JWT_ALGORITHM=HS256

# -----------------------------------------------------------------------------
# Kafka Configuration
# -----------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=saas-platform-dev
KAFKA_CONSUMER_GROUP_ID=saas-consumer-group-dev
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_MAX_POLL_RECORDS=100
KAFKA_ACKS=all
KAFKA_RETRIES=3
KAFKA_COMPRESSION_TYPE=gzip
KAFKA_MAX_IN_FLIGHT_REQUESTS=5

# Kafka Topics
KAFKA_TOPIC_TENANT_CREATED=tenant.created
KAFKA_TOPIC_TENANT_DELETED=tenant.deleted
KAFKA_TOPIC_DOCUMENT_UPLOADED=document.uploaded
KAFKA_TOPIC_DOCUMENT_DELETED=document.deleted
KAFKA_TOPIC_FILE_PROCESS=file.process
KAFKA_TOPIC_AUDIT_LOG=audit.log

# -----------------------------------------------------------------------------
# S3/MinIO Configuration (Local Development)
# -----------------------------------------------------------------------------
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET=saas-documents
S3_REGION=us-east-1
S3_USE_SSL=false

# -----------------------------------------------------------------------------
# CORS Configuration (Permissive for Development)
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:3000,http://localhost:4999,http://localhost:8080
CORS_SUPPORTS_CREDENTIALS=true
CORS_MAX_AGE=3600
CORS_ALLOW_HEADERS=Content-Type,Authorization
CORS_EXPOSE_HEADERS=Content-Type,Authorization
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH

# -----------------------------------------------------------------------------
# Logging Configuration (Verbose for Development)
# -----------------------------------------------------------------------------
LOG_LEVEL=DEBUG
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# -----------------------------------------------------------------------------
# Rate Limiting (Disabled for Development)
# -----------------------------------------------------------------------------
RATELIMIT_ENABLED=false
# RATELIMIT_STORAGE_URL=redis://localhost:6379/0
# RATELIMIT_DEFAULT=100/hour

# -----------------------------------------------------------------------------
# Redis Configuration (Optional - for caching/sessions)
# -----------------------------------------------------------------------------
# REDIS_URL=redis://localhost:6379/0
# REDIS_DB=0
# CACHE_TYPE=redis
# CACHE_REDIS_URL=redis://localhost:6379/1

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
MAX_CONTENT_LENGTH=104857600
UPLOAD_FOLDER=uploads
ALLOWED_EXTENSIONS=pdf,doc,docx,txt,png,jpg,jpeg,gif,csv,xlsx,zip

# -----------------------------------------------------------------------------
# Development Tools
# -----------------------------------------------------------------------------
# Enable SQL query logging
SQL_DEBUG=false

# Enable Flask Debug Toolbar (requires flask-debugtoolbar)
FLASK_TOOLBAR_ENABLED=false

# Enable profiling (requires werkzeug)
PROFILE=false

# Reload on code changes
RELOAD_ON_CHANGE=true

# -----------------------------------------------------------------------------
# Email Configuration (Console backend for development)
# -----------------------------------------------------------------------------
MAIL_SERVER=localhost
MAIL_PORT=1025
MAIL_USE_TLS=false
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_DEFAULT_SENDER=noreply@saas-platform.local

# -----------------------------------------------------------------------------
# Testing & Development Helpers
# -----------------------------------------------------------------------------
# Create test data on startup
CREATE_TEST_DATA=false

# Skip certain validations in development
SKIP_EMAIL_VERIFICATION=true

# Allow insecure passwords in development
ALLOW_WEAK_PASSWORDS=false
